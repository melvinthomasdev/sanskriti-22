console.log("%cAKFN - Mutek - 2019","color:#fff; background-color:#000; padding:5px 10px; font-size:14px;"),function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=256)}({0:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,r;return t=e,r=[{key:"emit",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.eventsList[t];if(n)for(var r=0,o=n.length;r<o;r++)n[r].fn(i);else e.debug&&console.warn("EventsManager :: Emit :: Currently no listeners for this event : ",t)}},{key:"on",value:function(t,i){t&&""!==t||(e.debug?console.warn("EventsManager :: EMPTY EVENT ::",t):e.debug&&console.log("%cEventsManager :: ON :: ".concat(t),"color:#BBB;")),e.eventsList[t]||(e.eventsList[t]=[]),e.eventsList[t].push({fn:i})}},{key:"once",value:function(t,i){var n=function n(r){e.off(t,n),i(r)};n._=i,e.on(t,n)}},{key:"off",value:function(t,i){var n=e.eventsList[t];if(n)if(i){e.debug&&console.log("%cEventsManager :: OFF :: ".concat(t),"color:#BBB;");for(var r=[],o=0,s=n.length;o<s;o++){var a=n[o];a.fn!==i&&a.fn._!==i&&r.push(a)}r.length>0?e.eventsList[t]=r:delete e.eventsList[t]}else e.debug&&console.warn("EventsManager :: Off :: Callback is undefined",t);else e.debug&&console.warn("EventsManager :: Off :: Currently no listeners for this event : ",t)}},{key:"verbose",value:function(t){e.debug=t}}],(i=null)&&n(t.prototype,i),r&&n(t,r),e}();r.eventsList={},r.debug=!1,t.a=r},1:function(e,t,i){"use strict";var n;function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=(r(n={HEADER_HIDE:"HEADER_HIDE",HEADER_SHOW:"HEADER_SHOW",HEADER_HIDE_DONE:"HEADER_HIDE_DONE",HEADER_SHOW_DONE:"HEADER_SHOW_DONE"},"HEADER_SHOW","HEADER_SHOW"),r(n,"HEADER_MENU_CLOSE","HEADER_MENU_CLOSE"),r(n,"HEADER_MENU_OPEN","HEADER_MENU_OPEN"),r(n,"HEADER_NAV_CHANGE","HEADER_NAV_CHANGE"),r(n,"LOADER_DISPLAY","@router / LOADER_DISPLAY"),r(n,"LOADER_HIDE","@router / LOADER_HIDE"),r(n,"TRANSITION_TITLE","@transition / TRANSITION_TITLE"),r(n,"TRANSITION_SINGLE_TITLE","@transition / TRANSITION_SINGLE_TITLE"),r(n,"TRANSITION_SINGLE_TITLE_RESET_LISTENERS","@transition / TRANSITION_SINGLE_TITLE_RESET_LISTENERS"),r(n,"FILTER_RESET_POS","@transition / FILTER_RESET_POS"),r(n,"FEED_LEAVE_CURSOR","@transition / FEED_LEAVE_CURSOR"),r(n,"FEED_HOVER_CURSOR","@transition / FEED_HOVER_CURSOR"),r(n,"FEED_BLOCK_CLICK","@transition / FEED_BLOCK_CLICK"),r(n,"FEED_PAGE_CLOSE","@transition / FEED_PAGE_CLOSE"),r(n,"FEED_ENTER","@transition / FEED_ENTER"),r(n,"FEED_DNA_LEAVE","@transition / FEED_DNA_LEAVE"),r(n,"FEED_DNA_ENTER","@transition / FEED_DNA_ENTER"),r(n,"FEED_LEAVE","@transition / FEED_LEAVE"),r(n,"FEED_LOADMORE_COMPLETE","@transition / FEED_LOADMORE_COMPLETE"),r(n,"FEED_TO_FEED","@transition / FEED_TO_FEED"),r(n,"SINGLE_M_POSITON","@transition / SINGLE_M_POSITON"),r(n,"FEED_BLOCK_HOVER","@transition / FEED_BLOCK_HOVER"),r(n,"FEED_BLOCK_LEAVE","@transition / FEED_BLOCK_LEAVE"),r(n,"CHANGE_FILTERS","@transition / CHANGE_FILTERS"),r(n,"FAQ_OPENED","FAQ_OPENED"),n);t.a=o},11:function(e,t,i){"use strict";i(33);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.verbose=!1}var t,i,r;return t=e,(i=[{key:"setView",value:function(){this.verbose&&console.log("View ".concat(this.id," :: setView")),this.$view=document.querySelector(".view__".concat(this.id))}},{key:"enter",value:function(e,t){this.setView(),this.beforeDisplay(e),this.display(e,t)}},{key:"beforeDisplay",value:function(e){this.verbose&&console.log("View ".concat(this.id," :: beforeDisplay"))}},{key:"display",value:function(e,t){t()}},{key:"willLeave",value:function(e,t){t()}},{key:"leave",value:function(e,t){this.hide(e,t)}},{key:"hide",value:function(e,t){t(),this.afterHide(e)}},{key:"afterHide",value:function(e){this.verbose&&console.log("View ".concat(this.id," :: afterHide")),this.dispose(e)}},{key:"dispose",value:function(e){this.verbose&&console.log("View ".concat(this.id," :: dispose")),this.$view=null}}])&&n(t.prototype,i),r&&n(t,r),e}();t.a=r},112:function(e,t,i){(function(t){!function(t){"use strict";var i,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=m;var h="suspendedStart",p="suspendedYield",f="executing",d="completed",v={},y={};y[s]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==n&&r.call(b,s)&&(y=b);var w=E.prototype=$.prototype=Object.create(y);S.prototype=w.constructor=E,E.constructor=S,E[l]=S.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(w),e},u.awrap=function(e){return{__await:e}},L(_.prototype),_.prototype[a]=function(){return this},u.AsyncIterator=_,u.async=function(e,t,i,n){var r=new _(m(e,t,i,n));return u.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},L(w),w[l]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},u.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=i),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),P(i),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;P(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),v}}}function m(e,t,i,n){var r=t&&t.prototype instanceof $?t:$,o=Object.create(r.prototype),s=new C(n||[]);return o._invoke=function(e,t,i){var n=h;return function(r,o){if(n===f)throw new Error("Generator is already running");if(n===d){if("throw"===r)throw o;return x()}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var a=O(s,i);if(a){if(a===v)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var l=k(e,t,i);if("normal"===l.type){if(n=i.done?d:p,l.arg===v)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=d,i.method="throw",i.arg=l.arg)}}}(e,i,s),o}function k(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function $(){}function S(){}function E(){}function L(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e){function i(t,n,o,s){var a=k(e[t],e,n);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):Promise.resolve(c).then((function(e){l.value=e,o(l)}),s)}s(a.arg)}var n;"object"==typeof t.process&&t.process.domain&&(i=t.process.domain.bind(i)),this._invoke=function(e,t){function r(){return new Promise((function(n,r){i(e,t,n,r)}))}return n=n?n.then(r,r):r()}}function O(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,O(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=k(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,v;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=i,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:i,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,i(12))},12:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},126:function(e,t,i){"use strict";var n=i(6),r=i(4),o=i(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.a,i(56)},15:function(e,t,i){"use strict";var n=i(3),r=i(4);function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window.innerWidth,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"h1",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:window.innerWidth,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"left";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onRaf=this.onRaf.bind(this),this.dispose=this.dispose.bind(this),this.onRafReverse=this.onRafReverse.bind(this),this.onResize=this.onResize.bind(this),this.$view=t,this.index=i,this.$title=this.$view.querySelector(a),this.titleWidth=this.$title.offsetWidth,this.windowWidth=l,this.widthIsWindow=!1,l==window.innerWidth&&(this.widthIsWindow=!0),this.currentPosition=0,this.speed=n,this.offset=o,this.initialActive=!0,this.duplicateActive=!1,this.initPosition=s,this.direction=c,this.init(),r.a.bind("scrolling-"+this.index,this.onResize)}var t,i,s;return t=e,(i=[{key:"onResize",value:function(){this.widthIsWindow&&(this.windowWidth=window.innerWidth),this.titleWidth=this.$title.offsetWidth,this.currentPosition=0,this.duplicateActive=!1,this.initialActive=!0,this.setInitialPosition(),this.$duplicateTitle.parentNode.removeChild(this.$duplicateTitle),this.duplicateTitle()}},{key:"init",value:function(){this.setInitialPosition(),this.duplicateTitle(),"left"==this.direction?n.a.bind("scrolling-text-"+this.index,this.onRaf):n.a.bind("scrolling-text-"+this.index,this.onRafReverse)}},{key:"onRafReverse",value:function(){this.initialActive&&(this.currentPosition+=this.speed,this.$title.style.transform="translateX(".concat(this.currentPosition,"px)")),this.duplicateActive&&(this.currentDuplicatePosition+=this.speed,this.$duplicateTitle.style.transform="translateX(".concat(this.currentDuplicatePosition,"px)")),!this.duplicateActive&&this.currentPosition>this.windowWidth-(this.titleWidth+this.offset)&&(this.duplicateActive=!0),!this.initialActive&&this.duplicateActive&&this.currentDuplicatePosition>this.windowWidth-(this.titleWidth+this.offset)&&(this.initialActive=!0),this.currentPosition>this.titleWidth&&(this.currentPosition=-this.titleWidth,this.initialActive=!1),this.currentDuplicatePosition>this.titleWidth&&(this.currentDuplicatePosition=-this.titleWidth,this.duplicateActive=!1)}},{key:"onRaf",value:function(){this.initialActive&&(this.currentPosition-=this.speed,this.$title.style.transform="translateX(".concat(this.currentPosition,"px)")),this.duplicateActive&&(this.currentDuplicatePosition-=this.speed,this.$duplicateTitle.style.transform="translateX(".concat(this.currentDuplicatePosition,"px)")),!this.duplicateActive&&this.currentPosition<this.windowWidth-(this.titleWidth+this.offset)&&(this.duplicateActive=!0),!this.initialActive&&this.duplicateActive&&this.currentDuplicatePosition<this.windowWidth-(this.titleWidth+this.offset)&&(this.initialActive=!0),this.currentPosition+this.titleWidth<0&&(this.currentPosition=this.windowWidth,this.initialActive=!1),this.currentDuplicatePosition+this.titleWidth<0&&(this.currentDuplicatePosition=this.windowWidth,this.duplicateActive=!1)}},{key:"setInitialPosition",value:function(){this.currentPosition=this.initPosition,this.$title.style.transform="translateX(".concat(this.currentPosition,"px)")}},{key:"duplicateTitle",value:function(){this.$duplicateTitle=this.$title.cloneNode(!0),this.$view.append(this.$duplicateTitle),"left"==this.direction?this.currentDuplicatePosition=this.windowWidth:this.currentDuplicatePosition=-this.titleWidth,this.$duplicateTitle.style.transform="translateX(".concat(this.currentDuplicatePosition,"px)")}},{key:"dispose",value:function(){"left"==this.direction?n.a.unbind("scrolling-text-"+this.index,this.onRaf):n.a.unbind("scrolling-text-"+this.index,this.onRafReverse),r.a.unbind("scrolling-"+this.index,this.onResize),this.$view=null,this.$title=null,this.windowWidth=null,this.titleWidth=null,this.currentPosition=null,this.speed=null,this.offset=null,this.initialActive=null,this.duplicateActive=null}}])&&o(t.prototype,i),s&&o(t,s),e}();t.a=s},16:function(e,t,i){"use strict";var n=i(2),r=i(0),o=i(11),s=i(9);function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.leavePrevView=this.leavePrevView.bind(this),this.enterNextView=this.enterNextView.bind(this),this.appendNextView=this.appendNextView.bind(this),this.removePrevView=this.removePrevView.bind(this),this.prevView=t,this.nextView=i,this.reverse=n}var t,i,l;return t=e,(i=[{key:"delay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return function(){return new s.a((function(t,i){setTimeout((function(){t()}),e)}))}}},{key:"appendNextView",value:function(){return this.prevViewExists()&&r.a.emit(n.a.Router.VIEW_ADD),s.a.resolve()}},{key:"enterNextView",value:function(){var e=this;return new s.a((function(t,i){r.a.emit(n.a.Router.VIEW_ENTER,{id:e.nextView.id}),e.nextView.enter(e.prevView.id,(function(){r.a.emit(n.a.Router.VIEW_ENTERED,{id:e.nextView.id}),t()}))})).catch((function(e){throw e}))}},{key:"leavePrevView",value:function(){var e=this;return this.prevViewExists()?new s.a((function(t,i){r.a.emit(n.a.Router.VIEW_LEAVE,{id:e.prevView.id}),e.prevView.leave(e.nextView.id,(function(){r.a.emit(n.a.Router.VIEW_LEFT,{id:e.prevView.id}),t()}))})).catch((function(e){throw e})):s.a.resolve()}},{key:"removePrevView",value:function(){return this.prevViewExists()&&r.a.emit(n.a.Router.VIEW_REMOVE,{id:this.prevView.id}),s.a.resolve()}},{key:"play",value:function(){return this.leavePrevView().then(this.appendNextView).then(this.removePrevView).then(this.enterNextView).catch(this.onError)}},{key:"prevViewExists",value:function(){return this.prevView instanceof o.a}},{key:"onError",value:function(e){if(e)throw e;throw new Error("Router :: error happened during transition.")}}])&&a(t.prototype,i),l&&a(t,l),e}();t.a=l},17:function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.players=[],this.isLoadedApi=!1;var i="https://player.vimeo.com/api/player.js";if(!(document.querySelectorAll('[src="'+i+'"]').length>0))new Promise((function(e,t){var n=document.createElement("script");n.onload=e,n.onerror=t,n.src=i,document.getElementsByTagName("head")[0].appendChild(n)})).then((function(){t.isLoadedApi=!0}))}var t,i,o;return t=e,o=[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"pauseAllPlayersExceptOneIsPlaying",value:function(t){for(var i=e.instance.players,n=t,r=0;r<i.length;r++)i[r].id!=n?(i[r].stop(),i[r].hasPoster&&i[r].displayPoster(),i[r].playerInfos.isPlaying=!1):i[r].playerInfos.isPlaying=!0}},{key:"bind",value:function(t,i){var r=e.instance.players;if("string"==typeof t)if("object"===n(i)){for(var o=0;o<r.length;o++)if(t===r[o].id)return void console.warn("VimeoManager :: Bind :: ID already used !",t);r.push(i)}else console.error("VimeoManager :: Bind :: object",i);else console.error("VimeoManager :: Bind :: Invalid ID",t)}},{key:"stopAllPlayers",value:function(){for(var t=e.instance.players,i=0;i<t.length;i++)t[i].stop(),t[i].hasPoster&&t[i].displayPoster(),t[i].isPlaying=!1}},{key:"unbind",value:function(t){var i=e.instance.players;if("string"==typeof t)for(var n=0;n<i.length;n++)t===i[n].id&&i.splice(n,1);else console.error("VimeoManager :: unBind :: Invalid ID",t)}}],(i=null)&&r(t.prototype,i),o&&r(t,o),e}();t.a=o},2:function(e,t,i){"use strict";var n={Router:{VIEW_ADD:"@navigator / VIEW_ADD",VIEW_ADDED:"@navigator / VIEW_ADDED",VIEW_REMOVE:"@navigator / VIEW_REMOVE",VIEW_REMOVED:"@navigator / VIEW_REMOVED",VIEW_ENTER:"@navigator / VIEW_ENTER",VIEW_ENTERED:"@navigator / VIEW_ENTERED",VIEW_LEAVE:"@navigator / VIEW_LEAVE",VIEW_LEFT:"@navigator / VIEW_LEFT",VIEW_LOAD:"@navigator / VIEW_LOAD",VIEW_LOADING:"@navigator / VIEW_LOADING",VIEW_LOADED:"@navigator / VIEW_LOADED",SHOW_LOADER:"@navigator / SHOW_LOADER"},Sound:{ADD:"@sound / ADD",MUTE:"@sound / MUTE",UNMUTE:"@sound / UNMUTE",TOGGLE_MUTE:"@sound / TOGGLE_MUTE",PLAY:"@sound / PLAY",STOP:"@sound / STOP",CROSSFADE:"@sound / CROSSFADE"},GoogleMap:{CLOSE_ALL_INFOBOX:"@infobox / CLOSE"},VimeoPlayer:{LOADED:"@vimeo / LOADED",PLAY:"@vimeo / PLAY",PAUSE:"@vimeo / PAUSE",STOP:"@vimeo / STOP",END:"@vimeo / END",MUTE:"@vimeo / MUTE",TRACKING:"@vimeo / TRACKING"},YoutubePlayer:{LOADED:"@youtube / LOADED",PLAY:"@youtube / PLAY",PAUSE:"@youtube / PAUSE",STOP:"@youtube / STOP",END:"@youtube / END",MUTE:"@youtube / MUTE",TRACKING:"@youtube / TRACKING"},HTML5VideoPlayer:{LOADED:"@HTML5VideoPlayer / LOADED",PLAY:"@HTML5VideoPlayer / PLAY",PAUSE:"@HTML5VideoPlayer / PAUSE",STOP:"@HTML5VideoPlayer / STOP",END:"@HTML5VideoPlayer / END",MUTE:"@HTML5VideoPlayer / MUTE",TRACKING:"@HTML5VideoPlayer / TRACKING"}};t.a=n},23:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMouseEnter=this.onMouseEnter.bind(this),this.dispose=this.dispose.bind(this),this.$view=t,this.$label=this.$view.querySelector(".btn-label"),this.$svgArrow=this.$view.querySelector("svg"),this.$svgContainer=this.$view.querySelector(".btn__svg"),!this.$svgArrow&&this.$svgContainer?(this.$svgContainer.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.85 24.85"><defs><style>.cls-1-arrow-external{fill:none;stroke:#000;stroke-miterlimit:10;}</style></defs><g id="Calque_1-2" data-name="Calque 1"><line class="cls-1-arrow-external" x1="0.35" y1="24.5" x2="24.35" y2="0.5"/><polyline class="cls-1-arrow-external" points="24.35 24.4 24.35 0.5 0.46 0.5"/></g></svg>',this.$svgArrow=this.$view.querySelector("svg")):this.$svgArrow||(this.$view.innerHTML+='<span class="btn__svg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.85 24.85"><defs><style>.cls-1-arrow-external{fill:none;stroke:#000;stroke-miterlimit:10;}</style></defs><g id="Calque_1-2" data-name="Calque 1"><line class="cls-1-arrow-external" x1="0.35" y1="24.5" x2="24.35" y2="0.5"/><polyline class="cls-1-arrow-external" points="24.35 24.4 24.35 0.5 0.46 0.5"/></g></svg></span>',this.$svgArrow=this.$view.querySelector("svg")),this.createTimeline(),this.$view.addEventListener("mouseenter",this.onMouseEnter)}var t,i,r;return t=e,(i=[{key:"createTimeline",value:function(){var e=this;this.tl=gsap.timeline({paused:!0}),this.tl.fromTo(this.$svgArrow,{x:0},{duration:.3,opacity:1,x:40,y:-40,ease:"power2.in"}),this.tl.to(this.$label,{duration:.3,opacity:1,x:40,y:-40,delay:-.15,ease:"power2.in"}),this.tl.set(this.$svgArrow,{opacity:1,x:-45,y:45}),this.tl.set(this.$label,{opacity:1,x:-45,y:45}),this.tl.to(this.$svgArrow,{duration:.3,opacity:1,x:0,y:0}),this.tl.to(this.$label,{duration:.3,opacity:1,x:0,y:0,delay:-.2,ease:"power1.out",onComplete:function(){e.$view.addEventListener("mouseenter",e.onMouseEnter)}})}},{key:"onMouseEnter",value:function(e){this.$view.removeEventListener("mouseenter",this.onMouseEnter),this.$svgArrow&&(this.$svgArrow.style=""),this.tl.seek(0),this.tl.play()}},{key:"dispose",value:function(){this.tl&&(this.tl.kill(),this.tl=null),this.$view.removeEventListener("mouseenter",this.onMouseEnter)}}])&&n(t.prototype,i),r&&n(t,r),e}();t.a=r},24:function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.players=[],this.isLoadedApi=!1;var i="https://www.youtube.com/iframe_api";if(!(document.querySelectorAll('[src="'+i+'"]').length>0))new Promise((function(e,t){var n=document.createElement("script");n.onload=e,n.onerror=t,n.src=i,document.getElementsByTagName("head")[0].appendChild(n)})).then((function(){window.onYouTubeIframeAPIReady=function(){window.YTIsLoaded=!0,t.isLoadedApi=!0}}))}var t,i,o;return t=e,o=[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"bind",value:function(t,i){var r=e.instance.players;if("string"==typeof t)if("object"===n(i)){for(var o=0;o<r.length;o++)if(t===r[o].id)return void console.warn("YoutubeManager :: Bind :: ID already used !",t);r.push(i)}else console.error("YoutubeManager :: Bind :: object",i);else console.error("YoutubeManager :: Bind :: Invalid ID",t)}},{key:"pauseAllPlayersExceptOneIsPlaying",value:function(t){for(var i=e.instance.players,n=t,r=0;r<i.length;r++)i[r].id!=n?(i[r].stop(),i[r].hasPoster&&i[r].displayPoster(),i[r].isPlaying=!1):(i[r].isPlaying=!0,!i[r].checkPercentView&&i[r].hasTracking&&i[r].percentViewed())}},{key:"stopAllPlayers",value:function(){for(var t=e.instance.players,i=0;i<t.length;i++)t[i].stop(),t[i].hasPoster&&t[i].displayPoster(),t[i].playerInfos.isPlaying=!1}},{key:"unbind",value:function(t){var i=e.instance.players;if("string"==typeof t)for(var n=0;n<i.length;n++)t===i[n].id&&i.splice(n,1);else console.error("YoutubeManager :: unBind :: Invalid ID",t)}}],(i=null)&&r(t.prototype,i),o&&r(t,o),e}();t.a=o},256:function(e,t,i){i(112),e.exports=i(306)},3:function(e,t,i){"use strict";i(55);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=this.update.bind(this),this.binders=[],this.raf=null,this.now=Date.now(),this.time=this.now,this.deltaTime=0,window.NSFW.RafDebug=e.debug}var t,i,r;return t=e,r=[{key:"start",value:function(){e.INSTANCE||(e.INSTANCE=new e),window.NSFW.isRafManagerStarted=!0,e.INSTANCE.update()}},{key:"stop",value:function(){window.cancelAnimationFrame(e.INSTANCE.raf),window.NSFW.isRafManagerStarted=!1}},{key:"bind",value:function(t,i){var n=e.INSTANCE;if("string"==typeof t)if("function"==typeof i){for(var r=0,o=n.binders.length;r<o;r++)if(n.binders[r].id===t)return void console.warn("RafManager :: Bind :: ID already used !",t);e.INSTANCE.binders.push({id:t,fn:i})}else console.error("RafManager :: Bind :: Invalid Function",i);else console.error("RafManager :: Bind :: Invalid ID",t)}},{key:"unbind",value:function(t){for(var i=e.INSTANCE,n=0,r=i.binders.length;n<r;n++)if(i.binders[n].id===t){i.binders.splice(n,1);break}}},{key:"debug",value:function(){console.table(e.INSTANCE.binders)}}],(i=[{key:"update",value:function(){this.now=Date.now(),this.deltaTime=this.now-this.time,this.time=this.now;for(var e=0,t=this.binders.length;e<t;e++)this.binders[e].fn(this.deltaTime);this.raf=window.requestAnimationFrame(this.update)}}])&&n(t.prototype,i),r&&n(t,r),e}();t.a=r},306:function(e,t,i){"use strict";i.r(t);var n=i(4),r=i(87),o=i(54),s=i(55),a=i(7),l=i(3),c=i(32),u=i(56),p=i(24),f=i(17),d=i(33),v=i(16),y=i(1),g=i(0);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e,i){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,k(t).call(this,e,i))).hideLoader=(n=r).hideLoader.bind(n),r.displayLoader=(n=r).displayLoader.bind(n),r.prevView=e,r.nextView=i,r}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,e),i=t,(n=[{key:"displayLoader",value:function(){var e=this;return new Promise((function(t,i){g.a.emit(y.a.LOADER_DISPLAY,{onComplete:t,nextView:e.nextView})}))}},{key:"hideLoader",value:function(){var e=this;return new Promise((function(t,i){g.a.emit(y.a.LOADER_HIDE,{onComplete:t,nextView:e.nextView})}))}},{key:"play",value:function(){return this.displayLoader().then(this.leavePrevView).then(this.load).then(this.appendNextView).then(this.removePrevView).then((function(){return new Promise((function(e,t){NSFW.scrollBar.scrollTo(0,0,0),e()}))})).then(this.enterNextView).then(this.hideLoader)}}])&&w(i.prototype,n),r&&w(i,r),t}(v.a),E=i(11);function L(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onScroll=this.onScroll.bind(this),this.dispose=this.dispose.bind(this),this.updateBlockHeight=this.updateBlockHeight.bind(this),this.$el=t,this.index=i,this.offset=49,this.color=this.$el.getAttribute("data-header-color"),this.posYDown=this.$el.getBoundingClientRect().top,this.posYUp=this.$el.getBoundingClientRect().bottom,this.blockHeight=this.$el.clientHeight,a.a.bind("section-color-"+this.index,this.onScroll),this.updateBlockHeight()}var t,i,n;return t=e,(i=[{key:"updateBlockHeight",value:function(){this.blockHeight=this.$el.clientHeight}},{key:"onScroll",value:function(){this.$el?(this.posYDown=this.$el.getBoundingClientRect().top+NSFW.currentScrollTop,this.posYUp=this.$el.getBoundingClientRect().bottom+NSFW.currentScrollTop):a.a.unbind("section-color-"+this.index,this.onScroll),"up"===NSFW.currentScrollDirection?document.documentElement.scrollTop<this.posYUp-this.offset&&document.documentElement.scrollTop>this.posYUp-this.offset-this.blockHeight&&g.a.emit(y.a.HEADER_NAV_CHANGE,this.color):document.documentElement.scrollTop>this.posYDown-this.offset&&document.documentElement.scrollTop<this.posYDown-this.offset+this.blockHeight&&g.a.emit(y.a.HEADER_NAV_CHANGE,this.color)}},{key:"dispose",value:function(){a.a.unbind("section-color-"+this.index,this.onScroll),this.onScroll=null,this.$el=null,this.index=null,this.offset=null,this.color=null,this.posY=null}}])&&L(t.prototype,i),n&&L(t,n),e}();function O(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$view=t,this.$sections=this.$view.querySelectorAll("[data-header-color]"),this.sectionsComponent=[],this.setSectionsComponent()}var t,i,n;return t=e,(i=[{key:"setSectionsComponent",value:function(){for(var e=0;e<this.$sections.length;e++){var t=this.$sections[e],i=new _(t,e);this.sectionsComponent.push(i)}}},{key:"dispose",value:function(){for(var e=0;e<this.sectionsComponent.length;e++)this.sectionsComponent[e].dispose();this.$view=null,this.$sections=null,this.sectionsComponent=null}}])&&O(t.prototype,i),n&&O(t,n),e}(),P=i(57),C=i(23);function A(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMouseEnter=this.onMouseEnter.bind(this),this.dispose=this.dispose.bind(this),this.$view=t,this.$label=this.$view.querySelector(".btn-label"),this.createTimeline(),this.$view.addEventListener("mouseenter",this.onMouseEnter)}var t,i,n;return t=e,(i=[{key:"createTimeline",value:function(){var e=this;this.tl=gsap.timeline({paused:!0}),this.tl.to(this.$label,{duration:.3,opacity:1,x:40,y:-40,ease:"power2.in"}),this.tl.set(this.$label,{opacity:1,x:-45,y:45}),this.tl.to(this.$label,{duration:.3,opacity:1,x:0,y:0,ease:"power1.out",onComplete:function(){e.$view.addEventListener("mouseenter",e.onMouseEnter)}})}},{key:"onMouseEnter",value:function(e){this.$view.removeEventListener("mouseenter",this.onMouseEnter),this.tl.seek(0),this.tl.play()}},{key:"dispose",value:function(){this.tl&&(this.tl.kill(),this.tl=null),this.$view.removeEventListener("mouseenter",this.onMouseEnter)}}])&&A(t.prototype,i),n&&A(t,n),e}(),M=i(58),N=i(84);function j(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onLinkClick=this.onLinkClick.bind(this),this.$internalLinks=document.querySelectorAll("[data-hero-title]"),this.addListeners()}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){for(var e=0;e<this.$internalLinks.length;e++)this.$internalLinks[e].addEventListener("click",this.onLinkClick)}},{key:"onLinkClick",value:function(e){if(1!=e.ctrlKey&&"_blank"!=e.currentTarget.getAttribute("target")){var t=e.currentTarget.getAttribute("data-hero-title");g.a.emit(y.a.TRANSITION_TITLE,t)}}},{key:"dispose",value:function(){for(var e=0;e<this.$internalLinks.length;e++)this.$internalLinks[e].removeEventListener("click",this.onLinkClick)}}])&&j(t.prototype,i),n&&j(t,n),e}();function R(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$view=t,this.$body=document.querySelector("body"),this.siteTimezone=this.$body.dataset.siteTimezone,this.dateType=this.$view.dataset.dateType,console.log(this.$view.dataset.dateCompare),this.compareDate="0"!=this.$view.dataset.dateCompare,this.timeString=this.$view.dataset.dateTime?this.$view.dataset.dateTime:"","single"==this.dateType?this.startDate=this.$view.dataset.date:(this.startDate=this.$view.dataset.startDate,this.endDate=this.$view.dataset.endDate),this.startDate&&this.convertDate()}var t,i,n;return t=e,(i=[{key:"convertDate",value:function(){var e=new Intl.DateTimeFormat("en-US",{day:"numeric",timeZone:this.siteTimezone}).format(new Date(1e3*this.startDate)),t=new Date(1e3*this.startDate),i=t.getDate()-e;if("single"==this.dateType)this.$view.innerHTML=this.formatDate(t,this.compareDate)+this.getCompare(i);else{var n=new Date(1e3*this.endDate);this.$view.innerHTML=this.formatDate(t,!1)+'<span class="underscore">_</span>'+this.formatDate(n,this.compareDate,i)+this.getCompare(i)}}},{key:"getCompare",value:function(e){return e>0&&this.compareDate?" (+"+e+")":e<0&&this.compareDate?" ("+e+")":this.timeString.length>0?" <small class='caption'>"+this.timeString+"</small>":""}},{key:"formatDate",value:function(e,t){return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+(t?" "+this.getGMTTimeZone(e):"")}},{key:"getGMTTimeZone",value:function(e){var t="",i=-e.getTimezoneOffset()/60*100;return i>=0&&(t+="+"),"GMT"+(t+=(Math.abs(i)<100?"0.":"")+i/100)}}])&&R(t.prototype,i),n&&R(t,n),e}(),q=i(15);var W=i(6);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t,i){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=H(this,U(t).call(this,e,i,r))).$view=i,n.$svgArrow=n.$view.querySelector("svg"),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){V(U(t.prototype),"display",this).call(this),this.tl=gsap.timeline(),this.tl.to(this.$svgArrow,{duration:.3,opacity:0,x:30,y:-30,delay:.3}),this.tl.set(this.$svgArrow,{opacity:0,x:-15,y:15}),this.tl.to(this.$svgArrow,{duration:.3,opacity:1,x:0,y:0})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){V(U(t.prototype),"dispose",this).call(this),this.tl&&(this.tl.kill(),this.tl=null)}}])&&B(i.prototype,n),r&&B(i,r),t}(W.a);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e,t,i){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=K(this,Z(t).call(this,e,i,r))).$view=i,n.$svgArrow=n.$view.querySelector("svg"),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){J(Z(t.prototype),"display",this).call(this),this.tl=gsap.timeline(),this.tl.to(this.$svgArrow,{duration:.3,opacity:0,x:30,delay:.3}),this.tl.set(this.$svgArrow,{opacity:0,x:-15}),this.tl.to(this.$svgArrow,{duration:.3,opacity:1,x:0})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){J(Z(t.prototype),"dispose",this).call(this),this.tl&&(this.tl.kill(),this.tl=null)}}])&&X(i.prototype,n),r&&X(i,r),t}(W.a);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e,t,i){return(re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ne(this,oe(t).call(this,e,i,r))).$view=i,n.$svgArrow=n.$view.querySelector("svg"),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){re(oe(t.prototype),"display",this).call(this),this.tl=gsap.timeline(),this.tl.to(this.$svgArrow,{duration:.3,opacity:0,y:30,delay:.3}),this.tl.set(this.$svgArrow,{opacity:0,y:-15}),this.tl.to(this.$svgArrow,{duration:.3,opacity:1,y:0})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){re(oe(t.prototype),"dispose",this).call(this),this.tl&&(this.tl.kill(),this.tl=null)}}])&&ie(i.prototype,n),r&&ie(i,r),t}(W.a);function le(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ce=function(){function e(t,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$footerDesktop=t,this.$footerMobile=i,this.$swiperContainerDesktop=this.$footerDesktop.querySelector(".swiper-container"),this.$swiperContainerMobile=this.$footerMobile.querySelector(".swiper-container"),this.$slidesDesktop=this.$swiperContainerDesktop.querySelectorAll(".swiper-slide"),this.$slidesMobile=this.$swiperContainerMobile.querySelectorAll(".swiper-slide"),this.countSlidesDesktop=this.$slidesDesktop.length,this.countSlidesMobile=this.$slidesMobile.length,this.countSlidesDesktop>3)this.initSwipersDesktop();else for(var n=0;n<this.$slidesDesktop.length;n++){this.$slidesDesktop[n].style.marginRight="40px"}if(this.countSlidesMobile>2)this.initSwipersMobile();else for(var r=0;r<this.$slidesMobile.length;r++){this.$slidesMobile[r].style.marginRight="40px"}}var t,i,n;return t=e,(i=[{key:"initSwipersDesktop",value:function(){this.swiperDesktop=new Swiper(this.$swiperContainerDesktop,{autoplay:{delay:0,stopOnLastSlide:!1,disableOnInteraction:!1},spaceBetween:60,loop:!0,slidesPerView:"auto",freeMode:!0,speed:3e3,allowTouchMove:!1})}},{key:"initSwipersMobile",value:function(){this.swiperMobile=new Swiper(this.$swiperContainerMobile,{autoplay:{delay:0,stopOnLastSlide:!1,disableOnInteraction:!1},spaceBetween:20,loop:!0,slidesPerView:"auto",freeMode:!0,speed:3e3,allowTouchMove:!1})}},{key:"dispose",value:function(){this.swiperMobile&&this.swiperMobile.destroy(),this.swiperDesktop&&this.swiperDesktop.destroy()}}])&&le(t.prototype,i),n&&le(t,n),e}();function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e,t,i){return(fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=de(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){function t(e,i){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=pe(this,de(t).call(this,e,i,o))).dispose=(n=r).dispose.bind(n),r.$view=i,r.$lineHorizontal=r.$view.querySelector(".footer-main__line--horizontal"),r.$lineVertical=r.$view.querySelector(".footer-main__line--vertical"),r}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){fe(de(t.prototype),"display",this).call(this),gsap.to(this.$lineHorizontal,{duration:1,scaleX:1,delay:.1}),gsap.to(this.$lineVertical,{duration:.8,scaleY:1,delay:.4})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){fe(de(t.prototype),"dispose",this).call(this),this.$view=null}}])&&he(i.prototype,n),r&&he(i,r),t}(W.a);function ge(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var be=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.animateDesktopScrollTop=this.animateDesktopScrollTop.bind(this),this.createScrollTopTimeline=this.createScrollTopTimeline.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.onMouseEnterLink=this.onMouseEnterLink.bind(this),this.onMouseLeaveLink=this.onMouseLeaveLink.bind(this),this.toggleBannerMobile=this.toggleBannerMobile.bind(this),this.$footerDesktop=document.querySelector(".footer-main__desktop"),this.$footerMobile=document.querySelector(".footer-main__mobile"),this.$btnScrollTopDesktop=document.querySelector(".footer-main__desktop .footer-main__middle-app-arrow svg"),this.$btnScrollTopDesktopContainer=document.querySelector(".footer-main__desktop .footer-main__middle-app-arrow-container"),this.$btnScrollTopMobile=document.querySelector(".footer-main__mobile .footer-main__middle-app-arrow svg"),this.$footerLinesContainer=this.$footerDesktop.querySelector(".footer-main__logos"),this.$footerDesktopPrimaryLinks=this.$footerDesktop.querySelectorAll(".footer-main__middle-link-primary"),this.$footerDesktopPrimaryLinksSvg=this.$footerDesktop.querySelectorAll(".footer-main__middle-link-primary svg"),this.$footerMobileBanner=this.$footerMobile.querySelector(".banner-links-footer"),this.isBannerMobileOpen=!1,this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.$footerDesktop&&this.$footerMobile&&(this.footerLogos=new ce(this.$footerDesktop,this.$footerMobile)),this.footerLinesAnimation=new ye("footer-lines",this.$footerLinesContainer),this.$btnScrollTopDesktopContainer&&this.$btnScrollTopDesktopContainer.addEventListener("mouseenter",this.animateDesktopScrollTop),this.$btnScrollTopDesktop&&this.$btnScrollTopDesktop.addEventListener("click",this.scrollToTop),this.$btnScrollTopMobile&&this.$btnScrollTopMobile.addEventListener("click",this.scrollToTop),this.$footerMobileBanner&&this.$footerMobileBanner.addEventListener("click",this.toggleBannerMobile);for(var e=0;e<this.$footerDesktopPrimaryLinks.length;e++){var t=this.$footerDesktopPrimaryLinks[e];t.addEventListener("mouseenter",this.onMouseEnterLink),t.addEventListener("mouseleave",this.onMouseLeaveLink)}this.createScrollTopTimeline()}},{key:"toggleBannerMobile",value:function(e){if(this.isBannerMobileOpen){var t=e.currentTarget,i=e.currentTarget.querySelector(".banner-links-footer__title");gsap.to(i,{duration:.3,css:{transform:"translateY(0px)",zIndex:""}}),gsap.set(t,{css:{position:"absolute"}}),t.classList.remove("opened"),this.isBannerMobileOpen=!1,this.$footerMobile.style.paddingBottom=""}else{var n=e.currentTarget,r=e.currentTarget.querySelector(".banner-links-footer__title");gsap.to(r,{duration:.3,css:{transform:"translateY(calc(-100% + 55px))",zIndex:-1}}),gsap.set(n,{css:{position:"relative"}}),n.classList.add("opened"),this.isBannerMobileOpen=!0,this.$footerMobile.style.paddingBottom="0"}}},{key:"onMouseEnterLink",value:function(e){var t=e.currentTarget.querySelector("svg");gsap.fromTo(t,{x:-62},{duration:.6,x:0,ease:"power4.out"})}},{key:"onMouseLeaveLink",value:function(e){var t=e.currentTarget.querySelector("svg");gsap.to(t,{duration:.6,x:62,ease:"power4.out"})}},{key:"scrollToTop",value:function(){NSFW.scrollBar.instantScrollTo(0,0)}},{key:"createScrollTopTimeline",value:function(){var e=this;this.tl=gsap.timeline({paused:!0}),this.tl.to(this.$btnScrollTopDesktop,{duration:.3,y:-100,ease:"power2.in"}),this.tl.set(this.$btnScrollTopDesktop,{y:100}),this.tl.to(this.$btnScrollTopDesktop,{duration:.6,ease:"power4.out",y:0,onComplete:function(){e.$btnScrollTopDesktopContainer.addEventListener("mouseenter",e.animateDesktopScrollTop)}})}},{key:"animateDesktopScrollTop",value:function(e){this.$btnScrollTopDesktopContainer.removeEventListener("mouseenter",this.animateDesktopScrollTop),this.tl.seek(0),this.tl.play()}},{key:"dispose",value:function(){for(var e=0;e<this.$footerDesktopPrimaryLinks.length;e++){var t=this.$footerDesktopPrimaryLinks[e];t.removeEventListener("mouseenter",this.onMouseEnterLink),t.removeEventListener("mouseleave",this.onMouseLeaveLink)}this.$btnScrollTopDesktopContainer.removeEventListener("mouseenter",this.animateDesktopScrollTop),this.tl.kill(),this.tl=null,this.footerLogos&&this.footerLogos.dispose(),this.$btnScrollTopDesktop&&this.$btnScrollTopDesktop.removeEventListener("click",this.scrollToTop)}}])&&ge(t.prototype,i),n&&ge(t,n),e}(),we=i(45);function me(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ke=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stop=this.stop.bind(this),this.play=this.play.bind(this),this.onRaf=this.onRaf.bind(this),this.dispose=this.dispose.bind(this),this.$view=t,this.$title=this.$view.querySelector(".dynamic-banner__label-wrapper"),this.index=this.$view.getAttribute("data-index"),this.canvasIndex=n,this.windowWidth=i,this.titleWidth=this.$title.offsetWidth,this.currentPosition=0,this.speed=1,this.initialActive=!0,this.duplicateActive=!1,this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.setInitialPosition(),this.duplicateTitle(),this.$labels=this.$title.parentNode.querySelectorAll(".dynamic-banner__label"),l.a.bind("scrolling-text-"+this.index+"-"+this.canvasIndex,this.onRaf)}},{key:"setInitialPosition",value:function(){this.currentPosition=0,this.$title.style.transform="translateX(".concat(this.currentPosition,"px)")}},{key:"duplicateTitle",value:function(){this.$duplicateTitle=this.$title.cloneNode(!0),this.$view.append(this.$duplicateTitle),this.currentDuplicatePosition=this.windowWidth,this.$duplicateTitle.style.transform="translateX(".concat(this.currentDuplicatePosition,"px)")}},{key:"onRaf",value:function(){this.initialActive&&(this.currentPosition-=this.speed,this.$title.style.transform="translateX(".concat(this.currentPosition,"px)")),this.duplicateActive&&(this.currentDuplicatePosition-=this.speed,this.$duplicateTitle.style.transform="translateX(".concat(this.currentDuplicatePosition,"px)")),!this.duplicateActive&&this.currentPosition<this.windowWidth-this.titleWidth&&(this.duplicateActive=!0),!this.initialActive&&this.duplicateActive&&this.currentDuplicatePosition<this.windowWidth-this.titleWidth&&(this.initialActive=!0),this.currentPosition+this.titleWidth<0&&(this.currentPosition=this.windowWidth,this.initialActive=!1),this.currentDuplicatePosition+this.titleWidth<0&&(this.currentDuplicatePosition=this.windowWidth,this.duplicateActive=!1)}},{key:"stop",value:function(){gsap.to(this.$view,{duration:.6,opacity:1,y:-50})}},{key:"play",value:function(){gsap.fromTo(this.$view,{opacity:1,y:50},{duration:.9,opacity:1,y:0})}},{key:"dispose",value:function(){l.a.unbind("scrolling-text-"+this.index+"-"+this.canvasIndex,this.onRaf)}}])&&me(t.prototype,i),n&&me(t,n),e}();function $e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Se=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.$view=t,this.$view&&(this.$banners=this.$view.querySelectorAll(".dynamic-banner__wrapper")),this.banners=[],this.currentIndex=0,this.canvasIndex=i,this.$view&&this.initComponents()}var t,i,n;return t=e,(i=[{key:"initComponents",value:function(){for(var e=0;e<this.$banners.length;e++){var t=this.$banners[e];this.banners.push(new ke(t,this.$view.offsetWidth,this.canvasIndex)),0==e&&this.banners[0].play()}}},{key:"switch",value:function(e){if(e!=this.currentIndex){this.banners[this.currentIndex].stop();for(var t=e,i=0;i<this.banners.length;i++){var n=this.banners[i];n.index==t&&n.play()}this.currentIndex=t}}},{key:"dispose",value:function(){for(var e=0;e<this.banners.length;e++)this.banners[e].dispose()}}])&&$e(t.prototype,i),n&&$e(t,n),e}();function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _e(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=function(e){function t(e){var i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_e(this,Oe(t).call(this))).dispose=(i=n).dispose.bind(i);var r=new THREE.PlaneGeometry(.59,.83);n.bisTextureActive=!1,n.textures=[];for(var o=0;o<e.length;o++)n.textures[o]=(new THREE.TextureLoader).load(e[o].src,(function(e){e.wrapT=THREE.RepeatWrapping}));n.displacements=[(new THREE.TextureLoader).load("https://medias.mutek.org/assets/slider/01.png",(function(e){e.wrapT=THREE.RepeatWrapping})),(new THREE.TextureLoader).load("https://medias.mutek.org/assets/slider/02.png",(function(e){e.wrapT=THREE.RepeatWrapping})),(new THREE.TextureLoader).load("https://medias.mutek.org/assets/slider/03.png",(function(e){e.wrapT=THREE.RepeatWrapping})),(new THREE.TextureLoader).load("https://medias.mutek.org/assets/slider/04.png",(function(e){e.wrapT=THREE.RepeatWrapping})),(new THREE.TextureLoader).load("https://medias.mutek.org/assets/slider/05.png",(function(e){e.wrapT=THREE.RepeatWrapping}))],n.uniforms={uTime:{value:0},uProgressGlobal:{value:0},uProgress:{value:0},uProgressBis:{value:0},uSaturation:{value:0},uInvert:{value:0},uAlpha:{value:1},uTexture:{value:n.textures[0]},uTextureBis:{value:n.textures[1]},uDisplacement:{value:n.displacements[3]}};var s=new THREE.ShaderMaterial({uniforms:n.uniforms,fragmentShader:document.querySelector("#fragmentShader").textContent,vertexShader:document.querySelector("#vertexShader").textContent,side:THREE.FrontSide,transparent:!0});return n.mesh=new THREE.Mesh(r,s),n.add(n.mesh),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,THREE.Group),i=t,(n=[{key:"switchTexture",value:function(e){this.bisTextureActive?(this.uniforms.uTexture={value:this.textures[e]},this.uniforms.uDisplacement={value:this.displacements[Math.round(Math.random()*(this.displacements.length-1))]},gsap.fromTo(this.uniforms.uProgress,{value:1},{value:0,duration:2.3,ease:"power2.easeIn"}),gsap.fromTo(this.uniforms.uProgressBis,{value:0},{value:-1,duration:1.9,ease:"power2.easeIn"}),gsap.fromTo(this.uniforms.uProgressGlobal,{value:1},{value:0,duration:2.3,ease:"power2.easeIn"}),this.bisTextureActive=!1):(this.uniforms.uTextureBis={value:this.textures[e]},this.uniforms.uDisplacement={value:this.displacements[Math.round(Math.random()*(this.displacements.length-1))]},gsap.fromTo(this.uniforms.uProgressBis,{value:1},{value:0,duration:2.3,ease:"power2.easeIn"}),gsap.fromTo(this.uniforms.uProgress,{value:0},{value:-1,duration:2.3,ease:"power2.easeIn"}),gsap.fromTo(this.uniforms.uProgressGlobal,{value:0},{value:1,duration:2.3,ease:"power2.easeIn"}),this.bisTextureActive=!0)}},{key:"update",value:function(e){this.uniforms.uTime.value+=.001*e}},{key:"resize",value:function(e,t){this.mesh.scale.x=window.w,this.mesh.scale.y=window.h}},{key:"dispose",value:function(){for(var e=0;e<this.textures.length;e++)this.textures[e].dispose();for(var t=0;t<this.displacements.length;t++)this.displacements[t].dispose();this.mesh.material.dispose(),this.mesh.geometry.dispose()}}])&&Le(i.prototype,n),r&&Le(i,r),t}();function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function xe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Me(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ne(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(e){var i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ne(this,je(t).call(this))).dispose=(i=n).dispose.bind(i);var r={camera:{fov:45,near:1,far:1e3,position:new THREE.Vector3(0,0,1),rotation:new THREE.Vector3(0,0,0)},renderer:{alpha:!0,antialias:!0,pixelRatio:Math.max(1,Math.min(window.devicePixelRatio,2))}};return n.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(i),!0).forEach((function(t){xe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},r,{},e),n.container=n.options.container,n.width=n.container.offsetWidth,n.height=n.container.offsetHeight,n.renderer=new THREE.WebGLRenderer(n.options.renderer),n.renderer.setSize(n.width,n.height),n.renderer.setClearAlpha(0),n.container.appendChild(n.renderer.domElement),n.camera=new THREE.PerspectiveCamera(n.options.camera.fov,n.width/n.height,n.options.camera.near,n.options.camera.far),n.camera.position.copy(n.options.camera.position),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,THREE.Scene),i=t,(n=[{key:"render",value:function(e){this.renderer.render(this,this.camera)}},{key:"resize",value:function(e,t,i){var n=e/t;this.camera.aspect=n,this.camera.updateProjectionMatrix();var r=this.camera.fov*Math.PI/180;window.h=Math.ceil(2*Math.tan(r/2)*this.camera.position.z),window.w=Math.ceil(h*n),this.renderer.setSize(e,t)}},{key:"dispose",value:function(){this.renderer.dispose()}}])&&Me(i.prototype,n),r&&Me(i,r),t}();function Ie(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var qe=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.switch=this.switch.bind(this),this.update=this.update.bind(this),this.onResize=this.onResize.bind(this),this.dispose=this.dispose.bind(this),this.$view=t,this.$canvasContainer=this.$view,this.$images=Array.from(this.$view.querySelectorAll("img")),this.canvasIndex=i,this.currentIndex=0,this.imagesSrcs=this.$images.map((function(e){return{src:e.getAttribute("data-src"),index:e.getAttribute("data-index")}})),this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.scene=new Re({container:this.$canvasContainer}),this.container=this.$canvasContainer,this.DELTA_TIME=0,this.LAST_TIME=Date.now(),this.initMeshes(),this.initLights(),this.addListeners(),this.onResize()}},{key:"initMeshes",value:function(){this.plane=new Pe(this.imagesSrcs,this.canvasIndex),this.scene.add(this.plane)}},{key:"initLights",value:function(){this.ambientLight=new THREE.AmbientLight(1118481),this.scene.add(this.ambientLight)}},{key:"addListeners",value:function(){window.addEventListener("resize",this.onResize),l.a.bind("slider-"+this.canvasIndex,this.update)}},{key:"update",value:function(){this.DELTA_TIME=Date.now()-this.LAST_TIME,this.LAST_TIME=Date.now(),this.plane.update(this.DELTA_TIME),this.scene.render(this.DELTA_TIME)}},{key:"onResize",value:function(){this.width=this.$canvasContainer.offsetWidth,this.height=this.$canvasContainer.offsetHeight,this.scene.resize(this.width,this.height),this.plane.resize(this.width,this.height)}},{key:"switch",value:function(e){e!=this.currentIndex&&(this.plane.switchTexture(e),this.currentIndex=e)}},{key:"map",value:function(e,t,i,n,r){return(e-t)/(i-t)*(r-n)+n}},{key:"dispose",value:function(){window.removeEventListener("resize",this.onResize),l.a.unbind("slider-"+this.canvasIndex,this.update),this.plane.dispose(),this.scene.dispose()}}])&&Ie(t.prototype,i),n&&Ie(t,n),e}();function We(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Fe=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.switchSlide=this.switchSlide.bind(this),this.playTl=this.playTl.bind(this),this.stopTl=this.stopTl.bind(this),this.$view=t,this.$bannerDynamic=this.$view.querySelector(".dynamic-banner"),this.$canvasWrapper=this.$view.querySelector(".single-show__slider-canvas--wrapper"),this.slidesCount=this.$view.getAttribute("data-slides-count")-1,this.currentIndex=0,this.slideSwitchDuration=4,this.canvasIndex=i,this.bannerDynamic=new Se(this.$bannerDynamic,this.canvasIndex),this.canvasSlider=new qe(this.$canvasWrapper,this.canvasIndex),this.initIntersection(),this.createTimeline(),this.tl.play()}var t,i,n;return t=e,(i=[{key:"initIntersection",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){!0===t[0].isIntersecting&&e.playTl(),!1===t[0].isIntersecting&&e.stopTl()}),{threshold:[0]}),this.observer.observe(this.$view)}},{key:"playTl",value:function(){this.tl.play()}},{key:"stopTl",value:function(){this.tl.pause()}},{key:"createTimeline",value:function(){var e=this;this.tl=gsap.timeline({repeat:-1,paused:!0}),this.tl.call(this.switchSlide),this.tl.add((function(){e.currentIndex=e.currentIndex++==e.slidesCount?0:e.currentIndex++}),"+=".concat(this.slideSwitchDuration))}},{key:"switchSlide",value:function(){this.bannerDynamic.switch(this.currentIndex),this.canvasSlider.switch(this.currentIndex)}},{key:"dispose",value:function(){this.tl&&this.tl.kill(),this.bannerDynamic.dispose(),this.canvasSlider.dispose(),this.observer.disconnect()}}])&&We(t.prototype,i),n&&We(t,n),e}();function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ve(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e,t,i){return(Ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ze(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ye=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ve(this,ze(t).call(this,e,i,r))).$view=i,n.$borders=n.$view.querySelectorAll(".single-show__border"),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){Ue(ze(t.prototype),"display",this).call(this),gsap.to(this.$borders,{duration:1.2,scaleX:1,stagger:.2})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){Ue(ze(t.prototype),"dispose",this).call(this),this.$view=null,this.$title=null,this.$image=null}}])&&He(i.prototype,n),r&&He(i,r),t}(W.a),Xe=i(88);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ze(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e,t,i){return(Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=et(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var it=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ze(this,et(t).call(this,e,i,r))).$view=i,n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){Qe(et(t.prototype),"display",this).call(this),gsap.to(this.$view,{duration:1.7,scale:1})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){Qe(et(t.prototype),"dispose",this).call(this),this.$view=null}}])&&Je(i.prototype,n),r&&Je(i,r),t}(W.a);i(126);function nt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var rt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMouseEnterLink=this.onMouseEnterLink.bind(this),this.$view=t,this.$internalLinks=this.$view.querySelectorAll(".link-list__link"),this.addListeners()}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){for(var e=0;e<this.$internalLinks.length;e++)this.$internalLinks[e].addEventListener("mouseenter",this.onMouseEnterLink)}},{key:"onMouseEnterLink",value:function(e){var t=e.currentTarget.querySelector("svg");"external"==e.currentTarget.dataset.type?(gsap.to(t,{duration:.4,x:65,y:-65,ease:"power2.out"}),gsap.fromTo(t,{x:-65,y:65},{duration:.3,x:0,y:0,ease:"power2.out",delay:.4})):"internal"==e.currentTarget.dataset.type?(gsap.to(t,{duration:.4,x:65,ease:"power2.out"}),gsap.fromTo(t,{x:-65},{duration:.3,x:0,ease:"power2.out",delay:.4})):"download"==e.currentTarget.dataset.type&&(gsap.to(t,{duration:.4,y:65,ease:"power2.out"}),gsap.fromTo(t,{y:-65},{duration:.3,y:0,ease:"power2.out",delay:.4}))}},{key:"dispose",value:function(){for(var e=0;e<this.$internalLinks.length;e++)this.$internalLinks[e].removeEventListener("mouseenter",this.onMouseEnterLink)}}])&&nt(t.prototype,i),n&&nt(t,n),e}();var ot=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$view=t;var i=this.$view.innerHTML.replace("_","<span class='underscore'>_</span>");this.$view.innerHTML=i},st=i(85),at=i(86);function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e,t,i){return(ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ut(this,pt(t).call(this,e))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,e),i=t,(n=[{key:"enter",value:function(e,i){ht(pt(t.prototype),"enter",this).call(this,e,i),window.NSFW.historyLength=window.history.length,this.pageViewTracking()}},{key:"beforeDisplay",value:function(){ht(pt(t.prototype),"beforeDisplay",this).call(this),this.$btnInternal=document.querySelectorAll(".btn-internal"),this.$btnExternal=document.querySelectorAll(".btn-external"),this.$btnNoIcon=document.querySelectorAll(".btn-no-icon"),this.$btnDownload=document.querySelectorAll(".btn-download"),this.$bannerRegular=document.querySelectorAll(".banner"),this.$showSliders=this.$view.querySelectorAll(".single-show__slider"),this.$showSingle=this.$view.querySelectorAll(".single-show"),this.$parallaxes=document.querySelectorAll(".parallax-js"),this.$zoom=document.querySelectorAll(".zoom-js"),this.$sliders=this.$view.querySelectorAll(".slider .swiper-container"),this.$hero=this.$view.querySelector("[data-hero-color]"),this.$subNav=this.$view.querySelector(".sub-nav"),this.$linkLists=this.$view.querySelectorAll(".link-list"),this.$underscore=this.$view.querySelectorAll(".underscore-js"),this.$youtubePlayers=this.$view.querySelectorAll(".component-youtube"),this.$vimeoPlayers=this.$view.querySelectorAll(".component-vimeo"),this.$headerLanguageLinks=document.querySelectorAll(".lang-switcher-link"),this.$userTimezoneHours=this.$view.querySelectorAll(".userTimezone"),this.$menuMainlinks=document.querySelectorAll(".nav-main a"),this.$newMenu=document.querySelector(".new-header-sticky"),this.btnInternals=[],this.btnInternalsAnimations=[],this.btnExternals=[],this.btnNoIcons=[],this.btnExternalsAnimations=[],this.btnDownloads=[],this.btnDownloadsAnimations=[],this.bannersRegular=[],this.showSliders=[],this.showSlidersLinesAnimation=[],this.parallaxes=[],this.zooms=[],this.cursorCustomHover=[],this.sliders=[],this.linkLists=[],this.underscore=[],this.videos=[],this.userTimezoneHours=[],this.mainLinkActive=!1,this.secondLevelLinkActive=!1,window.NSFW.programSliders=this.showSliders,window.NSFW.programSlidersLines=this.showSlidersLinesAnimation,this.initComponentsBaseView(),this.$hero&&this.initHeaderColor(),window.currentHtml&&this.changeLangSwitcherUrl(),this.initVideoPlayers(),this.setMainLinksActive()}},{key:"setMainLinksActive",value:function(){if(null!==this.$newMenu){var e=this.$newMenu.querySelectorAll(".new-header-sticky__right-links-container--links"),t=this.$newMenu.querySelectorAll(".has-sub-menu"),i=this.$newMenu.querySelectorAll(".new-header-sticky__secondary-level-links"),n=this.$newMenu.querySelectorAll(".new-header-sticky__secondary-level"),r=this.$newMenu.querySelectorAll(".new-header-sticky__secondary-level-sub-menu--link"),o=document.querySelector(".mobile-nav-main").getElementsByTagName("a"),s=document.querySelectorAll(".with-sub-menu"),a=document.querySelectorAll(".sub-with-sub-menu");if(document.body.classList.remove("sub-nav-desktop-on"),s)for(var l=0;l<s.length;l++)s[l].classList.remove("active");if(a)for(var c=0;c<a.length;c++)a[c].classList.remove("active");for(var u=0;u<o.length;u++)o[u].classList.remove("active");for(var h=0;h<e.length;h++)e[h].classList.remove("active");for(var p=0;p<i.length;p++)i[p].classList.remove("active"),i[p].classList.remove("active-parent");for(var f=0;f<r.length;f++)r[f].classList.remove("active");for(var d=0;d<n.length;d++)n[d].style.display="none",n[d].setAttribute("aria-hidden","true");for(var v=0;v<o.length;v++)o[v].href==window.location.origin+window.location.pathname&&(o[v].classList.add("active"),o[v].closest(".sub-with-sub-menu")&&o[v].closest(".sub-with-sub-menu").classList.add("active"),o[v].closest(".with-sub-menu")&&o[v].closest(".with-sub-menu").classList.add("active"));for(var y=0;y<e.length;y++)if(e[y].href==window.location.origin+window.location.pathname){if(e[y].classList.add("active"),this.mainLinkActive=!0,e[y].classList.contains("has-sub-menu"))for(var g=e[y].getAttribute("data-menu-index"),b=0;b<n.length;b++)if(n[b].getAttribute("data-menu-index")===g){for(var w=n[b].getElementsByTagName("a"),m=0;m<w.length;m++)w[m].href===e[y].href&&w[m].parentNode.parentNode.classList.add("active");n[b].style.display="flex",n[b].setAttribute("aria-hidden","false"),document.body.classList.add("sub-nav-desktop-on")}}else e[y].classList.remove("active");if(!this.mainLinkActive){for(var k=0;k<i.length;k++)if(!i[k].classList.contains("with-sub-menu-js")){var $=i[k].getElementsByTagName("a")[0];if($.href==window.location.origin+window.location.pathname){this.secondLevelLinkActive=!0;var S=i[k].parentNode.getAttribute("data-menu-index");i[k].parentNode.style.display="flex",i[k].parentNode.setAttribute("aria-hidden","false"),document.body.classList.add("sub-nav-desktop-on");for(var E=0;E<t.length;E++)t[E].getAttribute("data-menu-index")===S&&t[E].classList.add("active");$.parentNode.parentNode.classList.add("active")}else $.parentNode.parentNode.classList.remove("active")}if(!this.secondLevelLinkActive)for(var L=0;L<r.length;L++)if(r[L].href==window.location.origin+window.location.pathname){for(var _=r[L].getAttribute("data-menu-index"),O=0;O<n.length;O++)n[O].getAttribute("data-menu-index")===_&&(n[O].style.display="flex",n[O].setAttribute("aria-hidden","false"),document.body.classList.add("sub-nav-desktop-on"));for(var T=0;T<t.length;T++)t[T].getAttribute("data-menu-index")===_&&t[T].classList.add("active");r[L].classList.add("active"),r[L].parentNode.parentNode.parentNode.classList.add("active-parent")}else r[L].classList.remove("active")}}else{for(var P=0;P<this.$menuMainlinks.length;P++)this.$menuMainlinks[P].classList.remove("active");for(var C=0;C<this.$menuMainlinks.length;C++){var A=this.$menuMainlinks[C];A.href==window.location.origin+window.location.pathname?A.classList.add("active"):A.classList.remove("active")}}}},{key:"changeLangSwitcherUrl",value:function(){for(var e=window.currentHtml.querySelector(".languages"),t=0;t<this.$headerLanguageLinks.length;t++){var i=this.$headerLanguageLinks[t],n=i.getAttribute("data-lang");e.getAttribute("data-url-"+n)&&i.setAttribute("href",e.getAttribute("data-url-"+n))}}},{key:"initVideoPlayers",value:function(){for(var e=0;e<this.$vimeoPlayers.length;e++){var t=this.$vimeoPlayers[e];this.initVimeoPlayer(t,e)}for(var i=0;i<this.$youtubePlayers.length;i++){var n=this.$youtubePlayers[i];this.initYoutubePlayer(n,i)}}},{key:"initYoutubePlayer",value:function(e,t){var i=e.getAttribute("data-id");this.videos.push(new st.a(e,"yt-player-"+t,i,{autoplay:!1,mute:!1,poster:!0,loop:!1,tracking:!1,controls:!0}))}},{key:"initVimeoPlayer",value:function(e,t){var i=e.getAttribute("data-id");this.videos.push(new at.a(e,"vimeo-player-"+t,i,{autoplay:!1,muted:!1,poster:!0,loop:!1,tracking:!1}))}},{key:"initHeaderColor",value:function(){var e=this.$hero.getAttribute("data-hero-color");g.a.emit(y.a.HEADER_NAV_CHANGE,e)}},{key:"initComponentsBaseView",value:function(){for(var e=this,t=0;t<this.$underscore.length;t++){var i=this.$underscore[t];this.underscore.push(new ot(i))}this.headerColorChanger=new T(this.$view),this.footer=new be;for(var n=0;n<this.$btnInternal.length;n++)this.btnInternals.push(new P.a(this.$btnInternal[n])),this.btnInternalsAnimations.push(new ee("btn-internal-"+n,this.$btnInternal[n]));for(var r=0;r<this.$btnExternal.length;r++)this.btnExternals.push(new C.a(this.$btnExternal[r])),this.btnExternalsAnimations.push(new G("btn-external-"+r,this.$btnExternal[r]));for(var o=0;o<this.$btnNoIcon.length;o++)this.btnNoIcons.push(new x(this.$btnNoIcon[o]));for(var s=0;s<this.$btnDownload.length;s++)this.btnDownloads.push(new M.a(this.$btnDownload[s])),this.btnDownloadsAnimations.push(new ae("btn-download-"+s,this.$btnDownload[s]));for(var a=0;a<this.$bannerRegular.length;a++){var l=this.$bannerRegular[a];this.bannersRegular.push(new we.a("banner-"+a,l))}for(var c=0;c<this.$showSliders.length;c++){var u=this.$showSliders[c];this.showSliders.push(new Fe(u,c))}for(var h=0;h<this.$showSingle.length;h++){var p=this.$showSingle[h];this.showSlidersLinesAnimation.push(new Ye("show-lines-animation-"+h,p))}for(var f=0;f<this.$sliders.length;f++){var d=this.$sliders[f];this.sliders.push(new N.a(d),f)}for(var v=0;v<this.$linkLists.length;v++){var y=this.$linkLists[v];this.linkLists.push(new rt(y))}for(var g=function(t){var i=e.$parallaxes[t],n={amplitude:i.getAttribute("data-amplitude"),axis:i.getAttribute("data-axis")};setTimeout((function(){e.parallaxes.push(new Xe.a("parallax"+t,i,n))}),100)},b=0;b<this.$parallaxes.length;b++)g(b);for(var w=0;w<this.$zoom.length;w++){var m=this.$zoom[w];this.zooms.push(new it("zoom-"+w,m))}for(var k=0;k<this.$userTimezoneHours.length;k++){var $=this.$userTimezoneHours[k];this.userTimezoneHours.push(new I($))}this.subNavSwiper=new Swiper(this.$subNav,{slidesPerView:"auto",spaceBetween:30,visibilityFullFit:!0,freeMode:!0,freeModeMomentumBounce:!1,resistanceRatio:0}),this.transitionTitle=new D}},{key:"dispose",value:function(){ht(pt(t.prototype),"dispose",this).call(this);for(var e=0;e<this.videos.length;e++)this.videos[e].dispose();this.transitionSingleTitle&&this.transitionSingleTitle.dispose();for(var i=0;i<this.parallaxes.length;i++)this.parallaxes[i].dispose();for(var n=0;n<this.btnInternals.length;n++)this.btnInternals[n].dispose();for(var r=0;r<this.btnInternalsAnimations.length;r++)this.btnInternalsAnimations[r].dispose();for(var o=0;o<this.btnExternals.length;o++)this.btnExternals[o].dispose();for(var s=0;s<this.btnNoIcons.length;s++)this.btnNoIcons[s].dispose();for(var a=0;a<this.btnExternalsAnimations.length;a++)this.btnExternalsAnimations[a].dispose();for(var l=0;l<this.bannersRegular.length;l++)this.bannersRegular[l].dispose();for(var c=0;c<this.showSliders.length;c++)this.showSliders[c].dispose();for(var u=0;u<this.showSlidersLinesAnimation.length;u++)this.showSlidersLinesAnimation[u].dispose();for(var h=0;h<this.zooms.length;h++)this.zooms[h].dispose();for(var p=0;p<this.$sliders.length;p++)this.$sliders[p].dispose();for(var f=0;f<this.$linkLists.length;f++)this.$linkLists[f].dispose();this.footer&&this.footer.dispose(),this.headerColorChanger&&this.headerColorChanger.dispose()}},{key:"pageViewTracking",value:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Pageview",url:window.location.href,title:document.title})}}])&&ct(i.prototype,n),r&&ct(i,r),t}(E.a),vt=i(68),yt=i.n(vt);function gt(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function bt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var wt=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=this.update.bind(this),this.activate=this.activate.bind(this),this.$letter=t,this.index=i,this.duration=0,this.delay=2+2*Math.random(),this.limit=12+5*Math.random(),this.caracterArray=gt("abcdefghijklmnopqrstuvwxyz"),this.caracterMajArray=gt("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),this.numberArray=gt("0123456789"),this.underscoreArray=gt("___"),this.pointArray=gt("..."),this.initChar=this.$letter.innerHTML,this.caracters=[],this.isDone=!1,this.lang=document.querySelector("html").getAttribute("lang"),console.log(this.lang),"ja"==this.lang&&(this.caracterArray=gt("一二三四五六七八九十百千上下左右中大小月日年早木林山川土空田天生花草虫犬人名女男子目耳口手足見音力気円入出立休先夕本文字学校村町森正水火玉王石竹糸貝車金雨赤青白数多少万半形太細広長点丸交光角計直線矢弱強高同親母父姉兄弟妹自友体毛頭顔首心時曜朝昼夜分週春夏秋冬今新古間方北南東西遠近前後内外場地国園谷野原里市京風雪雲池海岩星室戸家寺通門道話言答声聞語読書記紙画絵図工教晴思考知才理算作元食肉馬牛魚鳥羽鳴麦米茶色黄黒来行帰歩走止活店買売午汽弓回会組船明社切電毎合当台楽公引科歌刀番用何"),this.caracterMajArray=gt("一二三四五六七八九十百千上下左右中大小月日年早木林山川土空田天生花草虫犬人名女男子目耳口手足見音力気円入出立休先夕本文字学校村町森正水火玉王石竹糸貝車金雨赤青白数多少万半形太細広長点丸交光角計直線矢弱強高同親母父姉兄弟妹自友体毛頭顔首心時曜朝昼夜分週春夏秋冬今新古間方北南東西遠近前後内外場地国園谷野原里市京風雪雲池海岩星室戸家寺通門道話言答声聞語読書記紙画絵図工教晴思考知才理算作元食肉馬牛魚鳥羽鳴麦米茶色黄黒来行帰歩走止活店買売午汽弓回会組船明社切電毎合当台楽公引科歌刀番用何")),this.caracterArray.includes(this.initChar)?this.caracters=this.caracterArray:this.numberArray.includes(this.initChar)?this.caracters=this.numberArray:this.caracterMajArray.includes(this.initChar)?this.caracters=this.caracterMajArray:this.underscoreArray.includes(this.initChar)?this.caracters=this.underscoreArray:this.pointArray.includes(this.initChar)?this.caracters=this.pointArray:this.caracters=this.caracterArray}var t,i,n;return t=e,(i=[{key:"activate",value:function(){this.raf=window.requestAnimationFrame(this.update)}},{key:"update",value:function(){if(this.isDone)window.cancelAnimationFrame(this.raf);else{if(this.limit<this.delay)return this.$letter.innerHTML=this.initChar,void(this.isDone=!0);var e=Math.abs(Math.round(Math.random()*this.caracters.length)-1),t=this.caracters[e];this.duration+=1,this.duration>this.delay&&(this.$letter.innerHTML=t,this.duration=0,this.delay+=.2*this.delay),this.raf=window.requestAnimationFrame(this.update)}}}])&&bt(t.prototype,i),n&&bt(t,n),e}();function mt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var kt=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.letterShuffle=[],this.type=i,this.$view=t,"home"==this.type&&this.splitText()}var t,i,n;return t=e,(i=[{key:"changeTitle",value:function(e){var t=this.$view.parentNode;this.newTitle=document.createElement("span"),this.newTitle.innerHTML=e,this.$view.parentNode.removeChild(this.$view),t.appendChild(this.newTitle),this.$view=this.newTitle,this.splitText()}},{key:"hide",value:function(){"home"!=this.type&&(gsap.to(this.$view,{duration:.3,opacity:0}),this.$spans&&gsap.set(this.$spans[0].chars,{opacity:0,y:50,delay:.3}))}},{key:"show",value:function(){for(var e=0;e<this.letterShuffle.length;e++)this.letterShuffle[e].activate();"home"!=this.type&&(gsap.to(this.$view,{duration:.1,opacity:1}),gsap.set(this.$spans[0].chars,{opacity:1,y:700}),gsap.to(this.$spans[0].chars,{delay:.1,duration:.3,opacity:1,y:0,ease:"quad.out",stagger:{from:"random",amount:.3}}))}},{key:"splitText",value:function(){this.$spans=yt()({target:this.$view,by:"chars"});for(var e=0;e<this.$spans[0].chars.length;e++){var t=this.$spans[0].chars[e];this.letterShuffle.push(new wt(t,e))}}}])&&mt(t.prototype,i),n&&mt(t,n),e}();function $t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var St=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.onSlideChange=this.onSlideChange.bind(this),this.onResize=this.onResize.bind(this),this.$view=t,this.$swiperContainer=this.$view.querySelector(".swiper-container"),this.$slides=this.$view.querySelectorAll(".swiper-slide"),this.$cursorContainerPrev=document.querySelector(".swiper-prev"),this.$cursorContainerNext=document.querySelector(".swiper-next"),this.listenersAdded=!1,this.$slides.length>1){for(var i=0;i<this.$slides.length;i++)for(var r=0;r<this.$slides.length;r++){var o=document.createElement("a");this.$slides[i].querySelector(".home-hero__slider-content--bullets-wrapper").appendChild(o)}this.initSlider(),n.a.bind("home-slider",this.onResize),gsap.fromTo(this.$view.querySelector(".home-hero__slider-content--bullets-wrapper"),{y:60,opacity:0},{duration:1.5,opacity:1,y:0,delay:1.65,ease:"power2.out"})}else gsap.to(this.$cursorContainerPrev,{opacity:0,pointerEvents:"none"}),gsap.to(this.$cursorContainerNext,{opacity:0,pointerEvents:"none"})}var t,i,r;return t=e,(i=[{key:"onResize",value:function(){window.innerWidth>768?0===this.swiper.activeIndex?(gsap.to(this.$cursorContainerPrev,{opacity:0,pointerEvents:"none"}),gsap.to(this.$cursorContainerNext,{opacity:1,pointerEvents:"all"})):this.swiper.activeIndex===this.$slides.length-1?(gsap.to(this.$cursorContainerPrev,{opacity:1,pointerEvents:"all"}),gsap.to(this.$cursorContainerNext,{opacity:0,pointerEvents:"none"})):(gsap.to(this.$cursorContainerNext,{opacity:1,pointerEvents:"all"}),gsap.to(this.$cursorContainerPrev,{opacity:1,pointerEvents:"all"})):(gsap.to(this.$cursorContainerNext,{opacity:0,pointerEvents:"none"}),gsap.to(this.$cursorContainerPrev,{opacity:0,pointerEvents:"none"}))}},{key:"initSlider",value:function(){this.swiper=new Swiper(this.$swiperContainer,{slidesPerView:1,centeredSlides:!0,init:!1,speed:1e3,draggable:!0,navigation:{nextEl:this.$cursorContainerNext,prevEl:this.$cursorContainerPrev}}),this.swiper.on("init",this.onSlideChange),this.swiper.on("slideChange",this.onSlideChange),this.swiper.init()}},{key:"onSlideChange",value:function(){var e=this;if(this.onResize(),!this.listenersAdded){this.listenersAdded=!0;for(var t=0;t<this.$slides.length;t++)for(var i=this.$slides[t].querySelector(".home-hero__slider-content--bullets-wrapper").getElementsByTagName("a"),n=function(t){i[t].addEventListener("click",(function(){e.swiper.slideTo(t)}))},r=0;r<i.length;r++)n(r)}for(var o=this.$slides[this.swiper.activeIndex].querySelector(".home-hero__slider-content--bullets-wrapper").getElementsByTagName("a"),s=0;s<o.length;s++)o[s].classList.remove("active");o[this.swiper.activeIndex].classList.add("active");var a=this.$slides[this.swiper.activeIndex].querySelector("video");a&&a.play()}},{key:"dispose",value:function(){this.swiper&&(n.a.unbind("home-slider"),this.swiper.destroy())}}])&&$t(t.prototype,i),r&&$t(t,r),e}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _t(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e,t,i){return(Ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ct=function(e){function t(e,i){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=_t(this,Tt(t).call(this,e,i,o))).dispose=(n=r).dispose.bind(n),r.$view=i,r.$borderHori=r.$view.querySelector(".featured-news__featured-border"),r.$borderVert=r.$view.querySelector(".featured-news__row-border"),r}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){Ot(Tt(t.prototype),"display",this).call(this),gsap.to(this.$borderHori,{duration:.9,scaleX:1,delay:.6}),gsap.to(this.$borderVert,{duration:.9,scaleY:1,delay:.8})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){Ot(Tt(t.prototype),"dispose",this).call(this),this.$view=null}}])&&Lt(i.prototype,n),r&&Lt(i,r),t}(W.a);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mt(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e,t,i){return(Nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mt(this,jt(t).call(this,"home"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Nt(jt(t.prototype),"beforeDisplay",this).call(this),this.$title=this.$view.querySelector(".home-hero__title"),this.$newTitle=this.$view.querySelector(".home-hero__slider-content--title"),this.$description=this.$view.querySelector(".home-hero__slider-content--text"),this.$slider=this.$view.querySelector(".home-hero__slider"),this.$btn=this.$view.querySelector(".home-hero__btn"),this.$bg=this.$view.querySelector(".home-hero__bg"),this.$content=this.$view.querySelector(".home-hero__content"),this.$footer=this.$view.querySelector(".home-hero__footer"),this.$heroVideo=this.$view.querySelector(".home-hero__bg video"),this.$featuredNewsWrapper=this.$view.querySelector(".featured-news__wrapper"),this.initComponents()}},{key:"display",value:function(e,i){Nt(jt(t.prototype),"display",this).call(this,e,i),gsap.fromTo(this.$bg,{scale:1.15},{duration:1.8,scale:1,ease:"power2.out"}),gsap.fromTo(this.$title?this.$title:this.$newTitle,{y:60},{duration:1.5,y:0,ease:"power2.out"}),gsap.fromTo(this.$description,{y:60,opacity:0},{duration:1.5,y:0,opacity:1,ease:"power2.out",delay:1.65}),gsap.fromTo(this.$btn,{y:60,opacity:0},{duration:1.5,opacity:1,y:0,delay:1.65,ease:"power2.out"}),gsap.fromTo(this.$footer,{y:60},{duration:1.5,y:0,delay:.7,ease:"power2.out"}),this.textShuffle.show()}},{key:"initComponents",value:function(){this.$title?this.textShuffle=new kt(this.$title,"home"):this.$newTitle&&(this.slider=new St(this.$slider),this.textShuffle=new kt(this.$newTitle,"home")),this.$featuredNewsWrapper&&(this.featuredNewsWrapper=new Ct("featuredNews",this.$featuredNewsWrapper,"")),this.$heroVideo&&this.$heroVideo.play()}},{key:"dispose",value:function(){Nt(jt(t.prototype),"dispose",this).call(this),this.$featuredNewsWrapper&&this.featuredNewsWrapper.dispose(),this.$newTitle&&this.slider.dispose()}}])&&xt(i.prototype,n),r&&xt(i,r),t}(dt);function It(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var qt=function(){function e(t,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.setSize=this.setSize.bind(this),this.toggleFaq=this.toggleFaq.bind(this),this.needClosing=this.needClosing.bind(this),this.isOpened=!1,this.$view=t,this.index=i,this.$title=this.$view.querySelector(".faq-element__title"),this.$content=this.$view.querySelector(".faq-element__content"),this.initWidth=window.innerWidth,n.a.bind("faq-element-"+this.index,(function(){r.initWidth!==window.innerWidth&&(r.initWidth=window.innerWidth,r.isOpened&&r.toggleFaq(),setTimeout((function(){r.setSize()}),600))})),g.a.on(y.a.FAQ_OPENED,this.needClosing),this.setSize(),this.addListeners()}var t,i,r;return t=e,(i=[{key:"addListeners",value:function(){this.$title.addEventListener("click",this.toggleFaq)}},{key:"needClosing",value:function(e){this.isOpened&&e!==this.$view&&this.toggleFaq()}},{key:"toggleFaq",value:function(){var e=this;this.isOpened?(this.$title.classList.remove("faq-opened"),gsap.to(this.$content,{maxHeight:0,paddingBottom:0,duration:.4,onComplete:function(){e.isOpened=!1}})):(g.a.emit(y.a.FAQ_OPENED,this.$view),this.$title.classList.add("faq-opened"),this.isOpened=!0,gsap.to(this.$content,{maxHeight:this.$content.getAttribute("data-max"),paddingBottom:"48px",duration:.4}))}},{key:"setSize",value:function(){this.$content.style.maxHeight="unset";var e=this.$content.offsetHeight+48;this.$content.setAttribute("data-max",e),this.$content.style.maxHeight=""}},{key:"dispose",value:function(){n.a.unbind("faq-element-"+this.index),g.a.off(y.a.FAQ_OPENED),this.$title.removeEventListener("click",this.toggleFaq)}}])&&It(t.prototype,i),r&&It(t,r),e}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bt(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ht(e,t,i){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bt(this,Vt(t).call(this,"generic"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Ht(Vt(t.prototype),"beforeDisplay",this).call(this),this.$faqElements=this.$view.querySelectorAll(".faq-element"),this.faqElement=[],this.initFaq()}},{key:"initFaq",value:function(){if(this.$faqElements)for(var e=0;e<this.$faqElements.length;e++)this.faqElement[e]=new qt(this.$faqElements[e],e)}},{key:"dispose",value:function(){if(Ht(Vt(t.prototype),"dispose",this).call(this),this.$faqElements)for(var e=0;e<this.$faqElements.length;e++)this.faqElement[e].dispose()}}])&&Ft(i.prototype,n),r&&Ft(i,r),t}(dt);function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xt(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kt(e,t,i){return(Kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jt(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xt(this,Jt(t).call(this,"partners"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Kt(Jt(t.prototype),"beforeDisplay",this).call(this),this.onSubNavLinkClick=this.onSubNavLinkClick.bind(this),this.$subLinks=this.$view.querySelectorAll(".sub-nav__link[data-id]"),this.$tabParent=this.$view.querySelector(".partners__tab"),this.addListeners()}},{key:"addListeners",value:function(){for(var e=0;e<this.$subLinks.length;e++)this.$subLinks[e].addEventListener("click",this.onSubNavLinkClick)}},{key:"onSubNavLinkClick",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();for(var i=0;i<this.$subLinks.length;i++)this.$subLinks[i].classList.remove("active");e.currentTarget.classList.add("active");var n=this.$view.querySelector(".partners__logos.active"),r=e.currentTarget.getAttribute("data-id"),o=this.$view.querySelector("#"+r);this.$tabParent.style.height=n.offsetHeight+"px",gsap.to(n,{duration:.3,opacity:0,onComplete:function(){n.style.display="none",o.style.display="block",t.$tabParent.style.height=o.offsetHeight+"px",o.classList.add("active"),n.classList.remove("active"),gsap.to(o,{duration:.3,opacity:1})}})}},{key:"dispose",value:function(){Kt(Jt(t.prototype),"dispose",this).call(this);for(var e=0;e<this.$subLinks.length;e++)this.$subLinks[e].removeEventListener("click",this.onSubNavLinkClick)}}])&&Yt(i.prototype,n),r&&Yt(i,r),t}(dt);function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ti(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ii(e,t){return!t||"object"!==ei(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ni(e,t,i){return(ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ri(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var si=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ii(this,ri(t).call(this,"tickets"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){ni(ri(t.prototype),"beforeDisplay",this).call(this)}},{key:"dispose",value:function(){ni(ri(t.prototype),"dispose",this).call(this)}}])&&ti(i.prototype,n),r&&ti(i,r),t}(dt);function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function li(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ci(e,t){return!t||"object"!==ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ui(e,t,i){return(ui="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hi(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fi=function(e){function t(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ci(this,hi(t).call(this,e,i,r))).$view=i,n.$borders=n.$view.querySelectorAll(".events-item__line"),n}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(t,e),i=t,(n=[{key:"display",value:function(){ui(hi(t.prototype),"display",this).call(this),gsap.to(this.$borders,{duration:1.2,scaleX:1,stagger:.2,delay:.1})}},{key:"hide",value:function(){}},{key:"dispose",value:function(){ui(hi(t.prototype),"dispose",this).call(this),this.$view=null,this.$title=null,this.$image=null}}])&&li(i.prototype,n),r&&li(i,r),t}(W.a);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gi(e,t,i){return(gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bi(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wi(e,t){return(wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yi(this,bi(t).call(this,"events"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){gi(bi(t.prototype),"beforeDisplay",this).call(this),this.onMouseEnterDetails=this.onMouseEnterDetails.bind(this),this.onMouseLeaveDetails=this.onMouseLeaveDetails.bind(this),this.ajaxCall=this.ajaxCall.bind(this),this.getFilterUrl=this.getFilterUrl.bind(this),this.singleEventsLinesAnimation=[],this.detailsHovers=[],this.domain=document.querySelector("body").dataset.siteurl,this.activePagePast=1,this.activePageCurrent=1,this.activePageUpcoming=1,this.activePage=0,this.listing,this.loader,this.btn,this.pastBtns=[],this.pastBtnsAnimation=[],this.currentBtns=[],this.currentBtnsAnimation=[],this.upcomingBtns=[],this.upcomingBtnsAnimation=[],this.pastLines=[],this.upcomingLines=[],this.currentLines=[],this.$btnExternal,this.top,this.$eventSingle=this.$view.querySelectorAll(".program__content-item--item"),this.$pastEventsBtn=this.$view.querySelector(".past_events_load_more_btn"),this.$upcomingEventsBtn=this.$view.querySelector(".upcoming_events_load_more_btn"),this.$currentEventsBtn=this.$view.querySelector(".current_events_load_more_btn"),this.$siteId=document.querySelector(".view__events").getAttribute("data-first"),this.$catId=document.querySelector(".view__events").getAttribute("data-second"),this.initComponents(),this.addListeners()}},{key:"addListeners",value:function(){this.$pastEventsBtn&&this.$pastEventsBtn.addEventListener("click",this.ajaxCall),this.$upcomingEventsBtn&&this.$upcomingEventsBtn.addEventListener("click",this.ajaxCall),this.$currentEventsBtn&&this.$currentEventsBtn.addEventListener("click",this.ajaxCall)}},{key:"initComponents",value:function(){for(var e=0;e<this.$eventSingle.length;e++){var t=this.$eventSingle[e];this.singleEventsLinesAnimation.push(new fi("show-lines-animation-"+e,t))}}},{key:"onMouseLeaveDetails",value:function(e){e.currentTarget.closest(".events-item").classList.remove("hovered")}},{key:"onMouseEnterDetails",value:function(e){e.currentTarget.closest(".events-item").classList.add("hovered")}},{key:"getFilterUrl",value:function(e,t){return"".concat(this.domain,"ajax/eventLoadMore/").concat(this.$siteId,"/").concat(this.$catId,"/").concat(e,"/").concat(t)}},{key:"ajaxCall",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.top=NSFW.currentScrollTop,e.target.classList.contains("past_events")?(this.type="past",this.activePagePast++,this.activePage=this.activePagePast,this.listing=this.$view.querySelector(".listing_past_events:not(.loader)"),this.loader=this.$view.querySelector(".listing_past_events.loader")):e.target.classList.contains("current_events")?(this.type="current",this.activePageCurrent++,this.activePage=this.activePageCurrent,this.listing=this.$view.querySelector(".listing_current_events:not(.loader)"),this.loader=this.$view.querySelector(".listing_current_events.loader")):e.target.classList.contains("upcoming_events")&&(this.type="upcoming",this.activePageUpcoming++,this.activePage=this.activePageUpcoming,this.listing=this.$view.querySelector(".listing_upcoming_events:not(.loader)"),this.loader=this.$view.querySelector(".listing_upcoming_events.loader"));var i=this.getFilterUrl(this.type,this.activePage);gsap.to(this.loader,{duration:.3,opacity:1}),this.loader.classList.add("active"),e.currentTarget.classList.add("active"),gsap.to(this.listing,{duration:.3,opacity:0,pointerEvents:"none"}),NSFW.isDesktop&&(this.listing.style.height=this.listing.offsetHeight+"px"),fetch(i,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.text()})).then((function(e){if(t.listing.innerHTML+=JSON.parse(e).html,"past"===t.type?t.btn=t.$view.querySelector(".past_events_load_more_btn"):"current"===t.type?t.btn=t.$view.querySelector(".current_events_load_more_btn"):"upcoming"===t.type&&(t.btn=t.$view.querySelector(".upcoming_events_load_more_btn")),NSFW.isDesktop?(gsap.to(t.listing,{duration:.3,opacity:1,pointerEvents:"all",delay:.5,height:"auto"}),JSON.parse(e).more?setTimeout((function(){t.btn&&(t.btn.classList.remove("active"),t.btn.addEventListener("click",t.ajaxCall))}),500):t.btn.parentNode.style.display="none"):(gsap.to(t.listing,{duration:.3,opacity:1,pointerEvents:"all",delay:.8}),setTimeout((function(){window.scrollTo(0,t.top),JSON.parse(e).more?t.btn&&(t.btn.classList.remove("active"),t.btn.addEventListener("click",t.ajaxCall)):t.btn.parentNode.style.display="none"}),500)),gsap.to(t.loader,{duration:NSFW.isDesktop?.6:.9,opacity:0,onComplete:function(){t.loader.classList.remove("active")}}),t.$btnExternal=t.listing.querySelectorAll(".btn-external"),t.$btnExternal){for(var i=0;i<t.$btnExternal.length;i++)"past"===t.type?(t.pastBtns.push(new C.a(t.$btnExternal[i])),t.pastBtnsAnimation.push(new G("btn-external-"+t.type+"-"+t.activePage+"-"+i,t.$btnExternal[i]))):"current"===t.type?(t.currentBtns.push(new C.a(t.$btnExternal[i])),t.currentBtnsAnimation.push(new G("btn-external-"+t.type+"-"+t.activePage+"-"+i,t.$btnExternal[i]))):"upcoming"===t.type&&(t.upcomingBtns.push(new C.a(t.$btnExternal[i])),t.upcomingBtnsAnimation.push(new G("btn-external-"+t.type+"-"+t.activePage+"-"+i,t.$btnExternal[i])));t.$eventSingle=t.listing.querySelectorAll(".program__content-item--item");for(var n=0;n<t.$eventSingle.length;n++){var r=t.$eventSingle[n];"past"===t.type?t.pastLines.push(new fi("show-lines-animation-"+t.type+"-"+t.activePage+"-"+n,r)):"current"===t.type?t.currentLines.push(new fi("show-lines-animation-"+t.type+"-"+t.activePage+"-"+n,r)):"upcoming"===t.type&&t.upcomingLines.push(new fi("show-lines-animation-"+t.type+"-"+t.activePage+"-"+n,r))}}}))}},{key:"dispose",value:function(){gi(bi(t.prototype),"dispose",this).call(this),this.$pastEventsBtn&&this.$pastEventsBtn.removeEventListener("click",this.ajaxCall),this.$upcomingEventsBtn&&this.$upcomingEventsBtn.removeEventListener("click",this.ajaxCall),this.$currentEventsBtn&&this.$currentEventsBtn.removeEventListener("click",this.ajaxCall);for(var e=0;e<this.pastBtns.length;e++)this.pastBtns[e].dispose();for(var i=0;i<this.pastBtnsAnimation.length;i++)this.pastBtnsAnimation[i].dispose();for(var n=0;n<this.currentBtns.length;n++)this.currentBtns[n].dispose();for(var r=0;r<this.currentBtnsAnimation.length;r++)this.currentBtnsAnimation[r].dispose();for(var o=0;o<this.upcomingBtns.length;o++)this.upcomingBtns[o].dispose();for(var s=0;s<this.upcomingBtnsAnimation.length;s++)this.upcomingBtnsAnimation[s].dispose();for(var a=0;a<this.upcomingLines.length;a++)this.upcomingLines[a].dispose();for(var l=0;l<this.pastLines.length;l++)this.pastLines[l].dispose();for(var c=0;c<this.currentLines.length;c++)this.currentLines[c].dispose()}}])&&vi(i.prototype,n),r&&vi(i,r),t}(dt);function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Si(e,t){return!t||"object"!==ki(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ei(e,t,i){return(Ei="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Li(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Li(e){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Si(this,Li(t).call(this,"fourofour"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Ei(Li(t.prototype),"beforeDisplay",this).call(this),g.a.emit(y.a.HEADER_NAV_CHANGE,"white")}},{key:"dispose",value:function(){Ei(Li(t.prototype),"dispose",this).call(this)}}])&&$i(i.prototype,n),r&&$i(i,r),t}(dt);function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ci(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ai(e,t,i){return(Ai="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xi(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mi(e,t){return(Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ni=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ci(this,xi(t).call(this,"artists"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Ai(xi(t.prototype),"beforeDisplay",this).call(this),this.getFilterUrl=this.getFilterUrl.bind(this),this.onAlphaFilterClick=this.onAlphaFilterClick.bind(this),this.addNumberToTitle=this.addNumberToTitle.bind(this),this.onLoadMoreClick=this.onLoadMoreClick.bind(this),this.onArrowAlphaNavClick=this.onArrowAlphaNavClick.bind(this),this.toggleSub=this.toggleSub.bind(this),this.openSub=this.openSub.bind(this),this.closeSub=this.closeSub.bind(this),this.closeOther=this.closeOther.bind(this),this.toggleLocalArtist=this.toggleLocalArtist.bind(this),this.addFilter=this.addFilter.bind(this),this.goToNext=this.goToNext.bind(this),this.goToPrev=this.goToPrev.bind(this),this.goToPage=this.goToPage.bind(this),this.changeActivePage=this.changeActivePage.bind(this),this.refreshFiltersUpdated=this.refreshFiltersUpdated.bind(this),this.resetFilters=this.resetFilters.bind(this),this.editionId=this.$view.getAttribute("data-edition"),this.domain=document.querySelector("body").dataset.siteurl,this.isLocal=!1,this.activePage=1,this.filters=[],this.subs=[],this.url=window.location.origin+window.location.pathname,this.search=window.location.search,this.newSearch="",this.params=this.urlParamsObj(),this.$alphaNavContainer=this.$view.querySelector(".alpha-nav"),this.$alphaNav=this.$view.querySelectorAll(".alpha-nav .alpha-nav__link"),this.$alphaNavChevron=this.$view.querySelector(".alpha-nav .svg-chevron"),this.$tabNav=this.$view.querySelector(".sub-nav__link.active"),this.$newFiltersTab=this.$view.querySelectorAll(".sub-nav__link-new-wrapper"),this.$localArtistsBtn=this.$view.querySelector(".local-artist-css"),this.$subMenuFilters=this.$view.querySelectorAll(".sub-nav__link-new-filter"),this.$artistsListingWrapper=this.$view.querySelector(".artists__listing-wrapper"),this.$artistsListing=this.$view.querySelector(".artists__listing:not(.loader)"),this.$artistsLoader=this.$view.querySelector(".artists__listing-container .loader"),this.$artistTitle=this.$view.querySelector(".simple-hero__title"),this.$artistLoadMore=this.$view.querySelector(".artists__loadmore a"),this.$subMenus=this.$view.querySelectorAll(".sub-nav__link-new-items"),this.$clearFiltersBtn=this.$view.querySelector(".sub-nav__link-clear-filters");for(var e=0;e<this.$subMenus.length;e++)this.subs.push(this.$subMenus[e]);this.$prevBtn=this.$view.querySelector(".pagination-prev"),this.$nextBtn=this.$view.querySelector(".pagination-next"),this.$pageBtns=this.$view.querySelectorAll(".pagination-page"),this.addListeners(),this.initNavSwiper(),this.initAlphaFilter(),this.addNumberToTitle(),this.initLoadMore(),this.initActiveFilters()}},{key:"urlParamsObj",value:function(){if(this.search.indexOf("?")>-1){for(var e,t=this.search.substring(this.search.indexOf("?")+1).split("&"),i=t.length,n=[],r=0;r<i;r++)e=t[r].toString().split("="),n.push({category:e[0],filter:e[1]});return n}return[]}},{key:"initActiveFilters",value:function(){if(""!==this.search){this.filters=this.params;for(var e=!0,t=0;t<this.$alphaNav.length;t++){this.$alphaNav[t].classList.remove("active");for(var i=0;i<this.filters.length;i++)this.filters[i].filter===this.$alphaNav[t].getAttribute("data-id")&&(this.$alphaNav[t].classList.add("active"),e=!1)}e&&this.$alphaNav[0].classList.add("active");for(var n=0;n<this.filters.length;n++)"page"===this.filters[n].category&&(this.activePage=this.filters[n].filter);if(this.$subMenuFilters)for(var r=0;r<this.$subMenuFilters.length;r++)for(var o=0;o<this.filters.length;o++)this.filters[o].filter===this.$subMenuFilters[r].getAttribute("data-id")&&(this.$subMenuFilters[r].parentNode.parentNode.parentNode.querySelector("[data-section-title]").innerHTML=this.$subMenuFilters[r].innerHTML,this.$subMenuFilters[r].classList.add("active"),this.$subMenuFilters[r].parentNode.parentNode.querySelector(".all-filter-js").classList.remove("active"));if(this.$localArtistsBtn)for(var s=0;s<this.filters.length;s++)"local"===this.filters[s].category&&(this.$localArtistsBtn.querySelector(".sub-nav__link-new-local-wrapper").classList.add("active"),this.isLocal=!0)}else this.$clearFiltersBtn.classList.add("disabled")}},{key:"refreshFiltersUpdated",value:function(){for(var e=0;e<this.filters.length;e++){var t="?";0!==e&&(t="&"),this.newSearch=this.newSearch+t+this.filters[e].category+"="+this.filters[e].filter}window.location.href=this.url+this.newSearch,g.a.emit(y.a.CHANGE_FILTERS)}},{key:"resetFilters",value:function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.contains("disabled")||(g.a.emit(y.a.CHANGE_FILTERS),window.location.href=this.url)}},{key:"addListeners",value:function(){if(this.$newFiltersTab){for(var e=0;e<this.$subMenus.length;e++)this.$subMenus[e].style.maxHeight="unset",this.$subMenus[e].setAttribute("data-height",this.$subMenus[e].offsetHeight),this.$subMenus[e].style.maxHeight="";for(var t=0;t<this.$newFiltersTab.length;t++)NSFW.isDesktop?(this.$newFiltersTab[t].addEventListener("mouseenter",this.openSub),this.$newFiltersTab[t].addEventListener("mouseleave",this.closeSub),this.$newFiltersTab[t].addEventListener("focus",this.toggleSub)):this.$newFiltersTab[t].addEventListener("click",this.toggleSub)}if(this.$subMenuFilters)for(var i=0;i<this.$subMenuFilters.length;i++)this.$subMenuFilters[i].addEventListener("click",this.addFilter);if(this.$localArtistsBtn&&this.$localArtistsBtn.addEventListener("click",this.toggleLocalArtist),this.$prevBtn&&this.$prevBtn.addEventListener("click",this.goToPrev),this.$nextBtn&&this.$nextBtn.addEventListener("click",this.goToNext),this.$pageBtns)for(var n=0;n<this.$pageBtns.length;n++)this.$pageBtns[n].addEventListener("click",this.goToPage);this.$clearFiltersBtn&&this.$clearFiltersBtn.addEventListener("click",this.resetFilters)}},{key:"goToNext",value:function(){this.activePage++,this.changeActivePage()}},{key:"goToPrev",value:function(){this.activePage--,this.changeActivePage()}},{key:"goToPage",value:function(e){this.activePage=parseInt(e.target.getAttribute("data-page")),this.changeActivePage()}},{key:"changeActivePage",value:function(){this.filters=this.filters.filter((function(e){return"page"!==e.category}));for(var e=0;e<this.$pageBtns.length;e++)this.$pageBtns[e].classList.remove("active");for(var t=0;t<this.$pageBtns.length;t++)this.$pageBtns[t].getAttribute("data-page")==this.activePage&&this.$pageBtns[t].classList.add("active");1===this.activePage?(this.$prevBtn&&this.$prevBtn.classList.add("disabled"),this.$nextBtn&&this.$nextBtn.classList.remove("disabled")):this.activePage===this.$pageBtns.length?(this.$prevBtn&&this.$prevBtn.classList.remove("disabled"),this.$nextBtn&&this.$nextBtn.classList.add("disabled")):(this.$prevBtn&&this.$prevBtn.classList.remove("disabled"),this.$nextBtn&&this.$nextBtn.classList.remove("disabled")),1!=this.activePage&&this.filters.push({category:"page",filter:this.activePage}),this.refreshFiltersUpdated()}},{key:"addFilter",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.parentNode.parentNode.querySelectorAll(".sub-nav__link-new-filter"),i=e.target.getAttribute("data-category");if("all"===e.target.getAttribute("data-id")){if(!e.target.classList.contains("active")){for(var n=0;n<t.length;n++){t[n].classList.remove("active");for(var r=0;r<this.filters.length;r++)this.filters[r].category===i&&this.filters.splice(r,1)}e.target.classList.add("active")}}else if(e.target.classList.contains("active")){e.target.classList.remove("active");for(var o=0;o<this.filters.length;o++)this.filters[o].category===i&&this.filters.splice(o,1)}else{for(var s=0;s<t.length;s++){t[s].classList.remove("active");for(var a=0;a<this.filters.length;a++)this.filters[a].category===i&&this.filters.splice(a,1)}e.target.classList.add("active"),this.filters.push({category:i,filter:e.target.getAttribute("data-id")})}this.filters=this.filters.filter((function(e){return"page"!==e.category})),this.refreshFiltersUpdated(),this.closeSub(e)}},{key:"toggleLocalArtist",value:function(e){var t=e.target.querySelector(".sub-nav__link-new-local-wrapper")||e.target.parentNode.querySelector(".sub-nav__link-new-local-wrapper");if(this.isLocal){this.isLocal=!1,t.classList.remove("active");for(var i=0;i<this.filters.length;i++)"local"===this.filters[i].category&&this.filters.splice(i,1)}else this.isLocal=!0,t.classList.add("active"),this.filters.push({category:"local",filter:!0});this.filters=this.filters.filter((function(e){return"page"!==e.category})),this.refreshFiltersUpdated()}},{key:"toggleSub",value:function(e){var t=e.target.querySelector(".sub-nav__link-new-items");t&&("false"==t.getAttribute("data-opened")?(this.openSub(e),this.closeOther(this.subs.filter((function(e){return e!==t})))):this.closeSub(e))}},{key:"closeOther",value:function(e){var t=e[0];"true"==t.getAttribute("data-opened")&&(t.setAttribute("data-closing",!0),t.setAttribute("data-opened",!1),gsap.to(t,{maxHeight:0,pointerEvents:"none",duration:.25,onComplete:function(){t.setAttribute("data-closing",!1)}}))}},{key:"openSub",value:function(e){var t=e.target.querySelector(".sub-nav__link-new-items");t&&(t.setAttribute("data-opened",!0),gsap.to(t,{maxHeight:t.getAttribute("data-height")+"px",pointerEvents:"all",duration:.35}))}},{key:"closeSub",value:function(e){if(e.target.querySelector(".sub-nav__link-new-items")){var t=e.target.querySelector(".sub-nav__link-new-items");t&&(t.setAttribute("data-closing",!0),t.setAttribute("data-opened",!1),gsap.to(t,{maxHeight:0,pointerEvents:"none",duration:.25,delay:.1,onComplete:function(){t.setAttribute("data-closing",!1)}}))}else{var i=e.target.parentNode.parentNode.parentNode.querySelector(".sub-nav__link-new-items");i&&(i.setAttribute("data-closing",!0),i.setAttribute("data-opened",!1),gsap.to(i,{maxHeight:0,pointerEvents:"none",duration:.25,delay:.1,onComplete:function(){i.setAttribute("data-closing",!1)}}))}}},{key:"addNumberToTitle",value:function(){var e=this.$artistTitle.getAttribute("data-number");this.$spans=yt()({target:this.$artistTitle,by:"words"}),this.$num=document.createElement("span"),this.$num.classList.add("number"),this.$num.innerHTML=e,this.$spans[0].words[0].appendChild(this.$num)}},{key:"initAlphaFilter",value:function(){for(var e=0;e<this.$alphaNav.length;e++)this.$alphaNav[e].addEventListener("click",this.onAlphaFilterClick)}},{key:"getFilterUrl",value:function(e,t,i){return"".concat(this.domain,"/ajax/artists/").concat(this.editionId,"?tab=").concat(e,"&page=").concat(t,"&title=").concat(i)}},{key:"onAlphaFilterClick",value:function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<this.$alphaNav.length;t++)this.$alphaNav[t].classList.remove("active"),this.filters=this.filters.filter((function(e){return"title"!==e.category}));var i=e.currentTarget,n=(this.$tabNav&&this.$tabNav.getAttribute("data-id"),i.getAttribute("data-id"));i.classList.add("active"),""!=n&&this.filters.push({category:"title",filter:n}),this.filters=this.filters.filter((function(e){return"page"!==e.category})),this.refreshFiltersUpdated()}},{key:"ajaxCall",value:function(e,t,i){var n=this,r=this.getFilterUrl(e,t,i);gsap.to(this.$artistsLoader,{duration:.3,opacity:1}),this.$artistsLoader.classList.add("active"),gsap.to(this.$artistsListingWrapper,{duration:.3,opacity:0}),this.$artistsListingWrapper.style.height=this.$artistsListingWrapper.offsetHeight+"px",fetch(r,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.text()})).then((function(e){n.$artistsListingWrapper.innerHTML=JSON.parse(e).html;for(var t=n.$artistsListingWrapper.querySelectorAll(".underscore-js"),i=0;i<t.length;i++){var r=t[i];new ot(r)}gsap.to(n.$artistsLoader,{duration:.3,opacity:0,onComplete:function(){n.$artistsLoader.classList.remove("active")}}),gsap.to(n.$artistsListingWrapper,{duration:.3,opacity:1,delay:.2,height:"auto"}),JSON.parse(e).more&&(n.$artistLoadMore=document.querySelector(".artists__loadmore a"),n.$artistLoadMore&&n.$artistLoadMore.addEventListener("click",n.onLoadMoreClick)),g.a.emit(y.a.TRANSITION_SINGLE_TITLE_RESET_LISTENERS)}))}},{key:"ajaxCallLoadMore",value:function(e,t,i){var n=this,r=this.getFilterUrl(e,t,i);this.$artistLoadMore.classList.add("active"),fetch(r,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.text()})).then((function(e){JSON.parse(e).more?n.$artistLoadMore.setAttribute("data-page",JSON.parse(e).page):n.$artistLoadMore.style.display="none",n.$artistsListing=n.$view.querySelector(".artists__listing:not(.loader)"),n.$artistsListing.innerHTML+=JSON.parse(e).html,n.$artistLoadMore.classList.remove("active"),gsap.to(n.$artistsListingWrapper,{duration:.3,opacity:1,delay:.2,height:"auto"}),NSFW.scrollBar.resize()}))}},{key:"initNavSwiper",value:function(){this.alphaNavSwiper=new Swiper(this.$alphaNavContainer,{slidesPerView:"auto",spaceBetween:0,visibilityFullFit:!0,freeMode:!0,freeModeMomentumBounce:!1,resistanceRatio:0}),this.$alphaNavChevron.addEventListener("click",this.onArrowAlphaNavClick)}},{key:"onArrowAlphaNavClick",value:function(){this.alphaNavSwiper.slideNext()}},{key:"initLoadMore",value:function(){this.$artistLoadMore&&this.$artistLoadMore.addEventListener("click",this.onLoadMoreClick)}},{key:"onLoadMoreClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.$tabNav?this.$tabNav.getAttribute("data-id"):"t",i=e.currentTarget.getAttribute("data-page"),n=document.querySelector(".alpha-nav .alpha-nav__link.active"),r=n?n.getAttribute("data-id"):"*";this.ajaxCallLoadMore(t,i,r)}},{key:"dispose",value:function(){Ai(xi(t.prototype),"dispose",this).call(this);for(var e=0;e<this.$alphaNav.length;e++)this.$alphaNav[e].removeEventListener("click",this.onAlphaFilterClick);if(this.$artistLoadMore&&this.$artistLoadMore.removeEventListener("click",this.onLoadMoreClick),this.$newFiltersTab)for(var i=0;i<this.$newFiltersTab.length;i++)NSFW.isDesktop?(this.$newFiltersTab[i].removeEventListener("mouseenter",this.openSub),this.$newFiltersTab[i].removeEventListener("mouseleave",this.closeSub),this.$newFiltersTab[i].removeEventListener("focus",this.toggleSub)):this.$newFiltersTab[i].removeEventListener("click",this.toggleSub)}}])&&Pi(i.prototype,n),r&&Pi(i,r),t}(dt);i(37);function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Di(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ri(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ii(e,t,i){return(Ii="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qi(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}W.a;function Fi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Bi=function(){function e(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pauseTimeline=this.pauseTimeline.bind(this),this.playTimeline=this.playTimeline.bind(this),this.onRepeat=this.onRepeat.bind(this),this.dispose=this.dispose.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.$view=t,this.$bannerItems=this.$view.querySelectorAll(".item"),this.isPaused=!1,this.auto=i,this.$view.addEventListener("mouseenter",this.onMouseEnter),this.init()}var t,i,n;return t=e,(i=[{key:"onMouseEnter",value:function(){this.isPlaying||(this.tl.seek(0),this.tl.play())}},{key:"init",value:function(){var e=this;document.body.classList.add("header-banner-on"),this.tl=gsap.timeline({repeat:-1,repeatDelay:5,onRepeat:this.onRepeat,paused:!this.auto}),this.tl.add((function(){e.isPlaying=!0})),this.tl.to(this.$bannerItems,{duration:.4,y:-50,x:50,stagger:{grid:[1,this.$bannerItems.length],from:"end",axis:"x",ease:"power1.in",amount:.7}}),this.tl.set(this.$bannerItems,{y:50,x:-50,stagger:{grid:[1,this.$bannerItems.length],from:"end",axis:"x",ease:"power1.in",amount:.7}},"-=.8"),this.tl.to(this.$bannerItems,{duration:.4,y:0,x:0,stagger:{grid:[1,this.$bannerItems.length],from:"end",axis:"x",ease:"power1.in",amount:.7}},"-=.8"),this.tl.add((function(){e.isPlaying=!1})),g.a.on(y.a.HEADER_HIDE_DONE,this.pauseTimeline),g.a.on(y.a.HEADER_SHOW,this.playTimeline)}},{key:"onRepeat",value:function(){this.isPaused&&this.tl.pause()}},{key:"pauseTimeline",value:function(){this.isPaused=!0}},{key:"playTimeline",value:function(){this.tl.play(),this.isPaused=!1}},{key:"dispose",value:function(){g.a.off(y.a.HEADER_HIDE_DONE,this.pauseTimeline),g.a.off(y.a.HEADER_SHOW,this.playTimeline),this.$view.removeEventListener("mouseenter",this.onMouseEnter),this.tl&&(this.tl.kill(),this.tl=null)}}])&&Fi(t.prototype,i),n&&Fi(t,n),e}();function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ui(e,t){return!t||"object"!==Hi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zi(e,t,i){return(zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gi(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yi(e,t){return(Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ui(this,Gi(t).apply(this,arguments))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yi(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){zi(Gi(t.prototype),"beforeDisplay",this).call(this),this.onScroll=this.onScroll.bind(this),this.onClickScrollTo=this.onClickScrollTo.bind(this),this.dispose=this.dispose.bind(this),this.$sidebar=this.$view.querySelector(".sidebar-single"),this.$singleContainer=this.$view.querySelector(".single__content-wrapper"),this.$inViewContainer=document.querySelector(".transition-container-inview"),this.$heroTitleWrapper=document.querySelector(".hero-single__title-wrapper"),this.$heroTitleWrapper&&(this.$heroTitleRows=this.$heroTitleWrapper.querySelectorAll(".hero-single__title-row")),this.$linkBack=document.querySelector(".sidebar-back"),this.$heroLines=this.$view.querySelectorAll(".hero-single__col-border"),this.$heroScroll=this.$view.querySelector(".hero-single__wrapper__icon"),this.$sidebar&&(this.$bannerSmall=this.$sidebar.querySelector(".banner-small")),this.$headerLanguageLinks=document.querySelectorAll(".lang-switcher-link"),this.$menuMainlinks=document.querySelectorAll(".nav-main a"),this.$newMenu=document.querySelector(".new-header-sticky"),window.scrollingTextActive&&window.scrollingTextActive.length>0?this.heroFromTransition=!0:this.heroFromTransition=!1,window.currentHtml&&this.changeLangSwitcherUrl(),this.mainLinkActive=!1,this.secondLevelLinkActive=!1,this.init(),this.setMainLinksActive()}},{key:"setMainLinksActive",value:function(){if(null!==this.$newMenu){var e=this.$newMenu.querySelectorAll(".new-header-sticky__right-links-container--links"),t=this.$newMenu.querySelectorAll(".has-sub-menu"),i=this.$newMenu.querySelectorAll(".new-header-sticky__secondary-level-links"),n=this.$newMenu.querySelectorAll(".new-header-sticky__secondary-level"),r=this.$newMenu.querySelectorAll(".new-header-sticky__secondary-level-sub-menu--link"),o=document.querySelector(".mobile-nav-main").getElementsByTagName("a"),s=document.querySelectorAll(".with-sub-menu"),a=document.querySelectorAll(".sub-with-sub-menu");if(document.body.classList.remove("sub-nav-desktop-on"),s)for(var l=0;l<s.length;l++)s[l].classList.remove("active");if(a)for(var c=0;c<a.length;c++)a[c].classList.remove("active");for(var u=0;u<o.length;u++)o[u].classList.remove("active");for(var h=0;h<e.length;h++)e[h].classList.remove("active");for(var p=0;p<i.length;p++)i[p].classList.remove("active"),i[p].classList.remove("active-parent");for(var f=0;f<r.length;f++)r[f].classList.remove("active");for(var d=0;d<n.length;d++)n[d].style.display="none",n[d].setAttribute("aria-hidden","true");for(var v=0;v<o.length;v++)o[v].href==window.location.origin+window.location.pathname&&(o[v].classList.add("active"),o[v].closest(".sub-with-sub-menu")&&o[v].closest(".sub-with-sub-menu").classList.add("active"),o[v].closest(".with-sub-menu")&&o[v].closest(".with-sub-menu").classList.add("active"));for(var y=0;y<e.length;y++)if(e[y].href==window.location.origin+window.location.pathname){if(e[y].classList.add("active"),this.mainLinkActive=!0,e[y].classList.contains("has-sub-menu"))for(var g=e[y].getAttribute("data-menu-index"),b=0;b<n.length;b++)if(n[b].getAttribute("data-menu-index")===g){for(var w=n[b].getElementsByTagName("a"),m=0;m<w.length;m++)w[m].href===e[y].href&&w[m].parentNode.parentNode.classList.add("active");n[b].style.display="flex",n[b].setAttribute("aria-hidden","false"),document.body.classList.add("sub-nav-desktop-on")}}else e[y].classList.remove("active");if(!this.mainLinkActive){for(var k=0;k<i.length;k++)if(!i[k].classList.contains("with-sub-menu-js")){var $=i[k].getElementsByTagName("a")[0];if($.href==window.location.origin+window.location.pathname){this.secondLevelLinkActive=!0;var S=i[k].parentNode.getAttribute("data-menu-index");i[k].parentNode.style.display="flex",i[k].parentNode.setAttribute("aria-hidden","false"),document.body.classList.add("sub-nav-desktop-on");for(var E=0;E<t.length;E++)t[E].getAttribute("data-menu-index")===S&&t[E].classList.add("active");$.parentNode.parentNode.classList.add("active")}else $.parentNode.parentNode.classList.remove("active")}if(!this.secondLevelLinkActive)for(var L=0;L<r.length;L++)if(r[L].href==window.location.origin+window.location.pathname){for(var _=r[L].getAttribute("data-menu-index"),O=0;O<n.length;O++)n[O].getAttribute("data-menu-index")===_&&(n[O].style.display="flex",n[O].setAttribute("aria-hidden","false"),document.body.classList.add("sub-nav-desktop-on"));for(var T=0;T<t.length;T++)t[T].getAttribute("data-menu-index")===_&&t[T].classList.add("active");r[L].classList.add("active"),r[L].parentNode.parentNode.parentNode.classList.add("active-parent")}else r[L].classList.remove("active")}}else{for(var P=0;P<this.$menuMainlinks.length;P++)this.$menuMainlinks[P].classList.remove("active");for(var C=0;C<this.$menuMainlinks.length;C++){var A=this.$menuMainlinks[C];A.href==window.location.origin+window.location.pathname?A.classList.add("active"):A.classList.remove("active")}}}},{key:"changeLangSwitcherUrl",value:function(){for(var e=window.currentHtml.querySelector(".languages"),t=0;t<this.$headerLanguageLinks.length;t++){var i=this.$headerLanguageLinks[t],n=i.getAttribute("data-lang");e.getAttribute("data-url-"+n)&&i.setAttribute("href",e.getAttribute("data-url-"+n))}}},{key:"init",value:function(){var e=window.localStorage.getItem("view-type");e&&this.$linkBack&&"weekly"===e&&this.$linkBack.setAttribute("href",this.$linkBack.getAttribute("href")+"#weekly-view"),this.heroFromTransition||this.$heroTitleWrapper&&(this.$heroTitleWrapper.style.opacity=1,this.scrollingText1=new q.a(this.$heroTitleRows[0],0,1.3,0,50),this.scrollingText2=new q.a(this.$heroTitleRows[1],1,.8,0,-400),window.scrollingTextActive=[this.scrollingText1,this.scrollingText2]),this.$heroLines.length>0&&gsap.to(this.$heroLines,{duration:1.8,scaleX:1,ease:"power4.out",delay:.4}),this.$heroScroll&&this.$heroScroll.addEventListener("click",this.onClickScrollTo),l.a.bind("section-color-"+this.id,this.onScroll),this.$bannerSmall&&(this.bannerSmall=new Bi(this.$bannerSmall,!1)),this.$sidebar}},{key:"onClickScrollTo",value:function(){console.log("click"),window.NSFW.scrollBar.scrollTo(0,window.innerHeight)}},{key:"onScroll",value:function(){this.$view&&(window.NSFW.currentScrollTop>100?(this.$view.classList.add("bg-white"),this.$inViewContainer&&this.$inViewContainer.classList.add("bg-white")):(this.$view.classList.remove("bg-white"),this.$inViewContainer&&this.$inViewContainer.classList.remove("bg-white")))}},{key:"dispose",value:function(){zi(Gi(t.prototype),"dispose",this).call(this),console.log("disposing"),this.$heroScroll&&this.$heroScroll.removeEventListener("click",this.onClickScrollTo),l.a.unbind("section-color-"+this.id,this.onScroll),this.$inViewContainer&&gsap.to(this.$inViewContainer,{duration:.2,opacity:0}),this.sidebar.dispose(),this.sidebarAnimation&&this.sidebarAnimation.dispose(),this.scrollingText1&&this.scrollingText1.dispose(),this.scrollingText2&&this.scrollingText2.dispose()}}])&&Vi(i.prototype,n),r&&Vi(i,r),t}(dt);function Ki(e){return(Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zi(e,t){return!t||"object"!==Ki(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qi(e,t,i){return(Qi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=en(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zi(this,en(t).call(this,"event-single"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){if(Qi(en(t.prototype),"beforeDisplay",this).call(this),window.NSFW.isMobile){this.swiper=[],this.$swiper=document.querySelectorAll(".event-single__showrooms-room .swiper-container");for(var e=0;e<this.$swiper.length;e++){var i=this.$swiper[e];this.swiper.push(new Swiper(i,{slidesPerView:1.1,spaceBetween:30}))}}}},{key:"dispose",value:function(){if(Qi(en(t.prototype),"dispose",this).call(this),window.NSFW.isMobile&&this.swiper)for(var e=0;e<this.swiper.length;e++)this.swiper[e].destroy()}}])&&Ji(i.prototype,n),r&&Ji(i,r),t}(Xi);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sn(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e,t,i){return(an="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ln(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sn(this,ln(t).call(this,"artist-single"))}var i,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,e),i=t,(r=[{key:"beforeDisplay",value:function(){an(ln(t.prototype),"beforeDisplay",this).call(this),this.initImage=this.initImage.bind(this),this.$title=this.$view.querySelector(".hero-single__title-new--title"),this.$image=this.$view.querySelector(".hero-single__image"),this.$leftColumn=this.$view.querySelector(".left-column-js"),this.$rightColumn=this.$view.querySelector(".sidebar-wrapper-js"),this.$wrapper=this.$view.querySelector(".hero-single__wrapper"),this.imageBottom=0,this.wrapperBottom=0,this.space=0,this.initImage(),n.a.bind("artist-single-image",this.initImage)}},{key:"initImage",value:function(){this.imageBottom=this.$image.getBoundingClientRect().bottom,this.wrapperBottom=this.$wrapper.getBoundingClientRect().bottom,this.imageBottom>this.wrapperBottom&&(this.space=this.imageBottom-this.wrapperBottom),this.$leftColumn.style.paddingTop=this.space+40+"px",this.$rightColumn.style.paddingTop=this.space+40+"px"}},{key:"dispose",value:function(){an(ln(t.prototype),"dispose",this).call(this),n.a.unbind("artist-single-image")}}])&&on(i.prototype,r),o&&on(i,o),t}(Xi);function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fn(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e,t,i){return(dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vn(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fn(this,vn(t).call(this,"speakers"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){dn(vn(t.prototype),"beforeDisplay",this).call(this),this.getFilterUrl=this.getFilterUrl.bind(this),this.onAlphaFilterClick=this.onAlphaFilterClick.bind(this),this.addNumberToTitle=this.addNumberToTitle.bind(this),this.onLoadMoreClick=this.onLoadMoreClick.bind(this),this.onArrowAlphaNavClick=this.onArrowAlphaNavClick.bind(this),this.toggleSub=this.toggleSub.bind(this),this.openSub=this.openSub.bind(this),this.closeSub=this.closeSub.bind(this),this.closeOther=this.closeOther.bind(this),this.toggleLocalArtist=this.toggleLocalArtist.bind(this),this.addFilter=this.addFilter.bind(this),this.goToNext=this.goToNext.bind(this),this.goToPrev=this.goToPrev.bind(this),this.goToPage=this.goToPage.bind(this),this.changeActivePage=this.changeActivePage.bind(this),this.refreshFiltersUpdated=this.refreshFiltersUpdated.bind(this),this.resetFilters=this.resetFilters.bind(this),this.editionId=this.$view.getAttribute("data-edition"),this.domain=document.querySelector("body").dataset.siteurl,this.isLocal=!1,this.activePage=1,this.filters=[],this.subs=[],this.url=window.location.origin+window.location.pathname,this.search=window.location.search,this.newSearch="",this.params=this.urlParamsObj(),this.$alphaNavContainer=this.$view.querySelector(".alpha-nav"),this.$alphaNav=this.$view.querySelectorAll(".alpha-nav .alpha-nav__link"),this.$tabNav=this.$view.querySelector(".sub-nav__link.active"),this.$alphaNavChevron=this.$view.querySelector(".alpha-nav .svg-chevron"),this.$artistsListingWrapper=this.$view.querySelector(".artists__listing-wrapper"),this.$artistsListing=this.$view.querySelector(".artists__listing:not(.loader)"),this.$artistsLoader=this.$view.querySelector(".artists__listing-container .loader"),this.$artistTitle=this.$view.querySelector(".simple-hero__title"),this.$artistLoadMore=this.$view.querySelector(".artists__loadmore a"),this.$newFiltersTab=this.$view.querySelectorAll(".sub-nav__link-new-wrapper"),this.$localArtistsBtn=this.$view.querySelector(".local-artist-css"),this.$subMenuFilters=this.$view.querySelectorAll(".sub-nav__link-new-filter"),this.$subMenus=this.$view.querySelectorAll(".sub-nav__link-new-items"),this.$clearFiltersBtn=this.$view.querySelector(".sub-nav__link-clear-filters");for(var e=0;e<this.$subMenus.length;e++)this.subs.push(this.$subMenus[e]);this.$prevBtn=this.$view.querySelector(".pagination-prev"),this.$nextBtn=this.$view.querySelector(".pagination-next"),this.$pageBtns=this.$view.querySelectorAll(".pagination-page"),this.addListeners(),this.initNavSwiper(),this.initAlphaFilter(),this.addNumberToTitle(),this.initLoadMore(),this.initActiveFilters()}},{key:"urlParamsObj",value:function(){if(this.search.indexOf("?")>-1){for(var e,t=this.search.substring(this.search.indexOf("?")+1).split("&"),i=t.length,n=[],r=0;r<i;r++)e=t[r].toString().split("="),n.push({category:e[0],filter:e[1]});return n}return[]}},{key:"initActiveFilters",value:function(){if(""!==this.search){this.filters=this.params;for(var e=!0,t=0;t<this.$alphaNav.length;t++){this.$alphaNav[t].classList.remove("active");for(var i=0;i<this.filters.length;i++)this.filters[i].filter===this.$alphaNav[t].getAttribute("data-id")&&(this.$alphaNav[t].classList.add("active"),e=!1)}e&&this.$alphaNav[0].classList.add("active");for(var n=0;n<this.filters.length;n++)"page"===this.filters[n].category&&(this.activePage=this.filters[n].filter);if(this.$subMenuFilters)for(var r=0;r<this.$subMenuFilters.length;r++)for(var o=0;o<this.filters.length;o++)this.filters[o].filter===this.$subMenuFilters[r].getAttribute("data-id")&&(this.$subMenuFilters[r].parentNode.parentNode.parentNode.querySelector("[data-section-title]").innerHTML=this.$subMenuFilters[r].innerHTML,this.$subMenuFilters[r].classList.add("active"),this.$subMenuFilters[r].parentNode.parentNode.querySelector(".all-filter-js").classList.remove("active"));if(this.$localArtistsBtn)for(var s=0;s<this.filters.length;s++)"local"===this.filters[s].category&&(this.$localArtistsBtn.querySelector(".sub-nav__link-new-local-wrapper").classList.add("active"),this.isLocal=!0)}else this.$clearFiltersBtn.classList.add("disabled")}},{key:"refreshFiltersUpdated",value:function(){for(var e=0;e<this.filters.length;e++){var t="?";0!==e&&(t="&"),this.newSearch=this.newSearch+t+this.filters[e].category+"="+this.filters[e].filter}window.location.href=this.url+this.newSearch,g.a.emit(y.a.CHANGE_FILTERS)}},{key:"resetFilters",value:function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.contains("disabled")||(g.a.emit(y.a.CHANGE_FILTERS),window.location.href=this.url)}},{key:"addListeners",value:function(){if(this.$newFiltersTab){for(var e=0;e<this.$subMenus.length;e++)this.$subMenus[e].style.maxHeight="unset",this.$subMenus[e].setAttribute("data-height",this.$subMenus[e].offsetHeight),this.$subMenus[e].style.maxHeight="";for(var t=0;t<this.$newFiltersTab.length;t++)NSFW.isDesktop?(this.$newFiltersTab[t].addEventListener("mouseenter",this.openSub),this.$newFiltersTab[t].addEventListener("mouseleave",this.closeSub),this.$newFiltersTab[t].addEventListener("focus",this.toggleSub)):this.$newFiltersTab[t].addEventListener("click",this.toggleSub)}if(this.$subMenuFilters)for(var i=0;i<this.$subMenuFilters.length;i++)this.$subMenuFilters[i].addEventListener("click",this.addFilter);if(this.$localArtistsBtn&&this.$localArtistsBtn.addEventListener("click",this.toggleLocalArtist),this.$prevBtn&&this.$prevBtn.addEventListener("click",this.goToPrev),this.$nextBtn&&this.$nextBtn.addEventListener("click",this.goToNext),this.$pageBtns)for(var n=0;n<this.$pageBtns.length;n++)this.$pageBtns[n].addEventListener("click",this.goToPage);this.$clearFiltersBtn&&this.$clearFiltersBtn.addEventListener("click",this.resetFilters)}},{key:"goToNext",value:function(){this.activePage++,this.changeActivePage()}},{key:"goToPrev",value:function(){this.activePage--,this.changeActivePage()}},{key:"goToPage",value:function(e){this.activePage=parseInt(e.target.getAttribute("data-page")),this.changeActivePage()}},{key:"changeActivePage",value:function(){this.filters=this.filters.filter((function(e){return"page"!==e.category}));for(var e=0;e<this.$pageBtns.length;e++)this.$pageBtns[e].classList.remove("active");for(var t=0;t<this.$pageBtns.length;t++)this.$pageBtns[t].getAttribute("data-page")==this.activePage&&this.$pageBtns[t].classList.add("active");1===this.activePage?(this.$prevBtn&&this.$prevBtn.classList.add("disabled"),this.$nextBtn&&this.$nextBtn.classList.remove("disabled")):this.activePage===this.$pageBtns.length?(this.$prevBtn&&this.$prevBtn.classList.remove("disabled"),this.$nextBtn&&this.$nextBtn.classList.add("disabled")):(this.$prevBtn&&this.$prevBtn.classList.remove("disabled"),this.$nextBtn&&this.$nextBtn.classList.remove("disabled")),1!=this.activePage&&this.filters.push({category:"page",filter:this.activePage}),this.refreshFiltersUpdated()}},{key:"addFilter",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.parentNode.parentNode.querySelectorAll(".sub-nav__link-new-filter"),i=e.target.getAttribute("data-category");if("all"===e.target.getAttribute("data-id")){if(!e.target.classList.contains("active")){for(var n=0;n<t.length;n++){t[n].classList.remove("active");for(var r=0;r<this.filters.length;r++)this.filters[r].category===i&&this.filters.splice(r,1)}e.target.classList.add("active")}}else if(e.target.classList.contains("active")){e.target.classList.remove("active");for(var o=0;o<this.filters.length;o++)this.filters[o].category===i&&this.filters.splice(o,1)}else{for(var s=0;s<t.length;s++){t[s].classList.remove("active");for(var a=0;a<this.filters.length;a++)this.filters[a].category===i&&this.filters.splice(a,1)}e.target.classList.add("active"),this.filters.push({category:i,filter:e.target.getAttribute("data-id")})}this.filters=this.filters.filter((function(e){return"page"!==e.category})),this.refreshFiltersUpdated(),this.closeSub(e)}},{key:"toggleLocalArtist",value:function(e){var t=e.target.querySelector(".sub-nav__link-new-local-wrapper")||e.target.parentNode.querySelector(".sub-nav__link-new-local-wrapper");if(this.isLocal){this.isLocal=!1,t.classList.remove("active");for(var i=0;i<this.filters.length;i++)"local"===this.filters[i].category&&this.filters.splice(i,1)}else this.isLocal=!0,t.classList.add("active"),this.filters.push({category:"local",filter:!0});this.filters=this.filters.filter((function(e){return"page"!==e.category})),this.refreshFiltersUpdated()}},{key:"toggleSub",value:function(e){var t=e.target.querySelector(".sub-nav__link-new-items");t&&("false"==t.getAttribute("data-opened")?(this.openSub(e),this.closeOther(this.subs.filter((function(e){return e!==t})))):this.closeSub(e))}},{key:"closeOther",value:function(e){var t=e[0];"true"==t.getAttribute("data-opened")&&(t.setAttribute("data-closing",!0),t.setAttribute("data-opened",!1),gsap.to(t,{maxHeight:0,pointerEvents:"none",duration:.25,onComplete:function(){t.setAttribute("data-closing",!1)}}))}},{key:"openSub",value:function(e){var t=e.target.querySelector(".sub-nav__link-new-items");t&&(t.setAttribute("data-opened",!0),gsap.to(t,{maxHeight:t.getAttribute("data-height")+"px",pointerEvents:"all",duration:.35}))}},{key:"closeSub",value:function(e){if(e.target.querySelector(".sub-nav__link-new-items")){var t=e.target.querySelector(".sub-nav__link-new-items");t&&(t.setAttribute("data-closing",!0),t.setAttribute("data-opened",!1),gsap.to(t,{maxHeight:0,pointerEvents:"none",duration:.25,delay:.1,onComplete:function(){t.setAttribute("data-closing",!1)}}))}else{var i=e.target.parentNode.parentNode.parentNode.querySelector(".sub-nav__link-new-items");i&&(i.setAttribute("data-closing",!0),i.setAttribute("data-opened",!1),gsap.to(i,{maxHeight:0,pointerEvents:"none",duration:.25,delay:.1,onComplete:function(){i.setAttribute("data-closing",!1)}}))}}},{key:"addNumberToTitle",value:function(){var e=this.$artistTitle.getAttribute("data-number");this.$spans=yt()({target:this.$artistTitle,by:"words"}),this.$num=document.createElement("span"),this.$num.classList.add("number"),this.$num.innerHTML=e,this.$spans[0].words[0].appendChild(this.$num)}},{key:"initAlphaFilter",value:function(){for(var e=0;e<this.$alphaNav.length;e++)this.$alphaNav[e].addEventListener("click",this.onAlphaFilterClick)}},{key:"getFilterUrl",value:function(e,t,i){return"".concat(this.domain,"/ajax/speakers/").concat(this.editionId,"?tab=").concat(e,"&page=").concat(t,"&title=").concat(i)}},{key:"onAlphaFilterClick",value:function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<this.$alphaNav.length;t++)this.$alphaNav[t].classList.remove("active"),this.filters=this.filters.filter((function(e){return"title"!==e.category}));var i=e.currentTarget,n=(this.$tabNav&&this.$tabNav.getAttribute("data-id"),i.getAttribute("data-id"));i.classList.add("active"),""!=n&&this.filters.push({category:"title",filter:n}),this.filters=this.filters.filter((function(e){return"page"!==e.category})),this.refreshFiltersUpdated()}},{key:"ajaxCall",value:function(e,t,i){var n=this,r=this.getFilterUrl(e,t,i);gsap.to(this.$artistsLoader,{duration:.3,opacity:1}),this.$artistsLoader.classList.add("active"),gsap.to(this.$artistsListingWrapper,{duration:.3,opacity:0}),this.$artistsListingWrapper.style.height=this.$artistsListingWrapper.offsetHeight+"px",fetch(r,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.text()})).then((function(e){n.$artistsListingWrapper.innerHTML=JSON.parse(e).html;for(var t=n.$artistsListingWrapper.querySelectorAll(".underscore-js"),i=0;i<t.length;i++){var r=t[i];new ot(r)}gsap.to(n.$artistsLoader,{duration:.3,opacity:0,onComplete:function(){n.$artistsLoader.classList.remove("active")}}),gsap.to(n.$artistsListingWrapper,{duration:.3,opacity:1,delay:.2,height:"auto"}),JSON.parse(e).more&&(n.$artistLoadMore=document.querySelector(".artists__loadmore a"),n.$artistLoadMore&&n.$artistLoadMore.addEventListener("click",n.onLoadMoreClick)),g.a.emit(y.a.TRANSITION_SINGLE_TITLE_RESET_LISTENERS)}))}},{key:"ajaxCallLoadMore",value:function(e,t,i){var n=this,r=this.getFilterUrl(e,t,i);this.$artistLoadMore.classList.add("active"),fetch(r,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.text()})).then((function(e){JSON.parse(e).more?n.$artistLoadMore.setAttribute("data-page",JSON.parse(e).page):n.$artistLoadMore.style.display="none",n.$artistsListing=n.$view.querySelector(".artists__listing:not(.loader)"),n.$artistsListing.innerHTML+=JSON.parse(e).html,n.$artistLoadMore.classList.remove("active"),gsap.to(n.$artistsListingWrapper,{duration:.3,opacity:1,delay:.2,height:"auto"})}))}},{key:"initNavSwiper",value:function(){this.alphaNavSwiper=new Swiper(this.$alphaNavContainer,{slidesPerView:"auto",spaceBetween:0,visibilityFullFit:!0,freeMode:!0,freeModeMomentumBounce:!1,resistanceRatio:0}),this.$alphaNavChevron.addEventListener("click",this.onArrowAlphaNavClick);var e=this.$alphaNavContainer.querySelector(".swiper-wrapper");if(e&&e.classList.contains("performance")){for(var t=e.querySelectorAll("a"),i=0,n=0;n<t.length;n++)i+=t[n].offsetWidth+40;i>window.innerWidth-80&&this.$alphaNavContainer.classList.add("show-arrow")}}},{key:"onArrowAlphaNavClick",value:function(){this.alphaNavSwiper.slideNext()}},{key:"initLoadMore",value:function(){this.$artistLoadMore&&this.$artistLoadMore.addEventListener("click",this.onLoadMoreClick)}},{key:"onLoadMoreClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.$tabNav?this.$tabNav.getAttribute("data-id"):"t",i=e.currentTarget.getAttribute("data-page"),n=document.querySelector(".alpha-nav .alpha-nav__link.active"),r=n?n.getAttribute("data-id"):"*";this.ajaxCallLoadMore(t,i,r)}},{key:"dispose",value:function(){dn(vn(t.prototype),"dispose",this).call(this),this.$artistLoadMore&&this.$artistLoadMore.removeEventListener("click",this.onLoadMoreClick);for(var e=0;e<this.$alphaNav.length;e++)this.$alphaNav[e].removeEventListener("click",this.onAlphaFilterClick);if(this.$alphaNavChevron&&this.$alphaNavChevron.removeEventListener("click",this.onArrowAlphaNavClick),this.alphaNavSwiper&&this.alphaNavSwiper.destroy(),this.$newFiltersTab)for(var i=0;i<this.$newFiltersTab.length;i++)NSFW.isDesktop?(this.$newFiltersTab[i].removeEventListener("mouseenter",this.openSub),this.$newFiltersTab[i].removeEventListener("mouseleave",this.closeSub),this.$newFiltersTab[i].removeEventListener("focus",this.toggleSub)):this.$newFiltersTab[i].removeEventListener("click",this.toggleSub)}}])&&pn(i.prototype,n),r&&pn(i,r),t}(dt);function bn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var wn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ajaxCall=this.ajaxCall.bind(this),this.$view=t,this.$loadMoreBtn=this.$view.querySelector(".program__content-container--load-more"),this.$loader=this.$view.querySelector(".program__listing-loader"),this.activePage=1,this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.$loadMoreBtn.addEventListener("click",this.ajaxCall)}},{key:"ajaxCall",value:function(){this.activePage++}},{key:"dispose",value:function(){this.$loadMoreBtn.removeEventListener("click",this.ajaxCall)}}])&&bn(t.prototype,i),n&&bn(t,n),e}();function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $n(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sn(e,t,i){return(Sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=En(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _n=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$n(this,En(t).call(this,"program"))}var i,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(t,e),i=t,(r=[{key:"beforeDisplay",value:function(){Sn(En(t.prototype),"beforeDisplay",this).call(this),this.onScroll=this.onScroll.bind(this),this.onClickWeeklyViewBtn=this.onClickWeeklyViewBtn.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onResize=this.onResize.bind(this),this.onDayFilterClick=this.onDayFilterClick.bind(this),this.ajaxCall=this.ajaxCall.bind(this),this.onArrowNavClick=this.onArrowNavClick.bind(this),this.onArrowCalendarClick=this.onArrowCalendarClick.bind(this),this.onArrowLeftCalendarClick=this.onArrowLeftCalendarClick.bind(this),this.swiperProgress=this.swiperProgress.bind(this),this.$tabNav=this.$view.querySelector(".sub-nav__link.active"),this.$tabNavLinks=this.$view.querySelectorAll(".sub-nav__link"),this.$dayNav=this.$view.querySelector(".day-nav .day-nav__row"),this.$dayNavInfo=this.$view.querySelector(".day-nav .day-nav__info"),this.$weeklyViewBtnWeekly=this.$view.querySelector(".day-nav__cta-weekly"),this.$weeklyViewBtnDaily=this.$view.querySelector(".day-nav__cta-daily"),this.$listingContainer=this.$view.querySelector(".program__listing"),this.$weeklyContainer=this.$view.querySelector(".program__calendar"),this.$programContent=this.$view.querySelector(".program__content-wrapper"),this.$dayNavLinks=this.$view.querySelectorAll(".day-nav .day-nav__link"),this.$programLoader=this.$view.querySelector(".program__listing-loader"),this.$headerNavContainer=document.querySelector(".top-nav-program-js"),this.$allSections=this.$view.querySelectorAll(".program__content-container"),this.$programCalendarBlocks=this.$view.querySelectorAll(".program__calendar-col-block"),this.$programListingWrapper=this.$listingContainer,this.$dayNavArrow=this.$view.querySelector(".day-nav .svg"),this.$calendarNavArrow=this.$view.querySelector(".program__calendar .svg-right"),this.$calendarNavArrowLeft=this.$view.querySelector(".program__calendar .svg-left"),this.$calendarFixedNavArrowRight=document.querySelector(".arrow-nav--right"),this.$calendarFixedNavArrowLeft=document.querySelector(".arrow-nav--left"),this.isWeeklyView=!1,this.allSections=[],this.$btnExternal,this.btnExternals=[],this.btnExternalsAnimations=[],this.containerBounds=this.$weeklyContainer.getBoundingClientRect(),this.domain=document.querySelector("body").dataset.siteurl,this.dayNavWidth=100*this.$dayNav.getAttribute("data-dates-count"),this.initNavSwiper(),this.addListeners(),this.initCalendrier(),"#weekly-view"==window.location.hash&&this.onClickWeeklyViewBtn(),this.isWeeklyView&&(this.$calendarFixedNavArrowRight.classList.remove("hide-arrow"),this.$calendarFixedNavArrowLeft.classList.remove("hide-arrow")),n.a.bind("program",this.onResize),a.a.bind("program-arrows",this.onScroll),this.initSections()}},{key:"initSections",value:function(){if(this.$allSections)for(var e=0;e<this.$allSections.length;e++)this.allSections[e]=new wn(this.$allSections[e])}},{key:"onDayFilterClick",value:function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<this.$dayNavLinks.length;t++)this.$dayNavLinks[t].classList.remove("active");var i=e.currentTarget,n=this.$tabNav.getAttribute("data-id"),r=i.getAttribute("href");i.classList.add("active"),this.ajaxCall(n,r)}},{key:"getFilterUrl",value:function(e,t){return"".concat(this.domain,"/ajax/programs/").concat(e+t)}},{key:"ajaxCall",value:function(e,t){var i=this,n=this.getFilterUrl(e,t);if(this.btnExternals.length>0){for(var r=0;r<this.btnExternals.length;r++)this.btnExternals[r].dispose(),this.btnExternalsAnimations[r].dispose();this.btnExternals=[],this.btnExternalsAnimations=[]}gsap.to(this.$programLoader,{duration:.3,opacity:1}),this.$programLoader.classList.add("active"),gsap.to(this.$programListingWrapper,{duration:.3,opacity:0}),this.$programContent.style.height=this.$programListingWrapper.offsetHeight+"px",fetch(n,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.text()})).then((function(e){for(var n=0;n<i.showSliders.length;n++)i.showSliders[n].dispose();i.$programListingWrapper.innerHTML=JSON.parse(e).html,window.history.pushState({html:JSON.parse(e).html},"",t);for(var r=i.$programListingWrapper.querySelectorAll(".underscore-js"),o=0;o<r.length;o++){var s=r[o];new ot(s)}i.initSingleShows(i.$programListingWrapper),gsap.to(i.$programLoader,{duration:.3,opacity:0,onComplete:function(){i.$programLoader.classList.remove("active")}}),i.$userTimezoneHours=i.$view.querySelectorAll(".userTimezone");for(var a=0;a<i.$userTimezoneHours.length;a++){var l=i.$userTimezoneHours[a];i.userTimezoneHours.push(new I(l))}gsap.to(i.$programContent,{duration:.3,delay:.2,height:i.$programListingWrapper.scrollHeight}),gsap.to(i.$programListingWrapper,{duration:.3,opacity:1,delay:.2}),g.a.emit(y.a.TRANSITION_SINGLE_TITLE_RESET_LISTENERS)}))}},{key:"initSingleShows",value:function(e){window.NSFW.programSliders=this.showSliders,window.NSFW.programSlidersLines=this.showSlidersLinesAnimation,this.$showSingle=e.querySelectorAll(".single-show"),this.$showSliders=e.querySelectorAll(".single-show__slider"),this.showSliders=[],this.showSlidersLinesAnimation=[];for(var t=0;t<this.$showSliders.length;t++){var i=this.$showSliders[t];this.showSliders.push(new Fe(i,t))}for(var n=0;n<this.$showSingle.length;n++){var r=this.$showSingle[n];this.showSlidersLinesAnimation.push(new Ye("show-lines-animation-"+n,r))}if(this.$btnExternal=document.querySelectorAll(".btn-external"),this.$btnExternal)for(var o=0;o<this.$btnExternal.length;o++)this.btnExternals.push(new C.a(this.$btnExternal[o])),this.btnExternalsAnimations.push(new G("btn-external-"+o,this.$btnExternal[o]))}},{key:"initCalendrier",value:function(){if(this.calendarSwiper=new Swiper(this.$weeklyContainer,{slidesPerView:"auto",spaceBetween:10,visibilityFullFit:!0,freeMode:!0,freeModeMomentumBounce:!1,resistanceRatio:0,grabCursor:!0}),this.calendarSwiper.on("progress",this.swiperProgress),this.swiperProgress(0),this.$note=this.$weeklyContainer.querySelector(".program__calendar-note"),this.$svgArrow=this.$weeklyContainer.querySelector(".svg-right"),this.$svgArrowLeft=this.$weeklyContainer.querySelector(".svg-left"),this.$note){var e=this.$note.offsetHeight+200;this.$svgArrow&&(this.$svgArrow.style.top=e+"px"),this.$svgArrowLeft&&(this.$svgArrowLeft.style.top=e+"px")}else this.$svgArrow&&(this.$svgArrow.style.top="280px"),this.$svgArrowLeft&&(this.$svgArrowLeft.style.top="280px");for(var t=this.$weeklyContainer.querySelector(".swiper-wrapper").querySelectorAll(".swiper-slide"),i=0,n=0;n<t.length;n++)i+=t[n].offsetWidth+32;i>window.innerWidth?(this.$weeklyContainer.classList.add("show-arrow"),this.$calendarFixedNavArrowRight.classList.add("hide-arrow-scroll"),this.$calendarFixedNavArrowLeft.classList.add("hide-arrow-scroll")):(this.$weeklyContainer.classList.add("hide-arrow"),this.$calendarFixedNavArrowRight.classList.add("hide-arrow"),this.$calendarFixedNavArrowLeft.classList.add("hide-arrow")),this.$calendarNavArrow.addEventListener("click",this.onArrowCalendarClick),this.$calendarNavArrowLeft.addEventListener("click",this.onArrowLeftCalendarClick),this.$calendarFixedNavArrowRight.addEventListener("click",this.onArrowCalendarClick),this.$calendarFixedNavArrowLeft.addEventListener("click",this.onArrowLeftCalendarClick)}},{key:"setBlockSize",value:function(){this.$blocksCal=this.$view.querySelectorAll(".program__calendar-col-block--content"),this.$blocksCal.forEach((function(e){var t=e.querySelector(".program__calendar-col-time"),i=e.querySelector(".program__calendar-col-artists");e.style.height=Math.max(t.offsetHeight,i.offsetHeight)+"px"}))}},{key:"setBlockHoverSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.querySelector(".program__calendar-col-block--content");if(NSFW.isDesktop){var n=e.querySelector(".program__calendar-col-time"),r=e.querySelector(".program__calendar-col-artists");i.style.height=null!==t?t+"px":n.offsetHeight+r.offsetHeight+"px"}else i.style.height="auto"}},{key:"setAllHover",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.$programContent.querySelectorAll("[data-hover-id='".concat(e.dataset.hoverId,"']"));i.forEach((function(e){t?e.classList.add("is-hover"):e.classList.remove("is-hover")}))}},{key:"swiperProgress",value:function(e){e>.001?(this.$weeklyContainer.classList.add("program__calendar--is-right"),this.$calendarFixedNavArrowLeft.classList.remove("opacity-arrow")):(this.$weeklyContainer.classList.remove("program__calendar--is-right"),this.$calendarFixedNavArrowLeft.classList.add("opacity-arrow")),e<.99?(this.$weeklyContainer.classList.add("program__calendar--is-left"),this.$calendarFixedNavArrowRight.classList.remove("opacity-arrow")):(this.$weeklyContainer.classList.remove("program__calendar--is-left"),this.$calendarFixedNavArrowRight.classList.add("opacity-arrow"))}},{key:"getDistance",value:function(e){var t=e,i=0;if(t.offsetParent)do{i+=t.offsetTop,t=t.offsetParent}while(t);return i<0?0:i}},{key:"onScroll",value:function(){this.isWeeklyView&&(document.documentElement.scrollTop>this.getDistance(this.$weeklyContainer)-window.innerHeight/2+50&&document.documentElement.scrollTop<this.getDistance(this.$weeklyContainer)+this.$weeklyContainer.scrollHeight-window.innerHeight/2.5?(this.$calendarFixedNavArrowRight.classList.remove("hide-arrow-scroll"),this.$calendarFixedNavArrowLeft.classList.remove("hide-arrow-scroll")):(this.$calendarFixedNavArrowRight.classList.add("hide-arrow-scroll"),this.$calendarFixedNavArrowLeft.classList.add("hide-arrow-scroll")))}},{key:"onArrowCalendarClick",value:function(){this.calendarSwiper.slideNext()}},{key:"onArrowLeftCalendarClick",value:function(){this.calendarSwiper.slidePrev()}},{key:"onMouseEnter",value:function(e){this.setBlockHoverSize(e.target),this.setAllHover(e.target,!0)}},{key:"onMouseLeave",value:function(e){var t=32,i=e.target.querySelector(".program__calendar-col-time");void 0!==i&&(t=i.offsetHeight),this.setBlockHoverSize(e.target,t),this.setAllHover(e.target,!1)}},{key:"addListeners",value:function(){var e=this;this.$weeklyViewBtnWeekly.addEventListener("click",this.onClickWeeklyViewBtn),this.$weeklyViewBtnDaily.addEventListener("click",this.onClickWeeklyViewBtn);for(var t=0;t<this.$dayNavLinks.length;t++)this.$dayNavLinks[t].addEventListener("click",this.onDayFilterClick);this.$programCalendarBlocks.forEach((function(t){var i=32,n=t.querySelector(".program__calendar-col-time");void 0!==n&&(i=n.offsetHeight),e.setBlockHoverSize(t,i),t.addEventListener("mouseenter",e.onMouseEnter),t.addEventListener("mouseleave",e.onMouseLeave)}))}},{key:"onClickWeeklyViewBtn",value:function(e){if(e&&(e.preventDefault(),e.stopPropagation()),this.isWeeklyView){var t=this.$listingContainer.scrollHeight;this.tlWeekly=gsap.timeline({}),this.tlWeekly.to(this.$weeklyViewBtnDaily,{duration:.3,opacity:0}),this.tlWeekly.to(this.$dayNavInfo,{duration:.3,opacity:0},"-=.3"),this.tlWeekly.to(this.$weeklyContainer,{duration:.3,opacity:0},"-=.3"),this.tlWeekly.to(this.$programContent,{duration:.3,height:t}),this.tlWeekly.to(this.$listingContainer,{duration:.3,opacity:1}),this.tlWeekly.to(this.$dayNav,{duration:.3,opacity:1},"-=.3"),this.tlWeekly.to(this.$weeklyViewBtnWeekly,{duration:.3,opacity:1},"-=.3"),this.$listingContainer.style.pointerEvents="auto",this.$dayNav.style.pointerEvents="auto",this.$weeklyContainer.style.pointerEvents="none",this.isWeeklyView=!1,window.history.pushState({html:""},"","#"),this.$calendarFixedNavArrowRight.classList.add("hide-arrow"),this.$calendarFixedNavArrowLeft.classList.add("hide-arrow"),this.$tabNavLinks&&this.$tabNavLinks.forEach((function(e){e.setAttribute("href",e.getAttribute("href").replace("#weekly-view",""))})),window.localStorage.setItem("view-type","daily")}else{var i=this.$weeklyContainer.scrollHeight;this.tlWeekly=gsap.timeline({}),this.tlWeekly.to(this.$listingContainer,{duration:.3,opacity:0}),this.tlWeekly.to(this.$dayNav,{duration:.3,opacity:0},"-=.3"),this.tlWeekly.to(this.$weeklyViewBtnWeekly,{duration:.3,opacity:0},"-=.3"),this.tlWeekly.to(this.$weeklyViewBtnDaily,{duration:.3,opacity:1,delay:.3}),this.tlWeekly.to(this.$programContent,{duration:.3,height:i},"-=.3"),this.tlWeekly.to(this.$weeklyContainer,{duration:.3,opacity:1}),this.tlWeekly.to(this.$dayNavInfo,{duration:.3,opacity:1},"-=.3"),this.$listingContainer.style.pointerEvents="none",this.$dayNav.style.pointerEvents="none",this.$weeklyContainer.style.pointerEvents="auto",this.isWeeklyView=!0,window.history.pushState({html:""},"","#weekly-view"),this.$tabNavLinks&&this.$tabNavLinks.forEach((function(e){e.setAttribute("href",e.getAttribute("href")+"#weekly-view")})),this.$calendarFixedNavArrowRight.classList.remove("hide-arrow"),this.$calendarFixedNavArrowLeft.classList.remove("hide-arrow"),window.localStorage.setItem("view-type","weekly")}}},{key:"initNavSwiper",value:function(){this.dayNavSwiper=new Swiper(this.$dayNav,{slidesPerView:"auto",spaceBetween:0,visibilityFullFit:!0,freeMode:!0,freeModeMomentumBounce:!1,resistanceRatio:0}),this.$dayNavArrow.addEventListener("click",this.onArrowNavClick),window.innerWidth-80-220>this.dayNavWidth?this.$dayNav.classList.add("no-arrow"):this.$dayNav.classList.remove("no-arrow")}},{key:"onArrowNavClick",value:function(){this.dayNavSwiper.slideNext()}},{key:"onResize",value:function(){var e=this;if(this.$programCalendarBlocks.forEach((function(t){var i=32,n=t.querySelector(".program__calendar-col-time");void 0!==n&&(i=n.offsetHeight),e.setBlockHoverSize(t,i)})),this.isWeeklyView){var t=this.$weeklyContainer.scrollHeight;gsap.to(this.$programContent,{duration:0,height:t})}else{var i=this.$listingContainer.scrollHeight;gsap.to(this.$programContent,{duration:0,height:i})}window.innerWidth-80-220>this.dayNavWidth?this.$dayNav.classList.add("no-arrow"):this.$dayNav.classList.remove("no-arrow"),setTimeout((function(){e.containerBounds=e.$weeklyContainer.getBoundingClientRect()}),500)}},{key:"dispose",value:function(){var e=this;if(Sn(En(t.prototype),"dispose",this).call(this),this.btnExternals.length>0){for(var i=0;i<this.btnExternals.length;i++)this.btnExternals[i].dispose(),this.btnExternalsAnimations[i].dispose();this.btnExternals=[],this.btnExternalsAnimations=[]}if(this.$allSections){for(var r=0;r<this.$allSections.length;r++)this.allSections[r].dispose();this.$allSections=null,this.allSections=null}this.$programTopNav&&this.$headerNavContainer.querySelector(".program__top-nav").remove(),this.$calendarFixedNavArrowRight.classList.add("hide-arrow"),this.$calendarFixedNavArrowLeft.classList.add("hide-arrow"),this.$weeklyViewBtnWeekly&&this.$weeklyViewBtnWeekly.removeEventListener("click",this.onClickWeeklyViewBtn),this.$weeklyViewBtnDaily&&this.$weeklyViewBtnDaily.removeEventListener("click",this.onClickWeeklyViewBtn);for(var o=0;o<this.$dayNavLinks.length;o++)this.$dayNavLinks[o].removeEventListener("click",this.onDayFilterClick);this.$programCalendarBlocks.forEach((function(t){t.removeEventListener("mouseenter",e.onMouseEnter),t.removeEventListener("mouseleave",e.onMouseLeave)})),this.calendarSwiper&&(this.calendarSwiper.off("progress",this.swiperProgress),this.calendarSwiper.destroy()),n.a.unbind("program",this.onResize),a.a.unbind("program-arrows",this.onScroll),this.$dayNavArrow.removeEventListener("click",this.onArrowNavClick),this.dayNavSwiper.destroy()}}])&&kn(i.prototype,r),o&&kn(i,o),t}(dt);function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pn(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cn(e,t,i){return(Cn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=An(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pn(this,An(t).call(this,"speakers-single"))}var i,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(t,e),i=t,(r=[{key:"beforeDisplay",value:function(){Cn(An(t.prototype),"beforeDisplay",this).call(this),this.initImage=this.initImage.bind(this),this.$title=this.$view.querySelector(".hero-single__title-new--title"),this.$image=this.$view.querySelector(".hero-single__image"),this.$leftColumn=this.$view.querySelector(".left-column-js"),this.$rightColumn=this.$view.querySelector(".sidebar-wrapper-js"),this.$wrapper=this.$view.querySelector(".hero-single__wrapper"),this.imageBottom=0,this.wrapperBottom=0,this.space=0,this.initImage(),n.a.bind("artist-single-image",this.initImage)}},{key:"initImage",value:function(){this.imageBottom=this.$image.getBoundingClientRect().bottom,this.wrapperBottom=this.$wrapper.getBoundingClientRect().bottom,this.imageBottom>this.wrapperBottom&&(this.space=this.imageBottom-this.wrapperBottom),this.$leftColumn.style.paddingTop=this.space+40+"px",this.$rightColumn.style.paddingTop=this.space+40+"px"}},{key:"dispose",value:function(){Cn(An(t.prototype),"dispose",this).call(this),n.a.unbind("artist-single-image")}}])&&Tn(i.prototype,r),o&&Tn(i,o),t}(Xi);function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dn(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e,t,i){return(Rn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=In(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dn(this,In(t).call(this,"gallery"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Rn(In(t.prototype),"beforeDisplay",this).call(this),this.onOpenOverlay=this.onOpenOverlay.bind(this),this.onCloseOverlay=this.onCloseOverlay.bind(this),this.changeOverlayContent=this.changeOverlayContent.bind(this),this.onToggleSidebar=this.onToggleSidebar.bind(this),this.onNextArtwork=this.onNextArtwork.bind(this),this.onPrevArtwork=this.onPrevArtwork.bind(this),this.animateArrowNext=this.animateArrowNext.bind(this),this.animateArrowPrev=this.animateArrowPrev.bind(this),this.lang=document.querySelector("html").getAttribute("lang"),this.$artworkOverlay=this.$view.querySelector(".artwork-overlay"),this.$artworkItems=this.$view.querySelectorAll(".artwork-item"),this.$artworkContentContainer=this.$view.querySelector(".artwork-overlay__content-container"),this.$artworkOverlayClose=this.$artworkOverlay.querySelector(".artwork-overlay__nav-close"),this.$artworkOverlayLink=this.$artworkOverlay.querySelector(".artwork-overlay__nav-link"),this.$artworkOverlayLinkLabel=this.$artworkOverlay.querySelector(".artwork-overlay__nav-label"),this.$artworkOverlayBanner=this.$artworkOverlay.querySelector(".header-sticky__banner"),this.$artworkOverlayBannerLabels=this.$artworkOverlayBanner.querySelectorAll(".banner-small__label"),this.$artworkOverlaySidebar=this.$artworkOverlay.querySelector(".artwork-overlay__sidebar"),this.$artworkOverlaySidebarContent=this.$artworkOverlay.querySelector(".artwork-overlay__sidebar-content"),this.$artworkOverlayNext=this.$artworkOverlay.querySelector(".artwork-overlay__nav-arrows .artwork-overlay__nav-arrows--right"),this.$artworkOverlayPrev=this.$artworkOverlay.querySelector(".artwork-overlay__nav-arrows .artwork-overlay__nav-arrows--left"),this.$artworkOverlayCloseDetails=this.$artworkOverlay.querySelector(".artwork-overlay__close-sidebar"),this.$artworkOverlayLinkLabelMobileContainer=this.$artworkOverlay.querySelector(".artwork-overlay__nav-link-mobile"),this.$artworkOverlayLinkLabelMobile=this.$artworkOverlay.querySelector(".artwork-overlay__nav-link-mobile .artwork-overlay__nav-label"),this.labelClose=this.$artworkOverlay.dataset.labelClose,this.labelLearnMore=this.$artworkOverlay.dataset.labelLearnmore,this.$bannerSmall=this.$view.querySelector(".header-sticky__banner"),this.$btnArrowLeft=this.$artworkOverlay.querySelector(".artwork-overlay__nav-arrows--left svg"),this.$btnArrowRight=this.$artworkOverlay.querySelector(".artwork-overlay__nav-arrows--right svg"),this.$btnArrowRightContainer=this.$artworkOverlay.querySelector(".artwork-overlay__nav-arrows--right"),this.$btnArrowLeftContainer=this.$artworkOverlay.querySelector(".artwork-overlay__nav-arrows--left"),this.isSidebarOpened=!1,this.currentArtworkId=!1,this.moveOverlayToBody(),this.addListeners(),this.initComponents(),this.createArrowNextTimeline(),this.createArrowPrevTimeline()}},{key:"initComponents",value:function(){this.$bannerSmall&&(this.bannerSmall=new Bi(this.$bannerSmall))}},{key:"fetchDetails",value:function(e){var t=this;this.$artworkOverlaySidebarContent.innerHTML="",this.controller&&this.controller.abort(),this.controller=new AbortController;var i=this.controller.signal;this.fetch=fetch("/".concat(this.lang,"/ajax/artwork/").concat(e),{signal:i}).then((function(e){return e.json()})).then((function(e){t.$artworkOverlaySidebarContent.innerHTML=e.html}))}},{key:"createArrowNextTimeline",value:function(){var e=this;this.$btnArrowRightContainer.addEventListener("mouseenter",this.animateArrowNext),this.tlNext=gsap.timeline({paused:!0}),this.tlNext.to(this.$btnArrowRight,{duration:.3,x:100,ease:"power2.in"}),this.tlNext.set(this.$btnArrowRight,{x:-100}),this.tlNext.to(this.$btnArrowRight,{duration:.6,ease:"power4.out",x:0,onComplete:function(){e.$btnArrowRightContainer.addEventListener("mouseenter",e.animateArrowNext)}})}},{key:"createArrowPrevTimeline",value:function(){var e=this;this.$btnArrowLeftContainer.addEventListener("mouseenter",this.animateArrowPrev),this.tlPrev=gsap.timeline({paused:!0}),this.tlPrev.to(this.$btnArrowLeft,{duration:.3,x:-100,ease:"power2.in"}),this.tlPrev.set(this.$btnArrowLeft,{x:100}),this.tlPrev.to(this.$btnArrowLeft,{duration:.6,ease:"power4.out",x:0,onComplete:function(){e.$btnArrowLeftContainer.addEventListener("mouseenter",e.animateArrowPrev)}})}},{key:"animateArrowNext",value:function(e){this.$btnArrowRightContainer.removeEventListener("mouseenter",this.animateArrowNext),this.tlNext.seek(0),this.tlNext.play()}},{key:"animateArrowPrev",value:function(e){this.$btnArrowLeftContainer.removeEventListener("mouseenter",this.animateArrowPrev),this.tlPrev.seek(0),this.tlPrev.play()}},{key:"changeOverlayContent",value:function(e){this.resetOverlay();var t=e.dataset,i=t.type,n=t.artworkLink,r=t.artworkLabel,o=t.artworkId,s=t.index,a=t.mobile;switch(this.currentArtworkIndex=s,i){case"iframe":var l=t.iframe;this.createIframe(l);break;case"image":var c=t.image,u=t.background;this.createImage(c,u);break;case"video":var h=t.videoType,p=t.video;switch(h){case"vimeo":this.createVimeo(p);break;case"youtube":this.createYoutube(p)}}a?this.$artworkOverlay.classList.remove("not-mobile-friendly"):this.$artworkOverlay.classList.add("not-mobile-friendly"),this.fetchDetails(o),this.changeArtworkLink(n,r)}},{key:"createVimeo",value:function(e){var t=document.createElement("div");this.$artworkContentContainer.appendChild(t),gsap.set(t,{width:"100%",height:"100%"});var i={autoplay:!0,loop:!1,muted:!1,playsinline:!0,poster:!1,tracking:!1,id:e};this.player=new Vimeo.Player(t,i)}},{key:"createImage",value:function(e,t){var i=document.createElement("div");i.classList.add("image-container");var n=document.createElement("img");n.setAttribute("src",e),i.appendChild(n),i.style.backgroundColor=t?"#000":"#fff",this.$artworkContentContainer.appendChild(i)}},{key:"createYoutube",value:function(e){var t=document.createElement("div");this.$artworkContentContainer.appendChild(t),this.player=new YT.Player(t,{height:"390",width:"640",videoId:e,playerVars:{rel:0,controls:!0,disablekb:0,showinfo:0,modestbranding:0,autoplay:!0,playsinline:!0,cc_load_policy:0,iv_load_policy:3}})}},{key:"createIframe",value:function(e){var t=document.createElement("iframe");t.setAttribute("src",e),this.$artworkContentContainer.appendChild(t)}},{key:"resetOverlay",value:function(){this.$artworkOverlayLink.setAttribute("href",""),this.$artworkOverlayLinkLabelMobileContainer.setAttribute("href",""),this.$artworkOverlayLink.removeAttribute("style"),this.$artworkOverlayLinkLabelMobileContainer.removeAttribute("style"),this.$artworkContentContainer.innerHTML=""}},{key:"changeArtworkLink",value:function(e,t){e?(this.$artworkOverlayLink.setAttribute("href",e),this.$artworkOverlayLinkLabel.innerHTML=t,this.$artworkOverlayLinkLabelMobileContainer.setAttribute("href",e),this.$artworkOverlayLinkLabelMobile.innerHTML=t):(this.$artworkOverlayLink.style.display="none",this.$artworkOverlayLinkLabelMobileContainer.style.display="none")}},{key:"moveOverlayToBody",value:function(){this.$body=document.querySelector("body"),this.$artworkOverlayParent=this.$artworkOverlay.parentNode,this.$artworkOverlayParent.removeChild(this.$artworkOverlay),this.$body.appendChild(this.$artworkOverlay)}},{key:"onToggleSidebar",value:function(e){var t=this;e&&(e.preventDefault(),e.stopPropagation()),this.isSidebarOpened?(this.isSidebarOpened=!1,this.$artworkOverlaySidebar.classList.remove("opened"),this.$artworkOverlayBannerLabels.forEach((function(e){e.innerHTML=t.labelLearnMore})),this.$artworkOverlayCloseDetails.style.pointerEvents="none",this.$artworkOverlayCloseDetails.removeEventListener("click",this.onToggleSidebar),this.$bannerSmall.classList.remove("opened")):(this.isSidebarOpened=!0,this.$artworkOverlaySidebar.classList.add("opened"),this.$artworkOverlayBannerLabels.forEach((function(e){e.innerHTML=t.labelClose})),this.$artworkOverlayCloseDetails.style.pointerEvents="auto",this.$artworkOverlayCloseDetails.addEventListener("click",this.onToggleSidebar),this.$bannerSmall.classList.add("opened"))}},{key:"onOpenOverlay",value:function(e){a.a.lock(),this.$artworkOverlay.style.display="block",gsap.to(this.$artworkOverlay,{duration:.3,opacity:1}),this.changeOverlayContent(e.currentTarget)}},{key:"onCloseOverlay",value:function(){var e=this;a.a.unlock(),this.$artworkContentContainer.innerHTML="",this.isSidebarOpened&&(this.onToggleSidebar(),this.$artworkOverlayCloseDetails.style.pointerEvents="none",this.$artworkOverlayCloseDetails.removeEventListener("click",this.onToggleSidebar)),gsap.to(this.$artworkOverlay,{duration:.3,opacity:0,onComplete:function(){e.$artworkOverlay.style.display="none"}})}},{key:"onNextArtwork",value:function(){var e=this;this.$artworkItems.forEach((function(t,i){t.dataset.index==e.currentArtworkIndex&&(e.currentIndex=i)})),this.currentIndex==this.$artworkItems.length-1?this.currentIndex=0:this.currentIndex+=1,this.changeOverlayContent(this.$artworkItems[this.currentIndex])}},{key:"onPrevArtwork",value:function(){var e=this;this.$artworkItems.forEach((function(t,i){t.dataset.index==e.currentArtworkIndex&&(e.currentIndex=i)})),0==this.currentIndex?this.currentIndex=this.$artworkItems.length-1:this.currentIndex-=1,this.changeOverlayContent(this.$artworkItems[this.currentIndex])}},{key:"addListeners",value:function(){var e=this;this.$artworkItems.forEach((function(t){t.addEventListener("click",e.onOpenOverlay)})),this.$artworkOverlayClose.addEventListener("click",this.onCloseOverlay),this.$artworkOverlayBanner.addEventListener("click",this.onToggleSidebar),this.$artworkOverlayNext.addEventListener("click",this.onNextArtwork),this.$artworkOverlayPrev.addEventListener("click",this.onPrevArtwork)}},{key:"removeListener",value:function(){var e=this;this.$artworkItems.forEach((function(t){t.removeEventListener("click",e.onOpenOverlay)})),this.$artworkOverlayClose.removeEventListener("click",this.onCloseOverlay),this.$artworkOverlayBanner.removeEventListener("click",this.onToggleSidebar),this.$artworkOverlayNext.removeEventListener("click",this.onNextArtwork),this.$artworkOverlayPrev.removeEventListener("click",this.onPrevArtwork),this.$artworkOverlayCloseDetails.removeEventListener("click",this.onToggleSidebar)}},{key:"dispose",value:function(){Rn(In(t.prototype),"dispose",this).call(this),this.removeListener(),this.$body.removeChild(this.$artworkOverlay)}}])&&jn(i.prototype,n),r&&jn(i,r),t}(dt);function Fn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Bn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.goToNext=this.goToNext.bind(this),this.goToPrev=this.goToPrev.bind(this),this.goToPage=this.goToPage.bind(this),this.changeActivePage=this.changeActivePage.bind(this),this.$view=t,this.$prevBtn=this.$view.querySelector(".pagination-prev"),this.$nextBtn=this.$view.querySelector(".pagination-next"),this.$pageBtns=this.$view.querySelectorAll(".pagination-page"),this.activePage=1,this.url=window.location.origin+window.location.pathname,this.locationHref=window.location.href,-1!==this.locationHref.indexOf("?page=")&&(this.activePage=this.locationHref.substr(this.locationHref.indexOf("?page=")+6),this.changeActivePage()),this.addListeners()}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){this.$prevBtn&&this.$prevBtn.addEventListener("click",this.goToPrev),this.$nextBtn&&this.$nextBtn.addEventListener("click",this.goToNext);for(var e=0;e<this.$pageBtns.length;e++)this.$pageBtns[e].addEventListener("click",this.goToPage)}},{key:"goToNext",value:function(){this.activePage++,this.changeActivePage(),this.refreshPageUpdated()}},{key:"goToPrev",value:function(){this.activePage--,this.changeActivePage(),this.refreshPageUpdated()}},{key:"goToPage",value:function(e){this.activePage=parseInt(e.target.getAttribute("data-page")),this.changeActivePage(),this.refreshPageUpdated()}},{key:"changeActivePage",value:function(){for(var e=0;e<this.$pageBtns.length;e++)this.$pageBtns[e].classList.remove("active");for(var t=0;t<this.$pageBtns.length;t++)this.$pageBtns[t].getAttribute("data-page")==this.activePage&&this.$pageBtns[t].classList.add("active");1===this.activePage?(this.$prevBtn&&this.$prevBtn.classList.add("disabled"),this.$nextBtn&&this.$nextBtn.classList.remove("disabled"),window.history.pushState(null,document.title,this.url)):this.activePage===this.$pageBtns.length?(this.$prevBtn&&this.$prevBtn.classList.remove("disabled"),this.$nextBtn&&this.$nextBtn.classList.add("disabled"),window.history.pushState(null,document.title,this.url+"?page="+this.activePage)):(this.$nextBtn&&this.$nextBtn.classList.remove("disabled"),this.$prevBtn&&this.$prevBtn.classList.remove("disabled"),window.history.pushState(null,document.title,this.url+"?page="+this.activePage))}},{key:"refreshPageUpdated",value:function(){g.a.emit(y.a.CHANGE_FILTERS),setTimeout((function(){window.location.href=window.location.href}),200)}},{key:"dispose",value:function(){this.$prevBtn&&this.$prevBtn.removeEventListener("click",this.goToPrev),this.$nextBtn&&this.$nextBtn.removeEventListener("click",this.goToNext);for(var e=0;e<this.$pageBtns.length;e++)this.$pageBtns[e].removeEventListener("click",this.goToPage)}}])&&Fn(t.prototype,i),n&&Fn(t,n),e}();function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Un(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zn(e,t,i){return(zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gn(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Un(this,Gn(t).call(this,"news"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){zn(Gn(t.prototype),"beforeDisplay",this).call(this),this.$newsPagination=this.$view.querySelector(".news__wrapper-pagination--wrapper"),this.addListeners(),this.$newsPagination&&(this.pagination=new Bn(this.$newsPagination))}},{key:"addListeners",value:function(){}},{key:"dispose",value:function(){zn(Gn(t.prototype),"dispose",this).call(this),this.$newsPagination&&this.pagination.dispose()}}])&&Vn(i.prototype,n),r&&Vn(i,r),t}(dt);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qn(e,t,i){return(Qn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=er(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ir=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zn(this,er(t).call(this,"search"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){Qn(er(t.prototype),"beforeDisplay",this).call(this),this.addListener=this.addListener.bind(this),this.removeFocus=this.removeFocus.bind(this),this.cx=document.querySelector(".new-header-sticky__search-input").getAttribute("data-google-code"),this.gcse=document.createElement("script"),this.gcse.type="text/javascript",this.gcse.async=!0,this.gcse.src="https://cse.google.com/cse.js?cx="+this.cx;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(this.gcse,e),this.searchInput=null,this.url=window.location.origin+window.location.pathname,this.index=0,this.$header=document.querySelector(".new-header-sticky"),null===this.$header&&(this.$header=document.querySelector(".header-sticky")),this.$header.classList.add("theme-white"),this.$header.classList.remove("theme-black"),this.addFocus=setInterval(this.addListener,200)}},{key:"addListener",value:function(){this.searchInput=document.querySelector("input.gsc-input"),this.button=document.querySelector(".gsc-search-button"),this.searchInput&&(this.searchInput.focus(),this.searchInput.addEventListener("keyup",this.removeFocus),this.button.addEventListener("click",this.removeFocus),clearInterval(this.addFocus))}},{key:"removeFocus",value:function(e){"keyup"===e.type?"Enter"===e.key&&this.searchInput.blur():this.searchInput.blur()}},{key:"dispose",value:function(){Qn(er(t.prototype),"dispose",this).call(this),this.gcse.remove()}}])&&Jn(i.prototype,n),r&&Jn(i,r),t}(dt);function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function or(e,t){return!t||"object"!==nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sr(e,t,i){return(sr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ar(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),or(this,ar(t).call(this,"news-single"))}var i,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(t,e),i=t,(n=[{key:"beforeDisplay",value:function(){sr(ar(t.prototype),"beforeDisplay",this).call(this),this.dispose=this.dispose.bind(this),this.copyLink=this.copyLink.bind(this),this.$faqElements=this.$view.querySelectorAll(".faq-element"),this.$copyBtn=this.$view.querySelector(".copy-btn-js"),this.$copycConfirm=this.$view.querySelector(".copy-confirm"),this.faqElement=[],this.tl=new TimelineMax({paused:!0}),this.initFaq(),this.tl.to(this.$copycConfirm,{opacity:1,y:0,duration:.5,ease:"power4.out"}),this.tl.to(this.$copycConfirm,{opacity:0,y:"-100%",duration:.3,ease:"power4.out",delay:2}),this.$copyBtn.addEventListener("click",this.copyLink)}},{key:"copyLink",value:function(e){e.preventDefault(),e.stopPropagation();var t=document.createElement("textarea");document.body.appendChild(t),t.value=window.location.href,t.select(),document.execCommand("copy"),document.body.removeChild(t),this.tl.play(0)}},{key:"initFaq",value:function(){if(this.$faqElements)for(var e=0;e<this.$faqElements.length;e++)this.faqElement[e]=new qt(this.$faqElements[e],e)}},{key:"dispose",value:function(){if(sr(ar(t.prototype),"dispose",this).call(this),this.$faqElements)for(var e=0;e<this.$faqElements.length;e++)this.faqElement[e].dispose();this.$copyBtn.removeEventListener("click",this.copyLink)}}])&&rr(i.prototype,n),r&&rr(i,r),t}(Xi);function ur(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var hr=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.view=i,this.options=n,this.onResize=this.onResize.bind(this),this.rafUpdate=this.rafUpdate.bind(this),this.limit=this.limit.bind(this),this.distance=this.distance.bind(this),this.onClick=this.onClick.bind(this),this.openMenu=this.openMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.locate=this.locate.bind(this),this.dispose=this.dispose.bind(this),this.$menuBtns=this.view.querySelector(".menu-btns"),this.$bgCircle=this.view.querySelector(".bg-button-circle"),this.$bgButtonOpen=this.view.querySelector(".bg-button-open"),this.cornersBorders=this.view.querySelectorAll(".border-inner"),this.$cross=this.$menuBtns.querySelector(".cross"),this.$halfCrossLines=this.$cross.querySelectorAll(".half-cross-line"),this.$dot=this.$menuBtns.querySelector(".dot"),this.menuBtnsFinalPosY=0,this.menuBtnsFinalPosX=0,this.smoothness=.3,this.limitInsideCircle=10,this.isMenuOpen=!1,this.blockButtonClick=!1,this.tlOpen=(new TimelineMax).pause(),this.tlClose=(new TimelineMax).pause(),this.tlOpen.timeScale(1.6),this.tlClose.timeScale(1.6),this.locate(),this.setup(),g.a.on(y.a.HEADER_HIDE_DONE,this.locate),g.a.on(y.a.HEADER_SHOW_DONE,this.locate)}var t,i,r;return t=e,(i=[{key:"setup",value:function(){var e=this;this.tlClose.staggerFromTo(this.$halfCrossLines,2,{scaleY:1,ease:Power3.easeOut},{scaleY:0,ease:Power3.easeOut},0,0),this.tlClose.staggerFromTo(this.cornersBorders,1.5,{scaleX:1,ease:Power3.easeOut},{scaleX:0,ease:Power3.easeOut},0,0),this.tlClose.fromTo(this.$dot,.2,{opacity:0,ease:Power3.easeOut},{opacity:1,ease:Power3.easeOut,onComplete:function(){e.blockButtonClick=!1}},1.2),this.tlOpen.fromTo(this.$cross,2,{rotate:-45,ease:Power3.easeOut},{rotate:45,ease:Power3.easeOut}),this.tlOpen.fromTo(this.$bgButtonOpen,1.5,{rotate:-178,ease:Power3.easeOut},{rotate:0,ease:Power3.easeOut},0),this.tlOpen.staggerFromTo(this.cornersBorders,1.5,{scaleX:0,ease:Power3.easeOut},{scaleX:1,ease:Power3.easeOut},0,0),this.tlOpen.staggerFromTo(this.$halfCrossLines,1,{scaleY:0,ease:Power3.easeOut},{scaleY:1,ease:Power3.easeOut,delay:.5},0,0),this.tlOpen.fromTo(this.$dot,.2,{opacity:1,ease:Power3.easeOut},{opacity:0,ease:Power3.easeOut,onComplete:function(){e.blockButtonClick=!1}},1.2),n.a.bind(this.id,this.onResize),l.a.bind(this.id+"-raf",this.rafUpdate)}},{key:"locate",value:function(){this.viewBounds=this.view.getBoundingClientRect(),this.bgCircleBounds={width:this.$bgCircle.offsetWidth,height:this.$bgCircle.offsetHeight,top:this.$bgCircle.offsetTop,left:this.$bgCircle.offsetLeft},this.bgCircleBounds.center=[this.bgCircleBounds.left+this.bgCircleBounds.width/2,this.bgCircleBounds.top+this.bgCircleBounds.height/2],this.bgCircleBounds.radius=this.bgCircleBounds.width/2-this.limitInsideCircle}},{key:"onResize",value:function(){this.locate()}},{key:"onClick",value:function(e){this.isMenuOpen?this.blockButtonClick||this.closeMenu():this.blockButtonClick||this.openMenu()}},{key:"openMenu",value:function(){this.blockButtonClick=!0,this.isMenuOpen=!0,this.tlOpen.restart()}},{key:"closeMenu",value:function(){this.blockButtonClick=!0,this.isMenuOpen=!1,this.tlClose.restart()}},{key:"rafUpdate",value:function(){this.shouldUpdate=this.visibility;var e=this.limit(NSFW.mouse.x-this.viewBounds.left,NSFW.mouse.y-this.viewBounds.top);this.menuBtnsFinalPosY+=(e.y-this.menuBtnsFinalPosY)*this.smoothness,this.menuBtnsFinalPosX+=(e.x-this.menuBtnsFinalPosX)*this.smoothness,this.$menuBtns.style.transform=" translate3d(".concat(this.menuBtnsFinalPosX,"px, ").concat(this.menuBtnsFinalPosY,"px, 0)")}},{key:"limit",value:function(e,t){if(this.distance([e,t],this.bgCircleBounds.center)<=this.bgCircleBounds.radius)return{x:e,y:t};e-=this.bgCircleBounds.center[0],t-=this.bgCircleBounds.center[1];var i=Math.atan2(t,e);return{x:Math.cos(i)*this.bgCircleBounds.radius+this.bgCircleBounds.center[0],y:Math.sin(i)*this.bgCircleBounds.radius+this.bgCircleBounds.center[1]}}},{key:"distance",value:function(e,t){var i=e[0],n=e[1],r=t[0],o=t[1];return Math.sqrt(Math.pow(i-r,2)+Math.pow(n-o,2))}},{key:"dispose",value:function(){g.a.on(y.a.HEADER_HIDE_DONE,this.locate),g.a.on(y.a.HEADER_SHOW_DONE,this.locate),this.tlOpen&&this.tlOpen.dispose(),this.tlClose&&this.tlClose.dispose(),n.a.unbind(this.id,this.onResize),l.a.unbind(this.id+"-raf",this.rafUpdate)}}])&&ur(t.prototype,i),r&&ur(t,r),e}();function pr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var fr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openMenu=this.openMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.onMouseEnterLink=this.onMouseEnterLink.bind(this),this.onMouseLeaveLink=this.onMouseLeaveLink.bind(this),this.toggleMenuDelay=this.toggleMenuDelay.bind(this),this.closeMenuLogoClick=this.closeMenuLogoClick.bind(this),this.$view=document.querySelector(".header-sticky"),this.$menuButton=document.querySelector(".menu-btn-container"),this.$menuToggle=document.querySelector(".header-sticky__menu-toggle"),this.$navMain=document.querySelector(".nav-main"),this.$navLinks=document.querySelectorAll(".nav-main__wrapper a"),this.$logoHomeLinks=document.querySelectorAll(".header-sticky__left a"),this.$navMainLeft=this.$navMain.querySelector(".nav-main__left"),this.$navMainLeftBanner=this.$navMain.querySelector(".nav-main__left .banner-small"),this.$navMainLeftBannerWrapper=this.$navMain.querySelector(".nav-main__left .banner-small__wrapper"),this.$navMainLeftText=this.$navMain.querySelector(".nav-main__left-text"),this.$navMainLeftCta=this.$navMain.querySelector(".nav-main__left-cta"),this.$bgLines=this.$navMain.querySelectorAll(".nav-main__bg span"),this.$bgLeft=this.$navMain.querySelectorAll(".nav-main__left-bg"),this.$navMainContent=this.$navMain.querySelectorAll(".nav-main__right-content"),this.$navMainFooter=this.$navMain.querySelectorAll(".nav-main__right-footer"),this.$navMainHeader=this.$navMain.querySelectorAll(".nav-main__right-header"),this.$bannerSmall=this.$navMainLeft.querySelector(".banner-small"),this.$logoShort=document.querySelector(".header-sticky__logo-short"),this.$languageSwitcherMobile=document.querySelector(".lang-switcher__mobile"),this.$menuButtonCircle=document.querySelector(".bg-button-circle"),this.$menuButtonDot=this.$menuButton.querySelector(".dot"),this.$underscore=document.querySelectorAll(".nav-main .underscore-js"),this.$linksMain=this.$navMain.querySelectorAll(".nav-main__link-main"),this.isNavOpen=!1,this.isMenuTransitioning=!1,this.underscore=[],this.menuButton=new hr("menu-button",this.$menuButton),this.$bannerSmall&&(this.bannerSmall=new Bi(this.$bannerSmall)),this.addListeners()}var t,i,n;return t=e,(i=[{key:"addListeners",value:function(){this.$menuToggle.addEventListener("click",this.toggleMenu);for(var e=0;e<this.$linksMain.length;e++){var t=this.$linksMain[e];window.NSFW.isDesktop&&(t.addEventListener("mouseenter",this.onMouseEnterLink),t.addEventListener("mouseleave",this.onMouseLeaveLink))}for(var i=0;i<this.$navLinks.length;i++)this.$navLinks[i].addEventListener("click",this.toggleMenuDelay);for(var n=0;n<this.$logoHomeLinks.length;n++)this.$logoHomeLinks[n].addEventListener("click",this.closeMenuLogoClick);for(var r=0;r<this.$underscore.length;r++){var o=this.$underscore[r];this.underscore.push(new ot(o))}}},{key:"onMouseEnterLink",value:function(e){var t=e.currentTarget.querySelector("svg");gsap.fromTo(t,{x:-62},{duration:.3,x:0,ease:"power2.out"})}},{key:"onMouseLeaveLink",value:function(e){var t=e.currentTarget.querySelector("svg");gsap.to(t,{duration:.3,x:62,ease:"power1.out"})}},{key:"toggleMenuDelay",value:function(e){window.location.href==e.currentTarget.href?this.toggleMenu():setTimeout(this.toggleMenu,1e3)}},{key:"closeMenuLogoClick",value:function(e){e&&!e.currentTarget.classList.contains("no-router")&&e.preventDefault(),this.isMenuTransitioning||this.isNavOpen&&(this.menuButton.onClick(),this.closeMenu(),this.isNavOpen=!1,g.a.emit(y.a.HEADER_MENU_CLOSE),this.isMenuTransitioning=!0)}},{key:"toggleMenu",value:function(e){e&&e.preventDefault(),this.isMenuTransitioning||(this.menuButton.onClick(),this.isNavOpen?(this.closeMenu(),this.isNavOpen=!1,g.a.emit(y.a.HEADER_MENU_CLOSE),this.isMenuTransitioning=!0):(g.a.emit(y.a.HEADER_HIDE),g.a.emit(y.a.HEADER_MENU_OPEN),this.isMenuTransitioning=!0,this.openMenu(),this.isNavOpen=!0))}},{key:"openMenu",value:function(){var e=this;this.$navMain.scrollTop=0,gsap.set(this.$navMain,{opacity:1,display:"block",pointerEvents:"auto"}),gsap.to(this.$bgLines,{duration:.4,x:0,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power1.in",amount:.3}}),this.$languageSwitcherMobile&&NSFW.isMobile&&(gsap.to(this.$logoShort,{duration:.2,opacity:0,delay:.2,pointerEvents:"none"}),gsap.to(this.$languageSwitcherMobile,{duration:.4,opacity:1,delay:.4,pointerEvents:"auto"})),gsap.to(this.$navMainLeft,{duration:.5,opacity:1,x:0,delay:.5,ease:"power2.easeOut"}),gsap.to(this.$navMainLeftText,{duration:.5,opacity:1,x:0,delay:.6,ease:"power2.easeOut"}),gsap.to(this.$navMainLeftCta,{duration:.5,opacity:1,x:0,delay:.8,ease:"power2.easeOut"}),this.$navMainLeftBanner&&gsap.to(this.$navMainLeftBannerWrapper,{duration:.3,scaleY:1,opacity:1,delay:.7,ease:"power2.easeOut"}),gsap.to(this.$navMainContent,{duration:.5,opacity:1,x:0,delay:.7,ease:"power2.easeOut"}),gsap.to(this.$navMainFooter,{duration:.65,opacity:1,delay:.9,ease:"power2.easeOut"}),gsap.to(this.$navMainHeader,{duration:.35,opacity:1,x:0,delay:.9,ease:"power2.easeOut",onComplete:function(){e.isMenuTransitioning=!1}}),this.$menuButtonCircle.style.borderColor="#fff",this.$menuButtonDot.style.backgroundColor="#fff",a.a.lock()}},{key:"closeMenu",value:function(){var e=this;gsap.to(this.$navMain,{duration:.3,opacity:0,pointerEvents:"none",onComplete:function(){gsap.set(e.$navMainLeft,{opacity:0}),gsap.set(e.$navMainContent,{opacity:0,x:-100}),gsap.set(e.$bgLines,{x:-window.innerWidth,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power2.in",amount:.01}}),gsap.set(e.$navMainFooter,{opacity:0}),gsap.set(e.$navMainHeader,{opacity:0,x:-50}),gsap.set(e.$navMainLeftText,{opacity:0,x:-40}),gsap.set(e.$navMainLeftCta,{opacity:0,x:-40}),gsap.set(e.$navMainLeftBannerWrapper,{opacity:0,scaleY:0}),setTimeout((function(){e.isMenuTransitioning=!1}),700)}}),this.$languageSwitcherMobile&&NSFW.isMobile&&(gsap.to(this.$logoShort,{duration:.3,opacity:1,delay:.2,pointerEvents:"auto"}),gsap.to(this.$languageSwitcherMobile,{duration:.3,opacity:0,delay:0,pointerEvents:"none"})),this.$menuButtonCircle.style.borderColor="",this.$menuButtonDot.style.backgroundColor="",a.a.unlock()}}])&&pr(t.prototype,i),n&&pr(t,n),e}();function dr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var vr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openSubMenu=this.openSubMenu.bind(this),this.openMainNavSubMenu=this.openMainNavSubMenu.bind(this),this.openSecondNavSubMenu=this.openSecondNavSubMenu.bind(this),this.closeSubMenu=this.closeSubMenu.bind(this),this.closeAll=this.closeAll.bind(this),this.openParentSubMenu=this.openParentSubMenu.bind(this),this.openMenu=this.openMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.hideActiveSubMenu=this.hideActiveSubMenu.bind(this),this.needClosing=this.needClosing.bind(this),this.toggleMenuDelay=this.toggleMenuDelay.bind(this),this.toggleLangSwitcher=this.toggleLangSwitcher.bind(this),this.toggleLangSwitcherMobile=this.toggleLangSwitcherMobile.bind(this),this.$view=document.querySelector(".new-header-sticky"),this.$linksWithSubMenu=this.$view.querySelectorAll(".with-sub-menu-js"),this.$allLinks=this.$view.querySelectorAll(".new-header-sticky__secondary-level-links"),this.$allLinksToo=this.$view.querySelectorAll(".close-link-js"),this.$menuButton=document.querySelector(".menu-btn-container"),this.$navMain=document.querySelector(".mobile-nav-main"),this.$navMobileTopLinks=document.querySelector(".new-header-sticky__left-mobile"),this.$navTopLinks=this.$navMobileTopLinks.getElementsByTagName("a"),this.$mainNavLinksContainer=document.querySelector(".mobile-nav-main__nav"),this.$menuToggle=document.querySelector(".header-sticky__menu-toggle"),this.$bgLines=this.$navMain.querySelectorAll(".mobile-nav-main__bg span"),this.$menuButtonCircle=document.querySelector(".bg-button-circle"),this.$menuButtonDot=this.$menuButton.querySelector(".dot"),this.$mainOverflow=document.querySelector(".mobile-nav-main__nav-links"),this.menuButton=new hr("menu-button",this.$menuButton),this.$mainLinksWithSubMenu=this.$navMain.querySelectorAll(".with-sub-menu"),this.$secondLinksWithSubMenu=this.$navMain.querySelectorAll(".sub-with-sub-menu"),this.$backToMain=document.querySelector(".back-to-main-js"),this.$allSubMenus=this.$navMain.querySelectorAll(".sub-menu-js"),this.$closeLabel=document.querySelector(".header-sticky__label-close"),this.$subMenuesBgLines=document.querySelectorAll(".bg-lines-js"),this.$everyLinks=document.querySelector(".mobile-nav-main").getElementsByTagName("a"),this.$langWrapperDesktop=document.querySelector(".links-container__languages"),this.$otherLanguagesWrapper=this.$langWrapperDesktop.querySelector(".links-container__languages-others"),this.$langWrapperMobile=document.querySelector(".new-header-sticky__left-mobile--languages"),this.$otherLanguagesWrapperMobile=this.$langWrapperMobile.querySelector(".links-container__languages-others"),this.$searchMobile=document.querySelector(".new-header-sticky__left-mobile--search"),this.$otherLanguagesWrapper&&(0===this.$otherLanguagesWrapper.offsetHeight?(gsap.set(this.$navMobileTopLinks,{display:"flex"}),this.$otherLanguagesWrapper.setAttribute("data-height",this.$otherLanguagesWrapperMobile.offsetHeight),this.$otherLanguagesWrapperMobile.setAttribute("data-height",this.$otherLanguagesWrapperMobile.offsetHeight),gsap.set(this.$navMobileTopLinks,{display:"none"})):0===this.$otherLanguagesWrapperMobile.offsetHeight&&(this.$otherLanguagesWrapper.setAttribute("data-height",this.$otherLanguagesWrapper.offsetHeight),this.$otherLanguagesWrapperMobile.setAttribute("data-height",this.$otherLanguagesWrapper.offsetHeight)),this.$otherLanguagesWrapper.style.maxHeight="0",this.$otherLanguagesWrapperMobile.style.maxHeight="0"),this.isNavOpen=!1,this.isMenuTransitioning=!1,this.level=0,this.elementToClose=[],this.initWidth=window.innerWidth,this.newWidth=0,this.langSwitcherOpened=!1,this.addListeners(),n.a.bind("resize-new-menu",this.needClosing)}var t,i,r;return t=e,(i=[{key:"needClosing",value:function(){this.newWidth=window.innerWidth,this.newWidth!=this.initWidth&&this.isNavOpen&&this.newWidth>1024&&this.toggleMenu()}},{key:"toggleMenuDelay",value:function(e){window.location.href==e.currentTarget.href?this.toggleMenu():setTimeout(this.toggleMenu,1e3)}},{key:"addListeners",value:function(){if(this.$menuToggle.addEventListener("click",this.toggleMenu),this.$backToMain.addEventListener("click",this.hideActiveSubMenu),this.$langWrapperDesktop.addEventListener("mouseenter",this.toggleLangSwitcher),this.$langWrapperDesktop.addEventListener("mouseleave",this.toggleLangSwitcher),this.$langWrapperMobile.addEventListener("click",this.toggleLangSwitcherMobile),this.$mainLinksWithSubMenu)for(var e=0;e<this.$mainLinksWithSubMenu.length;e++)this.$mainLinksWithSubMenu[e].addEventListener("click",this.openMainNavSubMenu);if(this.$everyLinks)for(var t=0;t<this.$everyLinks.length;t++)this.$everyLinks[t].addEventListener("click",this.toggleMenuDelay);if(this.$searchMobile.addEventListener("click",this.toggleMenuDelay),this.$secondLinksWithSubMenu)for(var i=0;i<this.$secondLinksWithSubMenu.length;i++)this.$secondLinksWithSubMenu[i].addEventListener("click",this.openSecondNavSubMenu);if(this.$allLinks)for(var n=0;n<this.$allLinks.length;n++)this.$allLinks[n].addEventListener("focus",this.closeAll);if(this.$allLinksToo)for(var r=0;r<this.$allLinksToo.length;r++)this.$allLinksToo[r].addEventListener("focus",this.closeAll);if(this.$linksWithSubMenu)for(var o=0;o<this.$linksWithSubMenu.length;o++){var s=this.$linksWithSubMenu[o].querySelectorAll(".new-header-sticky__secondary-level-sub-menu--link"),a=s[s.length-1];this.$linksWithSubMenu[o].addEventListener("mouseenter",this.openSubMenu),this.$linksWithSubMenu[o].addEventListener("focus",this.openSubMenu),a.addEventListener("focus",this.openParentSubMenu),this.$linksWithSubMenu[o].addEventListener("mouseleave",this.closeSubMenu)}}},{key:"toggleLangSwitcher",value:function(){this.langSwitcherOpened?(gsap.to(this.$otherLanguagesWrapper,{maxHeight:0,duration:.2}),this.langSwitcherOpened=!1):(gsap.to(this.$otherLanguagesWrapper,{maxHeight:this.$otherLanguagesWrapper.getAttribute("data-height"),duration:.2}),this.langSwitcherOpened=!0)}},{key:"toggleLangSwitcherMobile",value:function(e){var t=this;this.langSwitcherOpened?(gsap.to(this.$otherLanguagesWrapperMobile,{maxHeight:0,pointerEvents:"none",duration:.2,onComplete:function(){gsap.set(t.$otherLanguagesWrapperMobile,{opacity:0})}}),this.langSwitcherOpened=!1):(gsap.set(this.$otherLanguagesWrapperMobile,{opacity:1,onComplete:function(){gsap.to(t.$otherLanguagesWrapperMobile,{maxHeight:t.$otherLanguagesWrapperMobile.getAttribute("data-height"),pointerEvents:"all",duration:.2})}}),this.langSwitcherOpened=!0)}},{key:"hideActiveSubMenu",value:function(){var e=this;if(2===this.level){this.level=1,this.elementToClose[this.level].parentNode.parentNode.parentNode.style.overflow="";var t=this.elementToClose[this.level].querySelectorAll(".level-two__bg span");gsap.to(this.elementToClose[this.level],{opacity:0,duration:.3,pointerEvents:"none",onComplete:function(){gsap.set(e.elementToClose[e.level],{display:"none"}),e.elementToClose.pop(),gsap.set(t,{x:-window.innerWidth,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power2.in",amount:.01}})}}),gsap.set(this.$secondLinksWithSubMenu,{pointerEvents:"all"})}else if(1===this.level){this.level=0;var i=this.elementToClose[this.level].querySelectorAll(".level-one__bg span");gsap.to(this.elementToClose[this.level],{opacity:0,duration:.3,pointerEvents:"none",onComplete:function(){gsap.set(e.elementToClose[e.level],{display:"none"}),gsap.set(i,{x:-window.innerWidth,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power2.in",amount:.01}})}}),gsap.to(this.$backToMain,{opacity:0,duration:.2,onComplete:function(){gsap.set(e.$backToMain,{display:"none"}),gsap.to(e.$navTopLinks[0],{duration:.2,opacity:1,pointerEvents:"all"}),gsap.to(e.$navTopLinks[1],{duration:.2,opacity:1,pointerEvents:"all"})}}),gsap.set(this.$mainLinksWithSubMenu,{pointerEvents:"all"}),this.elementToClose=[]}}},{key:"openSecondNavSubMenu",value:function(e){if(1===this.level){var t=e.currentTarget.querySelector(".mobile-sub-menu__sub-menu"),i=e.currentTarget.parentNode.parentNode;this.elementToClose.push(t);var n=t.querySelectorAll(".level-two__bg span");gsap.to(n,{duration:.4,x:0,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power1.in",amount:.3},onComplete:function(){i.style.overflow="hidden",i.scrollTop=0,gsap.to(t.querySelector(".sub-wrapper-js"),{duration:.5,opacity:1,x:0,ease:"power2.easeOut"})}}),gsap.set(t,{opacity:1}),gsap.set(t.querySelector(".sub-wrapper-js"),{opacity:0,x:-20}),gsap.set(t,{display:"block",pointerEvents:"all"}),gsap.set(e.currentTarget,{pointerEvents:"none"}),this.level=2}}},{key:"openMainNavSubMenu",value:function(e){var t=this;if(0===this.level){gsap.to(this.$navTopLinks[0],{duration:.1,opacity:0,pointerEvents:"none"}),gsap.to(this.$navTopLinks[1],{duration:.1,opacity:0,pointerEvents:"none",delay:.1,onComplete:function(){gsap.set(t.$backToMain,{opacity:0,x:-20,display:"block",onComplete:function(){gsap.to(t.$backToMain,{opacity:1,x:0,duration:.2,ease:"power2.easeOut"})}})}});var i=e.currentTarget.querySelector(".mobile-nav-main__nav-links--sub-menu");this.elementToClose.push(i);var n=i.querySelectorAll(".level-one__bg span");gsap.to(n,{duration:.4,x:0,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power1.in",amount:.3}}),gsap.set(i,{opacity:1}),gsap.set(i,{display:"block",pointerEvents:"all"}),gsap.set(e.currentTarget,{pointerEvents:"none"}),gsap.fromTo(i.querySelector(".mobile-sub-menu__links"),{opacity:0,x:-20},{duration:.5,opacity:1,x:0,delay:.5,ease:"power2.easeOut"}),this.level=1}}},{key:"closeAll",value:function(){if(this.$linksWithSubMenu)for(var e=0;e<this.$linksWithSubMenu.length;e++)this.$linksWithSubMenu[e].classList.remove("sub-opened")}},{key:"openParentSubMenu",value:function(e){this.closeAll(),e.currentTarget.parentNode.parentNode.parentNode.classList.add("sub-opened")}},{key:"openSubMenu",value:function(e){e.currentTarget.classList.add("sub-opened")}},{key:"closeSubMenu",value:function(e){e.currentTarget.classList.remove("sub-opened")}},{key:"toggleMenu",value:function(e){e&&e.preventDefault(),this.isMenuTransitioning||(this.menuButton.onClick(),this.isNavOpen?(this.closeMenu(),this.isNavOpen=!1,g.a.emit(y.a.HEADER_MENU_CLOSE),this.isMenuTransitioning=!0,this.langSwitcherOpened&&this.toggleLangSwitcherMobile()):(g.a.emit(y.a.HEADER_HIDE),g.a.emit(y.a.HEADER_MENU_OPEN),this.isMenuTransitioning=!0,this.openMenu(),this.isNavOpen=!0))}},{key:"openMenu",value:function(){var e=this;this.$navMain.scrollTop=0,gsap.set(this.$mainLinksWithSubMenu,{pointerEvents:"all"}),gsap.set(this.$secondLinksWithSubMenu,{pointerEvents:"all"}),gsap.set(this.$navMain,{opacity:1,display:"block",pointerEvents:"auto"}),gsap.to(this.$bgLines,{duration:.4,x:0,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power1.in",amount:.3}}),gsap.set(this.$navMobileTopLinks,{display:"flex",onComplete:function(){gsap.fromTo(e.$navTopLinks[0],{opacity:0,pointerEvents:"all"},{duration:.2,opacity:1,delay:.3}),gsap.fromTo(e.$navTopLinks[1],{opacity:0},{duration:.2,opacity:1,delay:.5})}}),gsap.fromTo(this.$mainNavLinksContainer,{opacity:0,x:-20},{duration:.5,opacity:1,x:0,delay:.5,ease:"power2.easeOut"}),this.$menuButtonCircle.style.borderColor="#fff",this.$menuButtonDot.style.backgroundColor="#fff",this.$closeLabel.style.color="#fff",this.isMenuTransitioning=!1,a.a.lock()}},{key:"closeMenu",value:function(){var e=this;gsap.set(this.$navMobileTopLinks,{display:"none"}),gsap.set(this.$backToMain,{display:"none"}),gsap.to(this.$navMain,{duration:.3,opacity:0,pointerEvents:"none",onComplete:function(){gsap.set(e.$bgLines,{x:-window.innerWidth,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power2.in",amount:.01}});for(var t=0;t<e.$subMenuesBgLines.length;t++)gsap.set(e.$subMenuesBgLines[t].getElementsByTagName("span"),{x:-window.innerWidth,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power2.in",amount:.01}});setTimeout((function(){e.isMenuTransitioning=!1}),700);for(var i=0;i<e.$allSubMenus.length;i++)e.$allSubMenus[i].scrollTop=0,e.$mainOverflow.scrollTop=0;gsap.set(e.$allSubMenus,{display:"none",overflow:""}),gsap.set(e.$navMain,{display:"none"}),e.level=0,e.elementToClose=[]}}),this.$menuButtonCircle.style.borderColor="",this.$menuButtonDot.style.backgroundColor="",this.$closeLabel.style.color="",a.a.unlock()}}])&&dr(t.prototype,i),r&&dr(t,r),e}();function yr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var gr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onRaf=this.onRaf.bind(this),this.hideHeader=this.hideHeader.bind(this),this.showHeader=this.showHeader.bind(this),this.onMenuOpen=this.onMenuOpen.bind(this),this.onMenuClose=this.onMenuClose.bind(this),this.changeHeaderColor=this.changeHeaderColor.bind(this),this.changeFaviconColor=this.changeFaviconColor.bind(this),this.hideHeaderMobile=this.hideHeaderMobile.bind(this),this.showHeaderBlackMobile=this.showHeaderBlackMobile.bind(this),this.showHeaderMobile=this.showHeaderMobile.bind(this),this.toggleClasses=this.toggleClasses.bind(this),this.$view=document.querySelector(".header-sticky"),null===this.$view&&(this.$view=document.querySelector(".new-header-sticky")),this.$bannerSmall=this.$view.querySelector(".header-sticky__banner"),this.$newMenu=document.querySelector(".new-header-sticky"),this.headerVisible=!0,this.currentHeaderColor="",this.isMobileHidden=!1,this.initWidth=window.innerWidth,null===this.$newMenu?this.menu=new fr:this.newMenu=new vr,this.$bannerSmall&&(this.bannerSmall=new Bi(this.$bannerSmall)),l.a.bind("header-sticky",this.onRaf),l.a.bind("header-sticky-mobile",this.toggleClasses),g.a.on(y.a.HEADER_HIDE,this.hideHeader),g.a.on(y.a.HEADER_MENU_OPEN,this.onMenuOpen),g.a.on(y.a.HEADER_MENU_CLOSE,this.onMenuClose),g.a.on(y.a.HEADER_NAV_CHANGE,this.changeHeaderColor),gsap.to(this.$view,{y:0}),this.faviconTag=document.getElementById("faviconTag"),this.isDark=window.matchMedia("(prefers-color-scheme: dark)"),this.changeFaviconColor(),document.body.classList.contains("safari")?this.isDark.addListener(this.changeFaviconColor):this.isDark.addEventListener("change",this.changeFaviconColor)}var t,i,n;return t=e,(i=[{key:"toggleClasses",value:function(){this.initWidth!=window.innerWidth&&(window.innerWidth>1024&&this.isMobileHidden?(this.$view.classList.remove("hide-header-mobile"),this.$view.classList.remove("show-header-black-mobile"),this.$view.classList.remove("dont-show-banner")):window.innerWidth<=1024&&this.isMobileHidden&&this.$view.classList.add("hide-header-mobile"),this.initWidth=window.innerWidth)}},{key:"changeFaviconColor",value:function(){this.isDark.matches?this.faviconTag.href="/assets/favicons/favicon-dark.svg":this.faviconTag.href="/favicon.ico"}},{key:"changeHeaderColor",value:function(e){this.currentHeaderColor!=e&&(this.$view.classList.remove("theme-white"),this.$view.classList.remove("theme-black"),this.$view.classList.remove("theme-custom"),this.$view.classList.add("theme-".concat(e))),this.currentHeaderColor=e}},{key:"onRaf",value:function(){window.innerWidth<=1024?("down"==NSFW.currentScrollDirection&&NSFW.currentScrollTop>50&&this.headerVisible?this.hideHeaderMobile():"up"==NSFW.currentScrollDirection&&NSFW.currentScrollTop>50&&!this.headerVisible&&this.showHeaderBlackMobile(),NSFW.currentScrollTop<50&&this.showHeaderMobile()):("down"==NSFW.currentScrollDirection&&NSFW.currentScrollTop>50&&this.headerVisible&&this.hideHeader(),NSFW.currentScrollTop<50&&this.showHeader())}},{key:"showHeaderMobile",value:function(){this.headerVisible=!0,this.$view.classList.remove("hide-header-mobile"),this.$view.classList.remove("show-header-black-mobile"),this.$view.classList.remove("small-header"),this.$view.classList.remove("dont-show-banner"),this.$view.classList.remove("theme-white-2"),this.isMobileHidden=!1,gsap.set(this.$view,{y:0})}},{key:"showHeaderBlackMobile",value:function(){this.headerVisible=!0,this.$view.classList.remove("hide-header-mobile"),this.$bannerSmall&&this.$view.classList.add("dont-show-banner"),this.$view.classList.add("show-header-black-mobile"),this.$view.classList.add("theme-white-2")}},{key:"hideHeaderMobile",value:function(){this.headerVisible=!1,this.isMobileHidden=!0,this.$view.classList.add("hide-header-mobile"),this.$view.classList.add("small-header"),this.$view.classList.add("theme-white-2")}},{key:"onMenuOpen",value:function(){l.a.unbind("header-sticky",this.onRaf),this.$view.classList.add("menu-opened");var e=this.$bannerSmall?-39:0;gsap.to(this.$view,{duration:.3,y:e})}},{key:"onMenuClose",value:function(){l.a.bind("header-sticky",this.onRaf),this.$view.classList.remove("menu-opened")}},{key:"showHeader",value:function(){this.isMobileHidden=!1,this.$view.classList.remove("hide-header-mobile"),this.$view.classList.remove("show-header-black-mobile"),this.$view.classList.remove("dont-show-banner"),this.headerVisible=!0,this.$view.classList.remove("small-header"),g.a.emit(y.a.HEADER_SHOW),gsap.to(this.$view,{duration:.3,y:0,onComplete:function(){g.a.emit(y.a.HEADER_SHOW_DONE)}})}},{key:"hideHeader",value:function(){console.log("ok"),this.$view.classList.remove("hide-header-mobile"),this.$view.classList.remove("show-header-black-mobile"),this.$view.classList.remove("dont-show-banner"),this.$view.classList.add("small-header");var e=this.$bannerSmall?-39:0;gsap.to(this.$view,{duration:.3,y:e,onComplete:function(){g.a.emit(y.a.HEADER_HIDE_DONE)}}),this.headerVisible=!1}}])&&yr(t.prototype,i),n&&yr(t,n),e}(),br=i(2);function wr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var mr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.display=this.display.bind(this),this.hide=this.hide.bind(this),this.resize=this.resize.bind(this),this.hideLines=this.hideLines.bind(this),this.showLines=this.showLines.bind(this),this.changeTitle=this.changeTitle.bind(this),this.changeSingleTitle=this.changeSingleTitle.bind(this),this.$view=document.querySelector(".transition"),this.$lines=document.querySelectorAll(".transition__line"),this.$logo=document.querySelectorAll(".transition__logo span"),this.$inViewContainer=document.querySelector(".transition-container-inview"),this.$title=this.$view.querySelector(".transition__title span"),this.$loading=this.$view.querySelector(".transition__loading"),this.hasTitle=!1,this.isSingleTitle=!1,this.isFirstLoad=!0,this.tlHide=new TimelineMax({paused:!0}),g.a.on(y.a.LOADER_DISPLAY,this.display),g.a.on(y.a.LOADER_HIDE,this.hide),g.a.on(br.a.Router.VIEW_LOAD,this.showLines),g.a.on(y.a.CHANGE_FILTERS,this.showLines),n.a.bind("transition",this.resize),this.textAnimation(),this.initTimeLine()}var t,i,r;return t=e,(i=[{key:"initTimeLine",value:function(){var e=this;this.hasTitle||this.isSingleTitle||this.tlHide.to(this.$logo,{duration:.4,y:-200,stagger:.05,ease:"power3.out"}),this.tlHide.to(this.$lines,{duration:1,y:-window.innerHeight-120,ease:"power4.out",delay:-.4,stagger:{grid:[20,1],from:"end",axis:"y",ease:"power1.in",amount:.2},onComplete:function(){gsap.set(e.$lines,{opacity:0})}})}},{key:"changeSingleTitle",value:function(e){this.$singleTitle=this.$view.querySelector(".transition-single"),gsap.to(this.$singleTitle,{duration:.4,opacity:1}),this.isSingleTitle=!0}},{key:"changeTitle",value:function(e){this.hasTitle=!0,document.querySelector(".view").dataset.title!=e&&(this.textShuffle.changeTitle(e),this.textShuffle.show())}},{key:"textAnimation",value:function(){this.textShuffle=new kt(this.$title)}},{key:"showLines",value:function(){this.tlHide.pause(),this.hasTitle||this.isSingleTitle||gsap.fromTo(this.$logo,{y:100},{duration:.4,y:0,delay:.4,stagger:.05}),gsap.set(this.$lines,{opacity:1}),gsap.fromTo(this.$lines,{y:window.innerHeight},{duration:1.3,y:0,ease:"power4.out",stagger:{grid:[20,1],from:"end",axis:"y",ease:"power1.in",amount:.2}})}},{key:"hideLines",value:function(){this.tlHide.play(0),this.hasTitle=!1}},{key:"display",value:function(e){var t=this;a.a.lock(),gsap.fromTo(this.$loading,{y:0,scaleX:0},{duration:.6,scaleX:1}),this.isFirstLoad&&(this.isFirstLoad=!1),setTimeout((function(){e.onComplete(),gsap.to(t.$loading,{duration:.4,y:-5})}),1e3)}},{key:"hide",value:function(e){var t=this;a.a.unlock(),this.$singleTitle=this.$view.querySelector(".transition-single"),setTimeout((function(){if(t.hideLines(),t.textShuffle.hide(),gsap.to(t.$loading,{duration:.4,y:-5}),t.isSingleTitle){t.$singleTitle=t.$view.querySelector(".transition-single"),t.$singleTitle.classList.add("active");var i=t.$singleTitle.querySelectorAll("span"),n=e.nextView.$view.querySelector(".hero-single").getAttribute("data-imgs").split(",");i.forEach((function(e){e.classList.add("revealed"),e.style.backgroundImage="url(".concat(n[0],")")}))}setTimeout((function(){t.isSingleTitle&&(t.$singleTitle.parentNode,t.$inViewContainer.innerHTML="",t.$inViewContainer.style.opacity=1,t.$inViewContainer.appendChild(t.$singleTitle),t.isSingleTitle=!1)}),100)}),300),e.onComplete()}},{key:"resize",value:function(){gsap.set(this.$lines,{y:-window.outerHeight})}}])&&wr(t.prototype,i),r&&wr(t,r),e}();function kr(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(s.a)(this.prepare.bind(this))}var t,i,h;return t=e,(i=[{key:"prepare",value:function(){o.a.check(this.init.bind(this))}},{key:"init",value:function(){r.a.check(),n.a.start(),l.a.start(),c.a.start(),a.a.start(),u.a.start(),p.a.start(),f.a.start(),this.header=new gr,this.transition=new mr,window.NSFW.scrollingTextTransitionCounter=10,this.initRouter()}},{key:"initRouter",value:function(){d.a.create({wrapperClass:".router-container",defaultTransition:S,defaultView:Rt,verbose:!1,lang:"en"});var e=new Rt,t=new Qt,i=new zt,n=new si,r=new mi,o=new Oi,s=new Ni,a=new nn,l=new un,c=new _n,u=new gn,h=new Mn,p=new Wn,f=new Xn,v=new ir,y=new cr;this.views=[e,t,i,n,r,o,s,a,l,c,u,h,p,f,v,y];for(var g=0;g<this.views.length;g++)d.a.addView(this.views[g]);d.a.start()}}])&&kr(t.prototype,i),h&&kr(t,h),e}())},32:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=this.update.bind(this),this.views={},this.watchers={}}var t,i,r;return t=e,r=[{key:"start",value:function(){e.instance||(e.instance=new e)}},{key:"bind",value:function(t,i){var n=e.instance,r=n.watchers;if(n.views[t]=i,i){var o=i.options.root,s=String(i.options.rootMargin),a=i.options.threshold;r[t]=new IntersectionObserver(n.update,{root:o,rootMargin:s,threshold:a}),r[t].observe(i.view)}}},{key:"unbind",value:function(t,i){var n=e.instance,r=n.watchers[t];r&&(delete n.views[t],i&&r.unobserve(i.view))}}],(i=[{key:"update",value:function(e){for(var t,i=0,n=e.length;i<n;i++)(t=this.views[e[i].target.dataset.intersectionId])&&t.update(e[i])}}])&&n(t.prototype,i),r&&n(t,r),e}();t.a=r},33:function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){return"/"===e.charAt(0)}function o(e,t){for(var i=t,n=i+1,r=e.length;n<r;i+=1,n+=1)e[i]=e[n];e.pop()}var s=function(e,t){void 0===t&&(t="");var i,n=e&&e.split("/")||[],s=t&&t.split("/")||[],a=e&&r(e),l=t&&r(t),c=a||l;if(e&&r(e)?s=n:n.length&&(s.pop(),s=s.concat(n)),!s.length)return"/";if(s.length){var u=s[s.length-1];i="."===u||".."===u||""===u}else i=!1;for(var h=0,p=s.length;p>=0;p--){var f=s[p];"."===f?o(s,p):".."===f?(o(s,p),h++):h&&(o(s,p),h--)}if(!c)for(;h--;h)s.unshift("..");!c||""===s[0]||s[0]&&r(s[0])||s.unshift("");var d=s.join("/");return i&&"/"!==d.substr(-1)&&(d+="/"),d};var a=!0,l="Invariant failed";var c=function(e,t){if(!e)throw a?new Error(l):new Error(l+": "+(t||""))};function u(e){return"/"===e.charAt(0)?e:"/"+e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e.pathname,i=e.search,n=e.hash,r=t||"/";return i&&"?"!==i&&(r+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(r+="#"===n.charAt(0)?n:"#"+n),r}function d(e,t,i,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",i="",n="",r=t.indexOf("#");-1!==r&&(n=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(i=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===i?"":i,hash:"#"===n?"":n}}(e)).state=t:(void 0===(o=n({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return i&&(o.key=i),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,i,n,r){if(null!=e){var o="function"==typeof e?e(t,i):e;"string"==typeof o?"function"==typeof n?n(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(e){var i=!0;function n(){i&&e.apply(void 0,arguments)}return t.push(n),function(){i=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,i)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function g(e,t){t(window.confirm(e))}var b="popstate",w="hashchange";function m(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),y||c(!1);var t,i=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e,a=s.forceRefresh,l=void 0!==a&&a,k=s.getUserConfirmation,$=void 0===k?g:k,S=s.keyLength,E=void 0===S?6:S,L=e.basename?p(u(e.basename)):"";function _(e){var t=e||{},i=t.key,n=t.state,r=window.location,o=r.pathname+r.search+r.hash;return L&&(o=h(o,L)),d(o,n,i)}function O(){return Math.random().toString(36).substr(2,E)}var T=v();function P(e){n(F,e),F.length=i.length,T.notifyListeners(F.location,F.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(_(e.state))}function A(){M(_(m()))}var x=!1;function M(e){if(x)x=!1,P();else{T.confirmTransitionTo(e,"POP",$,(function(t){t?P({action:"POP",location:e}):function(e){var t=F.location,i=j.indexOf(t.key);-1===i&&(i=0);var n=j.indexOf(e.key);-1===n&&(n=0);var r=i-n;r&&(x=!0,R(r))}(e)}))}}var N=_(m()),j=[N.key];function D(e){return L+f(e)}function R(e){i.go(e)}var I=0;function q(e){1===(I+=e)&&1===e?(window.addEventListener(b,C),o&&window.addEventListener(w,A)):0===I&&(window.removeEventListener(b,C),o&&window.removeEventListener(w,A))}var W=!1;var F={length:i.length,action:"POP",location:N,createHref:D,push:function(e,t){var n=d(e,t,O(),F.location);T.confirmTransitionTo(n,"PUSH",$,(function(e){if(e){var t=D(n),o=n.key,s=n.state;if(r)if(i.pushState({key:o,state:s},null,t),l)window.location.href=t;else{var a=j.indexOf(F.location.key),c=j.slice(0,a+1);c.push(n.key),j=c,P({action:"PUSH",location:n})}else window.location.href=t}}))},replace:function(e,t){var n=d(e,t,O(),F.location);T.confirmTransitionTo(n,"REPLACE",$,(function(e){if(e){var t=D(n),o=n.key,s=n.state;if(r)if(i.replaceState({key:o,state:s},null,t),l)window.location.replace(t);else{var a=j.indexOf(F.location.key);-1!==a&&(j[a]=n.key),P({action:"REPLACE",location:n})}else window.location.replace(t)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return W||(q(1),W=!0),function(){return W&&(W=!1,q(-1)),t()}},listen:function(e){var t=T.appendListener(e);return q(1),function(){q(-1),t()}}};return F}var $=i(16);function S(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultTransition=t,this.transitions=[]}var t,i,n;return t=e,(i=[{key:"addTransition",value:function(e){if(!(e instanceof $.a))throw new Error("TransitionManager :: add :: not an instance of Transition");this.transitions.push(e)}},{key:"getTransition",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0;i<this.transitions.length;i++){var n=this.transitions[i],r=n.prevView.id===e.id,o=n.nextView.id===t.id;if(r&&o)return n;if(n.reverse){var s=n.prevView.id===t.id,a=n.nextView.id===e.id;if(s&&a){var l=n.prevView;return n.prevView=n.nextView,n.nextView=l,n}}}var c=new this.defaultTransition(e,t);return this.addTransition(c),c}}])&&S(t.prototype,i),n&&S(t,n),e}(),L=i(2),_=i(0);function O(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var T=function(){function e(t,i,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrapperClass=t,this.containerClass=i,this.ignoreClass=n,this.$wrapper=document.body.querySelector(this.wrapperClass),!this.$wrapper)throw new Error("Router :: cannot find a wrapper with class: ".concat(this.wrapperClass));this.$prevContainer=this.$wrapper.querySelector(this.containerClass),this.$nextContainer=null,this.appendContainer=this.appendContainer.bind(this),this.removeContainer=this.removeContainer.bind(this)}var t,i,n;return t=e,(i=[{key:"appendContainer",value:function(){this.$nextContainer&&(this.$wrapper.appendChild(this.$nextContainer),_.a.emit(L.a.Router.VIEW_ADDED))}},{key:"removeContainer",value:function(){this.$prevContainer&&this.$prevContainer.parentNode&&(this.$prevContainer.parentNode.removeChild(this.$prevContainer),_.a.emit(L.a.Router.VIEW_REMOVED))}},{key:"getWrapper",value:function(){return console.log(this.$wrapper),this.$wrapper}},{key:"getContainer",value:function(){return document.querySelector(this.containerClass)}},{key:"handleHTML",value:function(e){var t=document.createElement("div");t.innerHTML=e;var i=t.querySelector("title");i&&(document.title=i.textContent),this.$nextContainer&&(this.$prevContainer=this.$nextContainer);var n=t.querySelector(this.containerClass);if(!n)throw new Error("Router :: Cannot find a container with class: ".concat(this.containerClass));this.$nextContainer=n;var r=this.$nextContainer.dataset.routerNamespace;_.a.emit(L.a.Router.VIEW_LOADED,{id:r})}}])&&O(t.prototype,i),n&&O(t,n),e}(),P=i(11);function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.views=[],this.namespaces=[],this.currentView=void 0,this.verbose=t,i?(this.defaultView=new i,this.addView(this.defaultView)):console.warn("ViewManager :: you need to provide a default view.")}var t,i,n;return t=e,(i=[{key:"addView",value:function(e){if(!(e instanceof P.a))throw new Error("ViewManager :: add :: not an instance of View");e.verbose=this.verbose,this.namespaces.push(e.id),this.views.push(e)}},{key:"getView",value:function(e){this.verbose&&console.log("ViewManager :: getView",e,this.views);for(var t=0;t<this.views.length;t++){var i=this.views[t];if(i.id===e)return i}return this.defaultView}},{key:"viewExists",value:function(e){return this.namespaces.includes(e)}},{key:"setCurrentView",value:function(e){this.currentView=e}},{key:"getCurrentView",value:function(){return this.currentView}}])&&C(t.prototype,i),n&&C(t,n),e}();function x(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={}}var t,i,n;return t=e,(i=[{key:"set",value:function(e,t){this.data[e]=t}},{key:"get",value:function(e){return this.data[e]}},{key:"reset",value:function(){this.data={}}}])&&x(t.prototype,i),n&&x(t,n),e}();function N(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=[],this.create=t}var t,i,n;return t=e,(i=[{key:"get",value:function(){return 0===this.list.length?this.create():this.list.pop()}},{key:"release",value:function(e){this.list.push(e)}}])&&N(t.prototype,i),n&&N(t,n),e}(),D=i(83),R=i.n(D),I=i(8);i(54);function q(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function W(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?q(Object(i),!0).forEach((function(t){F(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):q(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var B=function(){return!1},H=new j((function(){return new R.a})),V=function(e,t,i){return i?new Promise((function(n,r){var o=document.createElement(e);o.addEventListener(t,(function e(){o.removeEventListener(t,e),n(o)})),o.addEventListener("error",(function(e){return r(e)})),o.src=i})):null},U=function(e){return Array.isArray(e)?Promise.all(e.map((function(e){return V("img","load",e)}))):V("img","load",e)},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"canplay";return Array.isArray(e)?Promise.all(e.map((function(e){return V("video",t,e)}))):V("video",t,e)},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"canplaythrough";return Array.isArray(e)?Promise.all(e.map((function(e){return V("audio",t,e)}))):V("audio",t,e)},Y=function(e){var t,i,n=arguments;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:{},i=Array.isArray(e),r.abrupt("return",new Promise((function(n,r){var o=t.worker?new t.worker:H.get(),s=function(e){r(e)},a=Object(I.a)(),l=W({},t);l.worker&&delete l.worker;o.addEventListener("message",(function e(l){if(o.removeEventListener("message",e),o.removeEventListener("error",s),t.worker||H.release(o),a===l.data.id){var c=i?l.data.result:l.data.result[0];n(c)}else console.error("AssetsLoader :: not matching ids on worker."),r("AssetsLoader :: not matching ids on worker.")})),o.addEventListener("error",s),o.postMessage({id:a,items:i?e:[e],verbose:!1,options:l})})));case 3:case"end":return r.stop()}}))},X=function(e,t){var i,n,r,o;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(fetch(e,{mode:t.mode?t.mode:"cors",headers:t.headers?t.headers:{}}));case 2:if((i=s.sent).ok){s.next=6;break}return console.error("".concat(i.url," ").concat(i.status," (").concat(i.statusText,")")),s.abrupt("return",null);case 6:if(!t.json){s.next=8;break}return s.abrupt("return",i.json());case 8:if(!t.text){s.next=10;break}return s.abrupt("return",i.text());case 10:if(!t.buffer){s.next=12;break}return s.abrupt("return",i.arrayBuffer());case 12:if(!(i.url.indexOf(".svg")>-1)){s.next=19;break}return s.next=15,regeneratorRuntime.awrap(i.text());case 15:r=s.sent,n=new Blob([r],{type:"image/svg+xml"}),s.next=22;break;case 19:return s.next=21,regeneratorRuntime.awrap(i.blob());case 21:n=s.sent;case 22:return o=URL.createObjectURL(n),s.abrupt("return",o);case 24:case"end":return s.stop()}}))},K=function(e,t,i){var n,r,o;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(null==e||e&&e.length<1)){s.next=2;break}return s.abrupt("return",Promise.resolve(e));case 2:n=t.blob||t.json||t.text||t.buffer,s.next=14;break;case 6:if(r=s.sent,!n){s.next=9;break}return s.abrupt("return",r);case 9:if("function"==typeof i){s.next=11;break}throw new Error("AssetsLoader :: you need to provide a loader function.");case 11:return s.abrupt("return",i(r));case 14:return s.next=16,regeneratorRuntime.awrap(Array.isArray(e)?Promise.all(e.map((function(e){return X(e,t)}))):X(e,t));case 16:if(o=s.sent,!n){s.next=19;break}return s.abrupt("return",o);case 19:if("function"==typeof i){s.next=21;break}throw new Error("AssetsLoader :: you need to provide a loader function.");case 21:return s.abrupt("return",i(o));case 22:case"end":return s.stop()}}))},J={loadImage:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",K(e,t,U));case 2:case"end":return n.stop()}}))},createImage:U,loadVideo:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",K(e,t,z));case 2:case"end":return n.stop()}}))},createVideo:z,loadAudio:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",K(e,t,G));case 2:case"end":return n.stop()}}))},createAudio:G,loadFile:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",K(e,W({},t,{text:!0})));case 2:case"end":return n.stop()}}))},loadJSON:function(e){var t,i=arguments;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},n.abrupt("return",K(e,W({},t,{json:!0})));case 2:case"end":return n.stop()}}))},load:K,loadOnMainThread:X,loadOnWorker:Y,isWorkerSupported:B};function Z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(i),!0).forEach((function(t){ee(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function te(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ie=function(){function e(t){var i=t.wrapperClass,n=t.containerClass,r=t.ignoreClass,o=t.defaultTransition,s=t.defaultView,a=t.enableCache,l=t.lang,c=t.verbose;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.transitionManager=new E(o),this.domManager=new T(i,n,r),this.viewManager=new A(c,s),this.cache=new M,this.cacheEnabled=a,this.lang=l,this.verbose=c,this.isTransitioning=!1,this.router=k(),this.nextLocation="",this.bindListeners()}var t,i,n;return t=e,n=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={wrapperClass:".wrapper",containerClass:".view",ignoreClass:"no-router",defaultTransition:$.a,enableCache:!0,verbose:!0,lang:document.querySelector("html").getAttribute("lang"),defaultView:null},n=Q({},i,{},t);e.instance||(e.instance=new e(n))}},{key:"start",value:function(){e.apply()}},{key:"push",value:function(t){var i=e.instance,n=i.router;if(!i.isTransitioning){var r=t.replace(window.location.origin,""),o=window.location.pathname,s=window.location.search;r!==o?(console.log("strippedUrl",r),n.push(r)):s.length>0&&!t.includes(s)&&(console.log("strippedUrl",r),n.push(r))}}},{key:"apply",value:function(){var t=e.instance,i=t.viewManager,n=t.transitionManager,r=t.domManager,o=i.getCurrentView(),s=(void 0===o?r.$prevContainer:r.$nextContainer).dataset.routerNamespace,a=(i.viewExists(s),i.getView(s));if(!a)throw new Error("Router :: No view found");var l=n.getTransition(o,a);e.instance.isTransitioning=!0,l.play().then((function(){e.instance.isTransitioning=!1,i.setCurrentView(a)})).catch((function(e){throw e}))}},{key:"addTransition",value:function(t){e.instance.transitionManager.addTransition(t)}},{key:"load",value:function(t){var i=e.instance,n=i.cache,r=i.cacheEnabled,o=(i.lang,t.pathname.replace(/\/$/,""));""!=t.search?e.setNextLocation(o+t.search):e.setNextLocation(o);var s=e.getNextLocation(),a=!!r&&n.get(s);return e.leaveCurrentView(o).then((function(){return _.a.emit(L.a.Router.VIEW_LOAD,{pathname:o}),r&&a?Promise.resolve(e.handleHTML(a)):e.fetch(s).then((function(t){var i=document.createElement("div");return i.innerHTML=t,window.currentHtml=i,r&&n.set(s,t),e.handleHTML(t)})).catch((function(e){throw new Error(e)}))}))}},{key:"fetch",value:function(e){return J.loadFile(e,{headers:{"X-Requested-With":"x-nsfw"}})}},{key:"handleHTML",value:function(t){var i=e.instance.domManager;return i.handleHTML(t),i.$nextContainer}},{key:"getContainer",value:function(){return e.instance.domManager.getContainer()}},{key:"getViewByID",value:function(t){return e.instance.viewManager.getView(t)}},{key:"getNextLocation",value:function(){return e.instance.nextLocation}},{key:"setNextLocation",value:function(t){e.instance.nextLocation=window.location.origin+t}},{key:"leaveCurrentView",value:function(t){var i=e.instance.viewManager.getCurrentView();return new Promise((function(e,n){i.willLeave(t,e)})).catch((function(e){throw e}))}},{key:"getLang",value:function(){return e.instance.lang}},{key:"addView",value:function(t){e.instance.viewManager.addView(t)}},{key:"getView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,i=t.pathname.replace(/\/$/,""),n=e.instance.viewManager;return n.getViewByUrl(i,e.getLang())}}],(i=[{key:"bindListeners",value:function(){_.a.on(L.a.Router.VIEW_ADD,this.domManager.appendContainer),_.a.on(L.a.Router.VIEW_REMOVE,this.domManager.removeContainer),this.router.listen((function(t,i){console.log(i),"POP"!=i?e.load(t).then(e.apply):window.location.reload()})),document.addEventListener("click",this.onDocumentClick.bind(this))}},{key:"onDocumentClick",value:function(t){for(var i=t.target;i&&!this.retrieveHref(i);)i=i.parentNode;if(i&&this.preventClick(t,i)){t.preventDefault(),t.stopPropagation();var n=this.retrieveHref(i);console.log(n),e.push(n)}}},{key:"retrieveHref",value:function(e){if(e){var t=e.getAttribute&&e.getAttribute("xlink:href");if("string"==typeof t)return t;var i=e.href;if(i)return i}return!1}},{key:"preventClick",value:function(e,t){var i=this.retrieveHref(t),n=e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey,r=t.target&&"_blank"===t.target,o=window.location.protocol!==t.protocol||window.location.hostname!==t.hostname,s="string"===t.getAttribute("download"),a=t.classList.contains(this.domManager.ignoreClass),l=i&&i.includes("mailto:");return!(n||r||o||s||a||l)}}])&&te(t.prototype,i),n&&te(t,n),e}();t.a=ie},36:function(e,t,i){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){return t.reject(i)}))}))}},37:function(e,t,i){"use strict";var n=i(32);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&""!==t)if(i){this.id=t,this.view=i,this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},{root:null,intersectionRatio:0,rootMargin:"0px",threshold:0},{},s),this.options.intersectionRatio&&"number"==typeof this.options.intersectionRatio||(this.options.intersectionRatio=0),this.visibility=!1,this.visible=!1,this.view.dataset.intersectionId=t,n.a.bind(t,this)}else console.error("SmartView :: View is undefined");else console.error("SmartView :: Invalid ID")}var t,i,a;return t=e,(i=[{key:"update",value:function(e){this.visibility=e.intersectionRatio>this.options.intersectionRatio}},{key:"locate",value:function(){this.viewBounds=this.view.getBoundingClientRect(),this.offsetTop=NSFW.currentScrollTop+this.viewBounds.top,this.offsetBottom=this.offsetTop+this.viewBounds.height+window.innerHeight}},{key:"dispose",value:function(){n.a.unbind(this.id,this),this.view=null,this.visibility=!1}}])&&s(t.prototype,i),a&&s(t,a),e}();t.a=a},4:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.views=[],this.timer=-1,this.debounceTime=t}var t,i,r;return t=e,r=[{key:"start",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.instance||(e.instance=new e(i)),window.NSFW.isResizeManagerStarted=!0,window.addEventListener("resize",t?e.debounceResize:e.resize),e.resize()}},{key:"bind",value:function(t,i){e.instance.views.push({id:t,fn:i})}},{key:"unbind",value:function(t){for(var i=e.instance,n=0,r=i.views.length;n<r;n++)if(i.views[n].id===t){i.views.splice(n,1);break}}},{key:"debounceResize",value:function(){window.clearTimeout(e.instance.timer),e.instance.timer=window.setTimeout(e.resize,e.instance.debounceTime)}},{key:"resize",value:function(){var t=e.instance.views;NSFW.w=document.documentElement.clientWidth,NSFW.h=document.documentElement.clientHeight;for(var i=0,n=t.length;i<n;i++)t[i].fn(NSFW.w,NSFW.h)}}],(i=null)&&n(t.prototype,i),r&&n(t,r),e}();t.a=r},45:function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,i){var n,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=o(this,a(t).call(this,e,i,s))).addHover=(n=r).addHover.bind(n),r.onMouseEnter=(n=r).onMouseEnter.bind(n),r.$view=i,r.$bannerItems=r.$view.querySelectorAll("span"),r.$bannerBorder=r.$view.querySelector(".banner__border"),r.bannterItemsArray=Array.from(r.$bannerItems),r.isPlaying=!1,r.behaviorChanged=!1,r.init(),r}var i,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),i=t,(n=[{key:"init",value:function(){var e=this;this.tl=gsap.timeline({paused:!0,onComplete:function(){e.behaviorChanged||(e.behaviorChanged=!0,e.addHover())}}),this.tl.to(this.$bannerBorder,{duration:.6,y:0,ease:"power4.out",delay:.3}),this.tl.to(this.bannterItemsArray,{duration:.4,y:0,x:0,ease:"power4.out",stagger:.05},"=-.4")}},{key:"onMouseEnter",value:function(){this.isPlaying||(this.tl.seek(0),this.tl.play())}},{key:"addHover",value:function(){var e=this;this.$view.classList.contains("banner-with-link")&&(this.tl.kill(),this.tl=null,this.tl=gsap.timeline({paused:!0,onComplete:function(){e.isPlaying=!1}}),this.tl.add((function(){e.isPlaying=!0})),this.tl.to(this.bannterItemsArray,{duration:.4,y:-50,x:50,stagger:{grid:[1,this.bannterItemsArray.length],from:"end",axis:"x",ease:"power1.in",amount:.7}}),this.tl.set(this.bannterItemsArray,{y:50,x:-50,stagger:{grid:[1,this.bannterItemsArray.length],from:"end",axis:"x",ease:"power1.in",amount:.7}},"-=.8"),this.tl.to(this.bannterItemsArray,{duration:.4,y:0,x:0,stagger:{grid:[1,this.bannterItemsArray.length],from:"end",axis:"x",ease:"power1.in",amount:.7}},"-=.8"),this.$view.addEventListener("mouseenter",this.onMouseEnter))}},{key:"display",value:function(){this.tl.play()}},{key:"dispose",value:function(){s(a(t.prototype),"dispose",this).call(this),this.tl&&(this.tl.kill(),this.tl=null)}}])&&r(i.prototype,n),c&&r(i,c),t}(i(6).a);t.a=c},54:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=[{file:"".concat("/js","/fetch.polyfill.js"),supported:"fetch"in window,name:"fetch"},{file:"".concat("/js","/promise.polyfill.js"),supported:"Promise"in window,name:"Promise"},{file:"".concat("/js","/intersectionObserver.polyfill.js"),supported:"IntersectionObserver"in window,name:"IntersectionObserver"},{file:"".concat("/js","/array.polyfill.js"),supported:Array.from,name:"Array"},{file:"".concat("/js","/string.polyfill.js"),supported:String.prototype.includes,name:"String"}],o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,o;return t=e,o=[{key:"add",value:function(e,t,i){r.push({file:t,supported:e,name:i})}},{key:"check",value:function(t){if("function"==typeof t){var i=r.reduce((function(e,t){var i=t.supported,n=t.file,r=t.name;return i||e.push({file:n,name:r}),e}),[]);i.length<=0&&t();for(var n=0,o=function(){++n===i.length&&t()},s=0;s<i.length;s++)e.load(i[s].file,o,i[s].name)}else console.error("Polyfill :: you need to provide a callback function parameter to check()")}},{key:"load",value:function(t,i,n){var r=document.createElement("script");r.onload=function(){n&&(e["".concat(n)]=!0),i()},r.onerror=function(e){console.error(e)},r.src=t,document.body.appendChild(r)}}],(i=null)&&n(t.prototype,i),o&&n(t,o),e}();t.a=o},55:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,r;return t=e,r=[{key:"start",value:function(e){window.NSFW={},window.NSFW.PUBLIC_PATH="",window.NSFW.PUBLIC_PATH_JS="/js",window.NSFW.PUBLIC_PATH_CSS="/css",document.body?e():document.addEventListener("DOMContentLoaded",e)}}],(i=null)&&n(t.prototype,i),r&&n(t,r),e}();t.a=r.start},56:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=i,this}var t,i,r;return t=e,(i=[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return isFinite(e)?(this.x*=scalar,this.y*=scalar):(this.x=0,this.y=0),this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"setLength",value:function(e){return this.multiplyScalar(e/this.length())}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"angle",value:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"rotateAround",value:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*n+e.x,this.y=r*n+o*i+e.y,this}}])&&n(t.prototype,i),r&&n(t,r),e}();function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,n=[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.checkMouseDirection=t,NSFW.mouseSpeed=new r,NSFW.mouseLast=new r,NSFW.mouseDirection=new r,NSFW.mouse=new r,i&&window.setInterval(e.getSpeed,30),window.addEventListener("mousemove",e.move)}},{key:"move",value:function(t){e.checkMouseDirection&&e.getDirection(t),NSFW.mouse.set(t.clientX,t.clientY)}},{key:"getDirection",value:function(e){NSFW.mouse.x<e.pageX?NSFW.mouseDirection.x=1:NSFW.mouse.x>e.pageX?NSFW.mouseDirection.x=-1:NSFW.mouseDirection.x=0,NSFW.mouse.y<e.pageY?NSFW.mouseDirection.y=1:NSFW.mouse.y>e.pageY?NSFW.mouseDirection.y=-1:NSFW.mouseDirection.y=0}},{key:"getSpeed",value:function(){NSFW.mouseSpeed.x=NSFW.mouse.x-NSFW.mouseLast.x,NSFW.mouseSpeed.y=NSFW.mouse.y-NSFW.mouseLast.y,NSFW.mouseLast.copy(NSFW.mouse)}}],(i=null)&&o(t.prototype,i),n&&o(t,n),e}();t.a=s},57:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMouseEnter=this.onMouseEnter.bind(this),this.dispose=this.dispose.bind(this),this.$view=t,this.$label=this.$view.querySelector(".btn-label"),this.$svgArrow=this.$view.querySelector("svg"),this.$svgContainer=this.$view.querySelector(".btn__svg"),this.$svgArrow||(this.$svgContainer.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.7 24.69"><defs><style>.cls-1-arrow{fill:none;stroke:#161a1d;stroke-miterlimit:10;}</style></defs><g id="Calque_1-2" data-name="Calque 1"><path class="cls-1-arrow" d="M24,12.34H0m12-12,12,12-12,12"/><line class="cls-1-arrow" x1="23.99" y1="12.34" y2="12.34"/><polyline class="cls-1-arrow" points="11.99 0.35 23.99 12.34 11.99 24.33"/></g></svg>',this.$svgArrow=this.$view.querySelector("svg")),this.labelWidth=this.$label.offsetWidth+60,this.labelWidthNoOffset=this.$label.offsetWidth,this.createTimeline(),this.$view.addEventListener("mouseenter",this.onMouseEnter)}var t,i,r;return t=e,(i=[{key:"createTimeline",value:function(){var e=this;this.tl=gsap.timeline({paused:!0}),this.tl.fromTo(this.$svgArrow,{x:0},{duration:.3,opacity:1,x:this.labelWidth,ease:"power2.in"}),this.tl.to(this.$label,{duration:.4,opacity:1,x:this.labelWidth,delay:-.25,ease:"power2.in"}),this.tl.set(this.$svgArrow,{opacity:0,x:-this.labelWidth}),this.tl.set(this.$label,{opacity:0,x:-this.labelWidth}),this.tl.to(this.$svgArrow,{duration:.3,opacity:1,x:0}),this.tl.to(this.$label,{duration:.4,opacity:1,x:0,delay:-.25,ease:"power1.out",onComplete:function(){e.$view.addEventListener("mouseenter",e.onMouseEnter)}})}},{key:"onMouseEnter",value:function(e){this.$view.removeEventListener("mouseenter",this.onMouseEnter),this.$svgArrow&&(this.$svgArrow.style=""),this.tl.seek(0),this.tl.play()}},{key:"dispose",value:function(){this.tl.kill(),this.tl=null,this.$view.removeEventListener("mouseenter",this.onMouseEnter)}}])&&n(t.prototype,i),r&&n(t,r),e}();t.a=r},58:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMouseEnter=this.onMouseEnter.bind(this),this.dispose=this.dispose.bind(this),this.$view=t,this.$label=this.$view.querySelector(".btn-label"),this.$svgArrow=this.$view.querySelector("svg"),this.$svgContainer=this.$view.querySelector(".btn__svg"),this.$svgArrow||(this.$svgContainer.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.47 24.5"><defs><style>.cls-1-download{fill:none;stroke:#161a1d;stroke-miterlimit:10;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><line class="cls-1-download" x1="12.24" y1="20.24" x2="12.24"/><polyline class="cls-1-download" points="0.35 8.31 12.25 20.23 24.12 8.31"/><line class="cls-1-download" x1="0.24" y1="24" x2="24.24" y2="24"/></g></g></svg>',this.$svgArrow=this.$view.querySelector("svg")),this.labelWidth=this.$label.offsetWidth+60,this.labelWidthNoOffset=this.$label.offsetWidth,this.createTimeline(),this.$view.addEventListener("mouseenter",this.onMouseEnter)}var t,i,r;return t=e,(i=[{key:"createTimeline",value:function(){var e=this;this.tl=gsap.timeline({paused:!0}),this.tl.fromTo(this.$svgArrow,{y:0},{duration:.3,opacity:1,y:this.labelWidth,ease:"power2.in"}),this.tl.to(this.$label,{duration:.4,opacity:1,y:this.labelWidth,delay:-.25,ease:"power2.in"}),this.tl.set(this.$svgArrow,{opacity:0,y:-this.labelWidth}),this.tl.set(this.$label,{opacity:0,y:-this.labelWidth}),this.tl.to(this.$svgArrow,{duration:.3,opacity:1,y:0}),this.tl.to(this.$label,{duration:.4,opacity:1,y:0,delay:-.25,ease:"power1.out",onComplete:function(){e.$view.addEventListener("mouseenter",e.onMouseEnter)}})}},{key:"onMouseEnter",value:function(e){this.$view.removeEventListener("mouseenter",this.onMouseEnter),this.$svgArrow&&(this.$svgArrow.style=""),this.tl.seek(0),this.tl.play()}},{key:"dispose",value:function(){this.tl&&(this.tl.kill(),this.tl=null),this.$view.removeEventListener("mouseenter",this.onMouseEnter)}}])&&n(t.prototype,i),r&&n(t,r),e}();t.a=r},6:function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).call(this,e,i,n))}var i,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),i=t,(n=[{key:"update",value:function(e){s(a(t.prototype),"update",this).call(this,e),this.visibility&&!this.visible?this.display():!this.visibility&&this.visible&&this.hide()}},{key:"display",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}}])&&r(i.prototype,n),c&&r(i,c),t}(i(37).a);t.a=c},68:function(e,t,i){e.exports=function(){"use strict";var e=document,t=e.createTextNode.bind(e);function i(e,t,i){e.style.setProperty(t,i)}function n(e,t){return e.appendChild(t)}function r(t,i,r,o){var s=e.createElement("span");return i&&(s.className=i),r&&(!o&&s.setAttribute("data-"+i,r),s.textContent=r),t&&n(t,s)||s}function o(e,t){return e.getAttribute("data-"+t)}function s(t,i){return t&&0!=t.length?t.nodeName?[t]:[].slice.call(t[0].nodeName?t:(i||e).querySelectorAll(t)):[]}function a(e){for(var t=[];e--;)t[e]=[];return t}function l(e,t){e&&e.some(t)}function c(e){return function(t){return e[t]}}var u={};function h(e,t,i,n){return{by:e,depends:t,key:i,split:n}}function p(e){return function e(t,i,n){var r=n.indexOf(t);if(-1==r)n.unshift(t),l(u[t].depends,(function(i){e(i,t,n)}));else{var o=n.indexOf(i);n.splice(r,1),n.splice(o,0,t)}return n}(e,0,[]).map(c(u))}function f(e){u[e.by]=e}function d(e,i,o,a,c){e.normalize();var u=[],h=document.createDocumentFragment();a&&u.push(e.previousSibling);var p=[];return s(e.childNodes).some((function(e){if(!e.tagName||e.hasChildNodes()){if(e.childNodes&&e.childNodes.length)return p.push(e),void u.push.apply(u,d(e,i,o,a,c));var n=e.wholeText||"",s=n.trim();s.length&&(" "===n[0]&&p.push(t(" ")),l(s.split(o),(function(e,t){t&&c&&p.push(r(h,"whitespace"," ",c));var n=r(h,i,e);u.push(n),p.push(n)}))," "===n[n.length-1]&&p.push(t(" ")))}else p.push(e)})),l(p,(function(e){n(h,e)})),e.innerHTML="",n(e,h),u}var v=h("words",0,"word",(function(e){return d(e,"word",/\s+/,0,1)})),y="chars",g=h(y,["words"],"char",(function(e,t,i){var n=[];return l(i.words,(function(e,i){n.push.apply(n,d(e,"char","",t.whitespace&&i))})),n}));function b(e){var t=(e=e||{}).key;return s(e.target||"[data-splitting]").map((function(n){var r=n["🍌"];if(!e.force&&r)return r;r=n["🍌"]={el:n};var s=p(e.by||o(n,"splitting")||y),a=function(e,t){for(var i in t)e[i]=t[i];return e}({},e);return l(s,(function(e){if(e.split){var o=e.by,s=(t?"-"+t:"")+e.key,c=e.split(n,a,r);s&&function(e,t,n){var r="--"+t,o=r+"-index";l(n,(function(e,t){Array.isArray(e)?l(e,(function(e){i(e,o,t)})):i(e,o,t)})),i(e,r+"-total",n.length)}(n,s,c),r[o]=c,n.classList.add(o)}})),n.classList.add("splitting"),r}))}function w(e,t,i){var n=s(t.matching||e.children,e),r={};return l(n,(function(e){var t=Math.round(e[i]);(r[t]||(r[t]=[])).push(e)})),Object.keys(r).map(Number).sort(m).map(c(r))}function m(e,t){return e-t}b.html=function(e){var t=(e=e||{}).target=r();return t.innerHTML=e.content,b(e),t.outerHTML},b.add=f;var k=h("lines",["words"],"line",(function(e,t,i){return w(e,{matching:i.words},"offsetTop")})),$=h("items",0,"item",(function(e,t){return s(t.matching||e.children,e)})),S=h("rows",0,"row",(function(e,t){return w(e,t,"offsetTop")})),E=h("cols",0,"col",(function(e,t){return w(e,t,"offsetLeft")})),L=h("grid",["rows","cols"]),_=h("layout",0,0,(function(e,t){var a=t.rows=+(t.rows||o(e,"rows")||1),l=t.columns=+(t.columns||o(e,"columns")||1);if(t.image=t.image||o(e,"image")||e.currentSrc||e.src,t.image){var c=s("img",e)[0];t.image=c&&(c.currentSrc||c.src)}t.image&&i(e,"background-image","url("+t.image+")");for(var u=a*l,h=[],p=r(0,"cell-grid");u--;){var f=r(p,"cell");r(f,"cell-inner"),h.push(f)}return n(e,p),h})),O=h("cellRows",["layout"],"row",(function(e,t,i){var n=t.rows,r=a(n);return l(i.layout,(function(e,t,i){r[Math.floor(t/(i.length/n))].push(e)})),r})),T=h("cellColumns",["layout"],"col",(function(e,t,i){var n=t.columns,r=a(n);return l(i.layout,(function(e,t){r[t%n].push(e)})),r})),P=h("cells",["cellRows","cellColumns"],"cell",(function(e,t,i){return i.layout}));return f(v),f(g),f(k),f($),f(S),f(E),f(L),f(_),f(O),f(T),f(P),b}()},69:function(e,t,i){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(70),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(12))},7:function(e,t,i){"use strict";var n=i(8),r=i(2),o=i(0),s=i(4),a=i(3);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollWrapper=t.wrapper,NSFW.scrollBar=this,NSFW.currentScrollTop=0,NSFW.currentScrollDirection=null,this.body=document.body,this.currentScrollTop=0,this.currentSmoothScrollTop=0,this.easing=.08,this.isSmoothScrollFriendly=NSFW.isDesktop&&!NSFW.isIE,this.lastScrollTop=0,this.views=[],this.offset={x:0,y:0},this.timer=null,this.smoothDecimal=NSFW.isSafari?0:1,this.scroll=this.scroll.bind(this),this.resize=this.resize.bind(this),this.update=this.update.bind(this),this.pageChangedIE=this.pageChangedIE.bind(this),this.pageChanged=this.pageChanged.bind(this),this.resetPagePosition=this.resetPagePosition.bind(this),this.mutationCallback=this.mutationCallback.bind(this),this.scrollWrapper||console.error("SmoothScrollManager :: #wrap element needed.")}var t,i,u;return t=e,u=[{key:"start",value:function(t){var i={wrapper:document.querySelector("#wrap"),speed:.9},r=Object(n.b)(i,t);e.instance=new e(r),e.init(r)}},{key:"init",value:function(t){NSFW.isRafManagerStarted||console.error("SmoothScrollManager :: You need to have the RafManager started before starting SmoothScrollManager"),NSFW.isResizeManagerStarted||console.error("SmoothScrollManager :: You need to have the ResizeManager started before starting SmoothScrollManager");var i=e.instance;window.addEventListener("scroll",i.scroll),s.a.bind("smooth-scroll-resize",i.resize),NSFW.isIE?o.a.on(r.a.Router.VIEW_ENTERED,i.pageChangedIE):o.a.on(r.a.Router.VIEW_ENTERED,i.pageChanged),i.isSmoothScrollFriendly&&i.initSmoothScroll()}},{key:"lock",value:function(){document.body.classList.add("locked"),console.log("lock")}},{key:"unlock",value:function(){document.body.classList.remove("locked")}},{key:"bind",value:function(t,i){e.instance.views.push({id:t,fn:i})}},{key:"unbind",value:function(t){for(var i=e.instance,n=0;n<i.views.length;n++)if(i.views[n].id===t){i.views.splice(n,1);break}}},{key:"debug",value:function(){console.table(e.instance.views)}}],(i=[{key:"initSmoothScroll",value:function(){this.body.classList.add("smooth-scroll"),this.handleScrollOnRefresh(),this.createDomSmoothScroll(),this.mutationObserver(),a.a.bind("smooth-scroll-raf",this.update),this.resize(),window.location.hash&&this.manageAnchors()}},{key:"manageAnchors",value:function(){var e=this,t=window.location.hash.substring(1),i=document.querySelector("#".concat(t));i&&TweenMax.delayedCall(.5,(function(){var t=i.getBoundingClientRect().top+NSFW.currentScrollTop;e.scrollTo(0,t-100)}))}},{key:"createDomSmoothScroll",value:function(){var e=this,t=l(this.scrollWrapper.childNodes),i=document.createElement("div");i.innerHTML='<div class="scroll-wrapper"><div class="scroll-container"></div></div>';var n=i.querySelector(".scroll-container");l(i.childNodes).forEach((function(t){return e.scrollWrapper.appendChild(t)})),t.forEach((function(e){return n.appendChild(e)})),this.heightContainer=document.createElement("div"),this.heightContainer.classList.add("js-height-scroll-container"),this.scrollWrapper.appendChild(this.heightContainer),this.scrollContainer=this.scrollWrapper.querySelector(".scroll-wrapper"),this.scrollContent=this.scrollContainer.firstElementChild}},{key:"mutationObserver",value:function(){this.observer=new MutationObserver(this.mutationCallback),this.observer.observe(this.scrollContent,{attributes:!0,attributeFilter:["style"]})}},{key:"mutationCallback",value:function(e,t){var i=!0,n=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)"attributes"==o.value.type&&this.resize()}catch(e){n=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}},{key:"instantScrollTo",value:function(e,t){window.scrollTo(e,t),NSFW.scrollBar.currentSmoothScrollTop=t,NSFW.scrollBar.updateCurrentScrollTopValues(t),NSFW.scrollBar.scrollContent&&(NSFW.scrollBar.scrollContent.style.transform="translate3d(".concat(e.toFixed(),"px, ").concat(t.toFixed(),"px, 0)"),NSFW.scrollBar.updateCurrentScrollTopValues(t))}},{key:"scroll",value:function(e){this.currentScrollTop=window.pageYOffset||document.documentElement.scrollTop||window.scrollY,this.currentScrollTop=this.currentScrollTop?this.currentScrollTop:0,this.currentScrollTop>this.lastScrollTop?NSFW.currentScrollDirection="down":NSFW.currentScrollDirection="up",this.lastScrollTop=this.currentScrollTop<=0?0:this.currentScrollTop,this.isSmoothScrollFriendly||this.updateCurrentScrollTopValues(this.currentScrollTop);for(var t=0;t<this.views.length;t++)this.views[t].fn(e)}},{key:"update",value:function(){this.currentSmoothScrollTop+=(this.currentScrollTop-this.currentSmoothScrollTop)*this.easing,this.scrollContent.style.transform="translate3d(0, -".concat(this.currentSmoothScrollTop.toFixed(this.smoothDecimal),"px, 0.01px)"),this.updateCurrentScrollTopValues(this.currentSmoothScrollTop)}},{key:"updateCurrentScrollTopValues",value:function(e){NSFW.currentScrollTop=parseFloat(e.toFixed(this.smoothDecimal)),this.offset.y=NSFW.currentScrollTop}},{key:"setPosition",value:function(e,t){window.scrollTo(e,t),this.currentSmoothScrollTop=t,this.scrollContent&&(this.scrollContent.style.transform="translate3d(".concat(e.toFixed(),"px, ").concat(t.toFixed(),"px, 0)")),this.updateCurrentScrollTopValues(t)}},{key:"scrollTo",value:function(e,t,i,n){window.scrollTo(e,t)}},{key:"pageChanged",value:function(){this.scrollContainer&&(this.scrollContent=this.scrollContainer.firstElementChild),this.resetPagePosition(),this.resize()}},{key:"pageChangedIE",value:function(){this.setPosition(0,0)}},{key:"resetPagePosition",value:function(){this.currentSmoothScrollTop=this.currentScrollTop=0,this.scrollContent&&(this.scrollContent.style.transform="translate3d(0, 0, 0)"),this.setPosition(0,0)}},{key:"handleScrollOnRefresh",value:function(){history.scrollRestoration="manual"}},{key:"resize",value:function(){this.scrollContent&&this.scrollContent.offsetHeight>0&&this.heightContainer.offsetHeight!=this.scrollContent.offsetHeight&&(this.pageHeight=this.scrollContent.offsetHeight,this.heightContainer&&(this.heightContainer.style.height="".concat(this.pageHeight,"px")))}},{key:"dispose",value:function(){a.a.unbind("smooth-scroll-raf"),o.a.off(r.a.Router.VIEW_ENTERED,this.pageChanged),NSFW.isIE&&o.a.off(r.a.Router.VIEW_ENTERED,this.pageChangedIE),this.scroll=this.resize=this.update=this.pageChanged=this.resetPagePosition=null,this.scrollWrapper=this.scrollContainer=this.scrollContent=null,window.removeEventListener("scroll",this.scroll),s.a.unbind("smooth-scroll-resize")}}])&&c(t.prototype,i),u&&c(t,u),e}();t.a=u},70:function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var n,r,o,s,a,l=1,c={},u=!1,h=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},n=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,n=function(e){var t=h.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(d,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return c[l]=r,n(l),l++},p.clearImmediate=f}function f(e){delete c[e]}function d(e){if(u)setTimeout(d,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(12),i(71))},71:function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,c=[],u=!1,h=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!u){var e=a(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new d(e,t)),1!==c.length||u||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},8:function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return null!=e}))}(t);return o.length<1?{}:1===o.length?t[0]:o.reduce((function(e,t){return Object.keys(t).forEach((function(i){"object"===n(e[i])&&"object"===n(t[i])&&void 0===t[i].length?e[i]=r(e[i],t[i]):e[i]=t[i]})),e}),{})}function o(){return"_"+Math.random().toString(36).substr(2,9)}i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return o}))},83:function(e,t){e.exports=function(){return new Worker("/js/loader.worker.js")}},84:function(e,t,i){"use strict";var n=i(3);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispose=this.dispose.bind(this),this.onSlideTransitionEnd=this.onSlideTransitionEnd.bind(this),this.onClickSlideNext=this.onClickSlideNext.bind(this),this.onClickSlidePrev=this.onClickSlidePrev.bind(this),this.onSlideChange=this.onSlideChange.bind(this),this.onMouseEnterSlide=this.onMouseEnterSlide.bind(this),this.onMouseLeaveSlide=this.onMouseLeaveSlide.bind(this),this.onRaf=this.onRaf.bind(this),this.$view=t,this.index=i,this.$slides=this.$view.querySelectorAll(".swiper-slide"),this.$cursorContainer=document.querySelector(".slider-cursor__container"),this.$cursorContainerPrev=document.querySelector(".slider-cursor__left"),this.$cursorContainerNext=document.querySelector(".slider-cursor__right"),this.initSlider()}var t,i,o;return t=e,(i=[{key:"initSlider",value:function(){var e=NSFW.isMobile?20:60,t=NSFW.isMobile?1.5:2;this.swiper=new Swiper(this.$view,{slidesPerView:t,spaceBetween:e,centeredSlides:!0,init:!1,grabCursor:!0,pagination:{el:".swiper-pagination",type:"fraction",renderFraction:function(e,t){return'<span class="'+e+'"></span><span class="swiper-pagination-line"></span><span class="'+t+'"></span>'}}}),this.swiper.on("init",this.onSlideTransitionEnd),this.swiper.on("transitionEnd",this.onSlideTransitionEnd),this.swiper.on("slideChange",this.onSlideChange),this.swiper.init();for(var i=0;i<this.$slides.length;i++){var n=this.$slides[i];n.addEventListener("mouseenter",this.onMouseEnterSlide),n.addEventListener("mouseleave",this.onMouseLeaveSlide)}}},{key:"onRaf",value:function(){this.$cursorContainer.style.transform="translate(".concat(NSFW.mouse.x,"px,").concat(NSFW.mouse.y,"px)")}},{key:"onMouseLeaveSlide",value:function(){this.$cursorContainer.style.opacity=0,n.a.unbind("slider-hover-"+this.index,this.onRaf)}},{key:"onMouseEnterSlide",value:function(e){var t=e.currentTarget;t.classList.contains("swiper-slide-next")?(n.a.bind("slider-hover-"+this.index,this.onRaf),this.$cursorContainer.style.opacity=1,this.$cursorContainerPrev.style.opacity=0,this.$cursorContainerNext.style.opacity=1):t.classList.contains("swiper-slide-prev")?(n.a.bind("slider-hover-"+this.index,this.onRaf),this.$cursorContainer.style.opacity=1,this.$cursorContainerPrev.style.opacity=1,this.$cursorContainerNext.style.opacity=0):(this.$cursorContainer.style.opacity=0,this.$cursorContainerPrev.style.opacity=0,this.$cursorContainerNext.style.opacity=0)}},{key:"onSlideChange",value:function(){for(var e=0;e<this.swiper.slides.length;e++){var t=this.swiper.slides[e];t.classList.contains("swiper-slide-prev")&&t.removeEventListener("click",this.onClickSlidePrev),t.classList.contains("swiper-slide-next")&&t.removeEventListener("click",this.onClickSlideNext)}}},{key:"onSlideTransitionEnd",value:function(){for(var e=0;e<this.swiper.slides.length;e++){var t=this.swiper.slides[e];t.classList.contains("swiper-slide-prev")&&t.addEventListener("click",this.onClickSlidePrev),t.classList.contains("swiper-slide-next")&&t.addEventListener("click",this.onClickSlideNext)}}},{key:"onClickSlideNext",value:function(){this.swiper.slideNext()}},{key:"onClickSlidePrev",value:function(){this.swiper.slidePrev()}},{key:"dispose",value:function(){this.swiper&&(this.swiper.destroy(),n.a.unbind("slider-hover-"+this.index,this.onRaf))}}])&&r(t.prototype,i),o&&r(t,o),e}();t.a=o},85:function(e,t,i){"use strict";var n=i(24),r=i(0),o=i(2);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t,i,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onPlayerReady=this.onPlayerReady.bind(this),this.onPlayerStateChange=this.onPlayerStateChange.bind(this),this.onCreatePlayer=this.onCreatePlayer.bind(this),this.onClickPoster=this.onClickPoster.bind(this),this.addListeners=this.addListeners.bind(this),this.pause=this.pause.bind(this),this.play=this.play.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.onEnd=this.onEnd.bind(this),this.clearPercentCheck=this.clearPercentCheck.bind(this),this.checkVolume=this.checkVolume.bind(this),this.clearCheckVolume=this.clearCheckVolume.bind(this),this.$playerContainer=t,this.$player=this.$playerContainer.querySelector(".player"),this.$poster=this.$playerContainer.querySelector(".poster"),this.$customCursor=t.parentNode.querySelector(".custom-cursor-container");this.ytID=n,this.id=i,this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},{autoplay:!1,loop:!1,mute:!1,playsinline:1,poster:!1,tracking:!1,controls:2},{},o),this.hasControls=this.options.controls?1:0,this.hasAutoplay=this.options.autoplay?1:0,this.hasLoop=this.options.loop,this.muted=this.options.mute,this.hasPoster=1!==this.hasAutoplay&&this.options.poster,this.hasTracking=this.options.tracking,this.hasPlayInline=this.options.playsinline?1:0,this.done=!1,this.canCreatePlayer=!1,this.checkPercentView=null,this.checkSoundInterval=null,this.playerVolume=this.muted?0:1,this.playerInfos={id:this.id,isPlaying:!1,isLoaded:!1,isMuted:this.muted,tracking:0},this.$poster&&!this.hasPoster&&(this.$poster.style.display="none"),this.canCreatePlayer=setInterval((function(){window.YT&&window.YT.loaded&&r.onCreatePlayer()}),200)}var t,i,c;return t=e,(i=[{key:"onCreatePlayer",value:function(){clearInterval(this.canCreatePlayer),this.player=new YT.Player(this.$player,{height:"390",width:"640",videoId:this.ytID,playerVars:{rel:0,controls:this.hasControls,disablekb:0,showinfo:0,modestbranding:0,autoplay:this.hasAutoplay,playsinline:this.hasPlayInline,cc_load_policy:0,iv_load_policy:3},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}})}},{key:"onPlayerReady",value:function(e){n.a.bind(this.id,this),this.addListeners(),this.muted&&(e.target.mute(),this.player.setVolume(0)),this.playerInfos.isLoaded=!0,r.a.emit(o.a.YoutubePlayer.LOADED,this.playerInfos)}},{key:"onPlayerStateChange",value:function(e){e.data===YT.PlayerState.PAUSED&&(this.playerInfos.isPlaying=!1,this.hasTracking&&this.clearPercentCheck(),this.clearCheckVolume(),r.a.emit(o.a.YoutubePlayer.PAUSE,this.playerInfos)),e.data!=YT.PlayerState.PLAYING||this.done||(n.a.pauseAllPlayersExceptOneIsPlaying(this.id),r.a.emit(o.a.YoutubePlayer.PLAY,this.playerInfos),this.checkVolume()),e.data==YT.PlayerState.ENDED&&(this.done=!0,this.stop(),this.onEnd(),this.hasLoop?this.player.playVideo():this.hasPoster&&this.displayPoster())}},{key:"addListeners",value:function(){this.hasPoster&&this.$poster.addEventListener("click",this.onClickPoster)}},{key:"onClickPoster",value:function(){this.hidePoster(),this.play()}},{key:"hidePoster",value:function(){this.$poster.style.display="none",this.$customCursor&&(this.$customCursor.style.display="none")}},{key:"displayPoster",value:function(){this.$poster.style.display="block",this.$customCursor&&(this.$customCursor.style.display="block")}},{key:"play",value:function(){this.player&&(this.playerInfos.isPlaying=!0,this.player.playVideo())}},{key:"pause",value:function(){this.player.pauseVideo(),this.playerInfos.isPlaying=!1}},{key:"stop",value:function(){var e=this;this.playerInfos.isPlaying=!1,this.hasTracking&&this.clearPercentCheck(),this.player.seekTo(0),this.player.stopVideo(),!this.hasLoop&&this.hasPoster&&this.$poster&&this.displayPoster(),setTimeout((function(){e.done=!1}),200),r.a.emit(o.a.YoutubePlayer.STOP,this.playerInfos)}},{key:"checkVolume",value:function(){var e=this;this.checkSoundInterval=setInterval((function(){e.player.isMuted()&&!e.playerInfos.isMuted?(e.playerInfos.isMuted=!0,r.a.emit(o.a.YoutubePlayer.MUTE,e.playerInfos)):!e.player.isMuted()&&e.playerInfos.isMuted&&(e.playerInfos.isMuted=!1,r.a.emit(o.a.YoutubePlayer.MUTE,e.playerInfos))}),50)}},{key:"clearCheckVolume",value:function(){clearInterval(this.checkSoundInterval),this.checkSoundInterval=null}},{key:"toggleMute",value:function(){this.player.isMuted()?this.player.unMute():this.player.mute(),r.a.emit(o.a.YoutubePlayer.MUTE,this.playerInfos)}},{key:"unMute",value:function(){this.player.unMute()}},{key:"mute",value:function(){this.player.mute()}},{key:"percentViewed",value:function(){var e=this;this.checkPercentView||(this.checkPercentView=setInterval((function(){var t=e.player.getCurrentTime()/e.player.getDuration()*100;e.savePercentView(t)}),1e3))}},{key:"savePercentView",value:function(e){100!==this.playerInfos.tracking&&(e>25&&e<50&&25!=this.playerInfos.tracking?(this.playerInfos.tracking=25,r.a.emit(o.a.YoutubePlayer.TRACKING,this.playerInfos)):e>50&&e<75&&50!=this.playerInfos.tracking?(this.playerInfos.tracking=50,r.a.emit(o.a.YoutubePlayer.TRACKING,this.playerInfos)):e>75&&e<100&&75!=this.playerInfos.tracking&&(this.playerInfos.tracking=75,r.a.emit(o.a.YoutubePlayer.TRACKING,this.playerInfos)))}},{key:"clearPercentCheck",value:function(){clearInterval(this.checkPercentView),this.checkPercentView=null}},{key:"onEnd",value:function(){this.playerInfos.tracking&&this.hasTracking&&100!=this.playerInfos.tracking&&(this.playerInfos.tracking=100,r.a.emit(o.a.YoutubePlayer.END,this.playerInfos))}},{key:"dispose",value:function(){n.a.unbind(this.id),this.$poster.removeEventListener("click",this.onClickPoster),this.player.destroy(),this.player=null,this.onPlayerReady=this.onPlayerStateChange=this.onCreatePlayer=this.onClickPoster=this.pause=this.play=this.addListeners=this.onEnd=this.checkVolume=this.clearPercentCheck=null,this.$playerContainer=this.$player=this.$poster=null,this.checkSoundInterval=null,this.ytID=this.id=null,this.options=this.hasAutoplay=this.hasLoop=this.muted=this.hasPoster=this.hasTracking=null,this.done=this.isPlaying=this.canCreatePlayer=this.checkPercentView=null}}])&&l(t.prototype,i),c&&l(t,c),e}();t.a=c},86:function(e,t,i){"use strict";var n=i(17),r=i(0),o=i(2);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t,i,r){var o=this,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onCreatePlayer=this.onCreatePlayer.bind(this),this.onClickPoster=this.onClickPoster.bind(this),this.addListeners=this.addListeners.bind(this),this.pause=this.pause.bind(this),this.play=this.play.bind(this),this.onEnd=this.onEnd.bind(this),this.getPercentViewed=this.getPercentViewed.bind(this),this.getCurrentVolume=this.getCurrentVolume.bind(this),this.$playerContainer=t,this.$player=this.$playerContainer.querySelector(".player"),this.$poster=this.$playerContainer.querySelector(".poster"),this.$customCursor=t.parentNode.querySelector(".custom-cursor-container"),this.$videoPoster=this.$playerContainer.querySelector(".video-poster");this.vimeoID=r,this.id=i,this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},{autoplay:!1,loop:!1,muted:!1,playsinline:!0,poster:!1,tracking:!1},{},l),this.options.id=this.vimeoID,this.hasAutoplay=this.options.autoplay,this.hasLoop=this.options.loop,this.muted=this.options.muted,this.hasPoster=!this.hasAutoplay&&this.options.poster,this.hasTracking=this.options.tracking,this.hasPlayInline=this.options.playsinline,this.canCreatePlayer=!1,this.checkPercentView=null,this.playerInfos={id:this.id,isPlaying:!1,isLoaded:!1,isMuted:this.muted,tracking:0},this.$poster&&!this.hasPoster&&(this.$poster.style.display="none",this.$videoPoster&&this.$videoPoster.pause()),this.canCreatePlayer=setInterval((function(){n.a.instance.isLoadedApi&&o.onCreatePlayer()}),200)}var t,i,c;return t=e,(i=[{key:"onCreatePlayer",value:function(){clearInterval(this.canCreatePlayer),this.player=new Vimeo.Player(this.$player,this.options),n.a.bind(this.id,this),this.addListeners()}},{key:"addListeners",value:function(){this.hasPoster&&this.$poster.addEventListener("click",this.onClickPoster),this.player.on("play",this.play),this.player.on("pause",this.pause),this.player.on("ended",this.onEnd),this.player.on("volumechange",this.getCurrentVolume),this.hasTracking&&this.player.on("timeupdate",this.getPercentViewed),this.playerInfos.isLoaded=!0,r.a.emit(o.a.VimeoPlayer.LOADED,this.playerInfos)}},{key:"onClickPoster",value:function(){this.hidePoster(),this.play()}},{key:"hidePoster",value:function(){this.$customCursor&&(this.$customCursor.style.display="none"),this.$poster.style.display="none",this.$videoPoster&&(this.$videoPoster.currentTime=0,this.$videoPoster.pause())}},{key:"displayPoster",value:function(){this.$customCursor&&(this.$customCursor.style.display="block"),this.$poster.style.display="block",this.$videoPoster&&this.$videoPoster.play()}},{key:"play",value:function(){n.a.pauseAllPlayersExceptOneIsPlaying(this.id),this.player&&(this.playerInfos.isPlaying=!0,this.player.play(),r.a.emit(o.a.VimeoPlayer.PLAY,this.playerInfos))}},{key:"pause",value:function(){this.playerInfos.isPlaying=!1,this.player.pause(),this.hasPoster&&this.displayPoster(),r.a.emit(o.a.VimeoPlayer.PAUSE,this.playerInfos)}},{key:"stop",value:function(){this.player.pause(),this.player.setCurrentTime(0),this.playerInfos.isPlaying=!1,r.a.emit(o.a.VimeoPlayer.STOP,this.playerInfos)}},{key:"onEnd",value:function(){!this.hasLoop&&this.hasPoster&&this.displayPoster(),this.playerInfos.isPlaying=!1,r.a.emit(o.a.VimeoPlayer.END,this.playerInfos)}},{key:"getCurrentVolume",value:function(){var e=this;this.player.getVolume().then((function(t){t<=0?(e.playerInfos.isMuted=!0,r.a.emit(o.a.VimeoPlayer.MUTE,e.playerInfos)):(e.playerInfos.isMuted=!1,r.a.emit(o.a.VimeoPlayer.MUTE,e.playerInfos))}))}},{key:"toggleMute",value:function(){var e=this;this.player.getVolume().then((function(t){t<=0?(e.player.setVolume(1),e.playerInfos.isMuted=!1,r.a.emit(o.a.VimeoPlayer.MUTE,e.playerInfos)):(e.player.setVolume(0),e.playerInfos.isMuted=!0,r.a.emit(o.a.VimeoPlayer.MUTE,e.playerInfos))}))}},{key:"getPercentViewed",value:function(e){var t=100*e.percent;100!==this.playerInfos.tracking&&(t>25&&t<50&&25!=this.playerInfos.tracking?(this.playerInfos.tracking=25,r.a.emit(o.a.VimeoPlayer.TRACKING,this.playerInfos)):t>50&&t<75&&50!=this.playerInfos.tracking?(this.playerInfos.tracking=50,r.a.emit(o.a.VimeoPlayer.TRACKING,this.playerInfos)):t>75&&t<98&&75!=this.playerInfos.tracking?(this.playerInfos.tracking=75,r.a.emit(o.a.VimeoPlayer.TRACKING,this.playerInfos)):t>75&&t>98&&100!=this.playerInfos.tracking&&(this.playerInfos.tracking=100,r.a.emit(o.a.VimeoPlayer.TRACKING,this.playerInfos)))}},{key:"dispose",value:function(){n.a.unbind(this.id),this.$poster.removeEventListener("click",this.onClickPoster),this.player.destroy(),this.player=null,this.onCreatePlayer=this.addListeners=this.onClickPoster=this.play=this.pause=this.onEnd=this.stop=this.displayPoster=this.toggleMute=this.getPercentViewed=null,this.$playerContainer=this.$player=this.playerInfos=this.$poster=null,this.vimeoID=this.id=null,this.options=this.options.id=this.hasAutoplay=this.hasLoop=this.muted=this.hasPoster=this.hasPlayInline=this.hasTracking=null,this.isPlaying=this.canCreatePlayer=null}}])&&l(t.prototype,i),c&&l(t,c),e}();t.a=c},87:function(e,t,i){"use strict";var n=i(8);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=Object(n.b)({verbose:!0},t);this.canvas=document.createElement("canvas"),this.canvas.width=1,this.canvas.height=1,document.body.appendChild(this.canvas);var r=this.canvas.getContext("webgl",{stencil:!0});r||(r=this.canvas.getContext("experimental-webgl",{stencil:!0}));var o=!!r;this.gl=r,this.report={contextName:o,glVersion:r.getParameter(r.VERSION),shadingLanguageVersion:r.getParameter(r.SHADING_LANGUAGE_VERSION),vendor:r.getParameter(r.VENDOR),renderer:r.getParameter(r.RENDERER),unMaskedVendor:this.getUnmaskedInfo(r).vendor,unMaskedRenderer:this.getUnmaskedInfo(r).renderer,antialias:r.getContextAttributes().antialias?"Available":"Not available",angle:this.getAngle(r),majorPerformanceCaveat:this.getMajorPerformanceCaveat(o),maxColorBuffers:this.getMaxColorBuffers(r),redBits:r.getParameter(r.RED_BITS),greenBits:r.getParameter(r.GREEN_BITS),blueBits:r.getParameter(r.BLUE_BITS),alphaBits:r.getParameter(r.ALPHA_BITS),depthBits:r.getParameter(r.DEPTH_BITS),stencilBits:r.getParameter(r.STENCIL_BITS),maxRenderBufferSize:r.getParameter(r.MAX_RENDERBUFFER_SIZE),maxCombinedTextureImageUnits:r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS),maxCubeMapTextureSize:r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),maxFragmentUniformVectors:r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),maxTextureImageUnits:r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:r.getParameter(r.MAX_TEXTURE_SIZE),maxVaryingVectors:r.getParameter(r.MAX_VARYING_VECTORS),maxVertexAttributes:r.getParameter(r.MAX_VERTEX_ATTRIBS),maxVertexTextureImageUnits:r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexUniformVectors:r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),aliasedLineWidthRange:r.getParameter(r.ALIASED_LINE_WIDTH_RANGE),aliasedPointSizeRange:r.getParameter(r.ALIASED_POINT_SIZE_RANGE),maxViewportDimensions:r.getParameter(r.MAX_VIEWPORT_DIMS),maxAnisotropy:this.getMaxAnisotropy(),vertexShaderBestPrecision:this.getBestFloatPrecision(r.VERTEX_SHADER),fragmentShaderBestPrecision:this.getBestFloatPrecision(r.FRAGMENT_SHADER),fragmentShaderFloatIntPrecision:this.getFloatIntPrecision(r),extensions:r.getSupportedExtensions(),draftExtensionsInstructions:this.getDraftExtensionsInstructions()},this.report.platform=navigator.platform,this.report.userAgent=navigator.userAgent,this.report.webglVersion=1,this.canvas.parentNode.removeChild(this.canvas),this.canvas=null;var s=!0;this.report.aliasedPointSizeRange[1]>300||(s=!1),NSFW.goodGPU=s,i.verbose&&this.logReport()}var t,i,o;return t=e,(i=[{key:"logReport",value:function(){console.log("%cWebGL report","background-color:#888; padding:0px 10px; color:#fff;"),console.log(this.report),console.log("%cGPU status: ".concat(NSFW.goodGPU?"good":"not good"),"color:#888;")}},{key:"describeRange",value:function(e){return"["+e[0]+", "+e[1]+"]"}},{key:"getMaxAnisotropy",value:function(){var e=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic");if(e){var t=this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===t&&(t=2),t}return"n/a"}},{key:"formatPower",value:function(e,t){return t?""+Math.pow(2,e):"2<sup>"+e+"</sup>"}},{key:"getPrecisionDescription",value:function(e,t){var i=t?" bit mantissa":"";return"[-"+this.formatPower(e.rangeMin,t)+", "+this.formatPower(e.rangeMax,t)+"] ("+e.precision+i+")"}},{key:"getBestFloatPrecision",value:function(e){var t=this.gl.getShaderPrecisionFormat(e,this.gl.HIGH_FLOAT),i=this.gl.getShaderPrecisionFormat(e,this.gl.MEDIUM_FLOAT),n=this.gl.getShaderPrecisionFormat(e,this.gl.LOW_FLOAT),r=t;return 0===t.precision&&(r=i),"High: "+this.getPrecisionDescription(t,!0)+" | Medium: "+this.getPrecisionDescription(i,!0)+" | Low: "+this.getPrecisionDescription(n,!0)+'">'+this.getPrecisionDescription(r,!1)}},{key:"getFloatIntPrecision",value:function(e){var t=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_FLOAT),i=0!==t.precision?"highp/":"mediump/";return i+=0!==(t=this.gl.getShaderPrecisionFormat(this.gl.FRAGMENT_SHADER,this.gl.HIGH_INT)).rangeMax?"highp":"lowp"}},{key:"isPowerOfTwo",value:function(e){return 0!==e&&0==(e&e-1)}},{key:"getAngle",value:function(e){var t=this.describeRange(this.gl.getParameter(this.gl.ALIASED_LINE_WIDTH_RANGE));return"Win32"!==navigator.platform&&"Win64"!==navigator.platform||"Internet Explorer"===this.gl.getParameter(this.gl.RENDERER)||"Microsoft Edge"===this.gl.getParameter(this.gl.RENDERER)||t!==this.describeRange([1,1])?"No":this.isPowerOfTwo(this.gl.getParameter(this.gl.MAX_VERTEX_UNIFORM_VECTORS))&&this.isPowerOfTwo(this.gl.getParameter(this.gl.MAX_FRAGMENT_UNIFORM_VECTORS))?"Yes, D3D11":"Yes, D3D9"}},{key:"getMajorPerformanceCaveat",value:function(e){return this.canvas.parentNode||document.body.append(this.canavas),this.canvas.getContext(e,{failIfMajorPerformanceCaveat:!0})?void 0===this.gl.getContextAttributes().failIfMajorPerformanceCaveat?"Not implemented":"No":"Yes"}},{key:"getDraftExtensionsInstructions",value:function(){return-1!==navigator.userAgent.indexOf("Chrome")?'To see draft extensions in Chrome, browse to about:flags, enable the "Enable WebGL Draft Extensions" option, and relaunch.':-1!==navigator.userAgent.indexOf("Firefox")?"To see draft extensions in Firefox, browse to about:config and set web.gl.enable-draft-extensions to true.":""}},{key:"getMaxColorBuffers",value:function(e){var t=1,i=this.gl.getExtension("WEBGL_draw_buffers");return null!=i&&(t=this.gl.getParameter(i.MAX_DRAW_BUFFERS_WEBGL)),t}},{key:"getUnmaskedInfo",value:function(e){var t={renderer:"",vendor:""},i=this.gl.getExtension("WEBGL_debug_renderer_info");return null!=i&&(t.renderer=this.gl.getParameter(i.UNMASKED_RENDERER_WEBGL),t.vendor=this.gl.getParameter(i.UNMASKED_VENDOR_WEBGL)),t}},{key:"showNull",value:function(e){return null===e?"n/a":e}}])&&r(t.prototype,i),o&&r(t,o),e}();function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=Object(n.b)({limit:10,workerPath:"js/worker.js",verbose:!0,callback:null},t);if(NSFW.goodCPU=!1,this.time=1e4,!window.Worker||void 0===window.Worker)return console.warn("CPUTest: Web workers are not available."),void(i.callback&&i.callback());this.callback=i.callback,this.verbose=i.verbose,this.limit=i.limit,this.onMessage=this.onMessage.bind(this),this.onError=this.onError.bind(this),this.worker=new Worker(i.workerPath),this.worker.addEventListener("message",this.onMessage),this.worker.addEventListener("error",this.onError)}var t,i,r;return t=e,(i=[{key:"run",value:function(){this.worker&&this.worker.postMessage({id:Date.now(),message:{fn:"calculate"}})}},{key:"onError",value:function(e){console.error("CPUTest :: Error:",e),this.callback&&this.callback()}},{key:"onMessage",value:function(e){e&&(this.time=e.data.message.time),NSFW.goodCPU=this.time<this.limit,this.verbose&&this.logReport(),this.callback&&this.callback(this.time),this.dispose()}},{key:"logReport",value:function(){console.log("%cCPU status: ".concat(NSFW.goodCPU?"good":"not good"," (").concat(this.time,"ms)"),"color:#888")}},{key:"dispose",value:function(){this.worker.removeEventListener("message",this.onMessage),this.worker.removeEventListener("error",this.onError),this.worker.terminate(),this.worker=null,this.callback=null,this.onMessage=null,this.onError=null}}])&&s(t.prototype,i),r&&s(t,r),e}();function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),e}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.options=Object(n.b)({verbose:!0,cpu:!1,gpu:!1,callback:null},t);var i=new MobileDetect(window.navigator.userAgent);NSFW.isMobile=null!==i.phone(),NSFW.isTablet=null!==i.tablet(),NSFW.isDesktop=!NSFW.isTablet&&!NSFW.isMobile,this.device=NSFW.isMobile?"mobile":NSFW.isTablet?"tablet":"desktop",document.body.classList.add(this.device);var r=window.navigator.userAgent.toLowerCase();NSFW.isIE=-1!==this.getInternetExplorerVersion(),NSFW.isEdge=r.indexOf("edge")>-1,NSFW.isOpera=r.indexOf("opr/")>-1,NSFW.isChrome=!NSFW.isEdge&&!NSFW.isOpera&&(r.indexOf("chrome")>-1||r.indexOf("crios")>-1),NSFW.isSafari=!NSFW.isEdge&&!NSFW.isOpera&&!NSFW.isChrome&&r.indexOf("safari")>-1,NSFW.isFirefox=r.indexOf("firefox")>-1,this.browser=this.getBrowser(),document.body.classList.add(this.browser),NSFW.isWebGL=this.webGLAvailability(),NSFW.isWebGL&&this.options.gpu&&(this.gpu=new o({verbose:!1})),this.options.cpu&&(this.cpu=new a({verbose:!1,callback:this.report.bind(this)}),this.cpu.run()),!this.options.cpu&&this.options.verbose&&this.report()}return c(e,null,[{key:"check",value:function(t){e.instance||(e.instance=new e(t))}}]),c(e,[{key:"report",value:function(){this.options.verbose&&(console.groupCollapsed("Device Info"),console.log("Device: ",this.device),console.log("Browser: ",this.browser),console.log("WebGL: ",NSFW.isWebGL),this.gpu&&this.gpu.logReport(),this.cpu&&this.cpu.logReport(),console.groupEnd(),this.options.callback&&this.options.callback())}},{key:"getInternetExplorerVersion",value:function(){var e=-1,t=window.navigator.userAgent,i=window.navigator.appName;return"Microsoft Internet Explorer"===i?null!==new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)):"Netscape"===i&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e}},{key:"getBrowser",value:function(){var e={ie:NSFW.isIE,opera:NSFW.isOpera,chrome:NSFW.isChrome,safari:NSFW.isSafari,firefox:NSFW.isFirefox,edge:NSFW.isEdge};for(var t in e)if(Boolean(e[t]))return t;return"unknown"}},{key:"webGLAvailability",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}}]),e}();t.a=u},88:function(e,t,i){"use strict";var n=i(3);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t||console.error("DisplayObject :: view is not valid."),this.click=this.click.bind(this),this.over=this.over.bind(this),this.out=this.out.bind(this),this.view=t,this.position={x:0,y:0,z:0},this.rotation={x:0,y:0,z:0},this.scale={x:1,y:1},this.alpha=1}var t,i,n;return t=e,(i=[{key:"render",value:function(){this.view.style.transform=this.view.style.webkitTransform="translate3d(".concat(this.position.x,"px,").concat(this.position.y,"px,").concat(this.position.z,"px) scale(").concat(this.scale.x,",").concat(this.scale.y,") rotateX(").concat(this.rotation.x,"deg) rotateY(").concat(this.rotation.y,"deg) rotateZ(").concat(this.rotation.z,"deg)"),this.view.style.opacity=this.alpha}},{key:"click",value:function(e){}},{key:"over",value:function(e){}},{key:"out",value:function(e){}},{key:"interactive",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.view.addEventListener("click",this.click),this.view.addEventListener("mouseover",this.over),this.view.addEventListener("mouseout",this.out)):(this.view.removeEventListener("click",this.click),this.view.removeEventListener("mouseover",this.over),this.view.removeEventListener("mouseout",this.out))}},{key:"buttonMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.view.style.cursor=e?"pointer":null}},{key:"pivot",value:function(e){var t=e.x,i=void 0===t?0:t,n=e.y,r=void 0===n?0:n;this.view.style.transformOrigin="".concat(i,"% ").concat(r,"%")}},{key:"move",value:function(e){var t=e.x,i=void 0===t?0:t,n=e.y,r=void 0===n?0:n;this.view.style.left="".concat(i,"px"),this.view.style.top="".concat(r,"px")}},{key:"dispose",value:function(){this.interactive(!1),this.click=this.over=this.out=null}}])&&r(t.prototype,i),n&&r(t,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e,i){var r,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var h=new o(i),f={amplitude:200,smooth:.1,depth:NSFW.isMobile?2:1,axis:"y"};return(s=u(this,p(t).call(this,e,h.view,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},f,{},c)))).displayObject=h,s.interpolation=0,n.a.bind(s.id,(r=s).render.bind(r)),s.locate(),s.computeRatio(),s}var i,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),i=t,(r=[{key:"parallax",value:function(){this.computeRatio(),this.interpolation=this.ratio*-this.options.amplitude,"x"==this.options.axis?this.displayObject.position.x+=(this.interpolation-this.displayObject.position.x)*this.options.smooth:this.displayObject.position.y+=(this.interpolation-this.displayObject.position.y)*this.options.smooth}},{key:"computeRatio",value:function(){this.distance=NSFW.currentScrollTop+window.innerHeight-this.offsetTop,this.ratio=(Math.max(0,Math.min(this.distance/(window.innerHeight+this.viewHeight+window.innerHeight),1))-.5)*this.options.depth}},{key:"render",value:function(){this.parallax(),this.displayObject.render()}},{key:"locate",value:function(){h(p(t.prototype),"locate",this).call(this),this.viewHeight=this.view.offsetHeight}},{key:"dispose",value:function(){n.a.unbind(this.id),h(p(t.prototype),"dispose",this).call(this)}}])&&c(i.prototype,r),s&&c(i,s),t}(i(37).a);t.a=d},9:function(e,t,i){"use strict";(function(e){var n=i(36),r=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function s(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void u(t.promise,e)}c(t.promise,n)}else(1===e._state?c:u)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof a)return e._state=3,e._value=t,void h(e);if("function"==typeof i)return void f((n=i,r=t,function(){n.apply(r,arguments)}),e)}e._state=1,e._value=t,h(e)}catch(t){u(e,t)}var n,r}function u(e,t){e._state=2,e._value=t,h(e)}function h(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)l(e,e._deferreds[t]);e._deferreds=null}function p(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function f(e,t){var i=!1;try{e((function(e){i||(i=!0,c(t,e))}),(function(e){i||(i=!0,u(t,e))}))}catch(e){if(i)return;i=!0,u(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var i=new this.constructor(s);return l(this,new p(e,t,i)),i},a.prototype.finally=n.a,a.all=function(e){return new a((function(t,i){if(!o(e))return i(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var r=n.length;function s(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,(function(t){s(e,t)}),i)}n[e]=o,0==--r&&t(n)}catch(e){i(e)}}for(var a=0;a<n.length;a++)s(a,n[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,i){i(e)}))},a.race=function(e){return new a((function(t,i){if(!o(e))return i(new TypeError("Promise.race accepts an array"));for(var n=0,r=e.length;n<r;n++)a.resolve(e[n]).then(t,i)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,i(69).setImmediate)}});